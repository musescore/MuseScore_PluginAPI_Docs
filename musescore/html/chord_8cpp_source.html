<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MuseScore: libmscore/chord.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="musescore_logo_full.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MuseScore
   &#160;<span id="projectnumber">3.6</span>
   </div>
   <div id="projectbrief">Music composition and notation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2509ca22e4b78dc9c1fe9484874b85a6.html">libmscore</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">chord.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="chord_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//=============================================================================</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//  MuseScore</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//  Music Composition &amp; Notation</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//  Copyright (C) 2002-2013 Werner Schweer</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//  This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//  it under the terms of the GNU General Public License version 2</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//  as published by the Free Software Foundation and appearing in</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//  the file LICENCE.GPL</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//=============================================================================</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="chord_8h.html">chord.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="note_8h.html">note.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="xml_8h.html">xml.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2style_8h.html">style.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="segment_8h.html">segment.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="text_8h.html">text.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="measure_8h.html">measure.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="system_8h.html">system.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tuplet_8h.html">tuplet.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hook_8h.html">hook.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2tie_8h.html">tie.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="arpeggio_8h.html">arpeggio.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2score_8h.html">score.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tremolo_8h.html">tremolo.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="glissando_8h.html">glissando.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="staff_8h.html">staff.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2part_8h.html">part.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2utils_8h.html">utils.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="articulation_8h.html">articulation.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="undo_8h.html">undo.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="chordline_8h.html">chordline.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="lyrics_8h.html">lyrics.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="navigate_8h.html">navigate.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stafftype_8h.html">stafftype.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stem_8h.html">stem.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mscore_8h.html">mscore.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="accidental_8h.html">accidental.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="noteevent_8h.html">noteevent.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pitchspelling_8h.html">pitchspelling.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stemslash_8h.html">stemslash.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ledgerline_8h.html">ledgerline.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="drumset_8h.html">drumset.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="key_8h.html">key.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sym_8h.html">sym.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stringdata_8h.html">stringdata.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="beam_8h.html">beam.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="slur_8h.html">slur.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fingering_8h.html">fingering.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceMs.html">Ms</a> {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//   LedgerLineData</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structMs_1_1LedgerLineData.html">   58</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structMs_1_1LedgerLineData.html">LedgerLineData</a> {</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">   59</a></span>&#160;      <span class="keywordtype">int</span>   <a class="code" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">line</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structMs_1_1LedgerLineData.html#a63b3647107d7d7977e4976243f4c23e9">   60</a></span>&#160;      qreal <a class="code" href="structMs_1_1LedgerLineData.html#a63b3647107d7d7977e4976243f4c23e9">minX</a>, <a class="code" href="structMs_1_1LedgerLineData.html#a1d5cea4e9162e1cf889e48f5c818e433">maxX</a>;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structMs_1_1LedgerLineData.html#ad9515c025dc446064adecd7056116d07">   61</a></span>&#160;      <span class="keywordtype">bool</span>  <a class="code" href="structMs_1_1LedgerLineData.html#ad9515c025dc446064adecd7056116d07">visible</a>;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structMs_1_1LedgerLineData.html#a7f8a27bbe81d4c6e934754e049a438af">   62</a></span>&#160;      <span class="keywordtype">bool</span>  <a class="code" href="structMs_1_1LedgerLineData.html#a7f8a27bbe81d4c6e934754e049a438af">accidental</a>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      };</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">//   upNote</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">   69</a></span>&#160;<a class="code" href="classMs_1_1Note.html">Note</a>* <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">Chord::upNote</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      Q_ASSERT(!_notes.empty());</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <a class="code" href="classMs_1_1Note.html">Note</a>* result = _notes.back();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* stf = staff();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <span class="keywordflow">if</span> (!stf)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* st  = stf-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <span class="keywordflow">if</span> (st-&gt;<a class="code" href="classMs_1_1StaffType.html#af8652425c81c8cd73578895c1617e436">isDrumStaff</a>()) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : _notes) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                  <span class="keywordflow">if</span> (n-&gt;line() &lt; result-&gt;line()) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                        result = n;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                        }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                  }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>()) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">line</a> = st-&gt;<a class="code" href="classMs_1_1StaffType.html#a1f3e57f97fb721dca79f75d6611f394c">lines</a>() - 1;      <span class="comment">// start at bottom line</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordtype">int</span> noteLine;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="comment">// scan each note: if TAB strings are not in sequential order,</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="comment">// visual order of notes might not correspond to pitch order</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : _notes) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                  noteLine = st-&gt;<a class="code" href="classMs_1_1StaffType.html#ad6c27f91b390e86ffe8f963db51e64af">physStringToVisual</a>(n-&gt;string());</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                  <span class="keywordflow">if</span> (noteLine &lt; line) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                        line   = noteLine;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                        result = n;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                        }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                  }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">//   downNote</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">  106</a></span>&#160;<a class="code" href="classMs_1_1Note.html">Note</a>* <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">Chord::downNote</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      Q_ASSERT(!_notes.empty());</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <a class="code" href="classMs_1_1Note.html">Note</a>* result = _notes.front();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* stf = staff();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">if</span> (!stf)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* st  = stf-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordflow">if</span> (st-&gt;<a class="code" href="classMs_1_1StaffType.html#af8652425c81c8cd73578895c1617e436">isDrumStaff</a>()) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : _notes) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                  <span class="keywordflow">if</span> (n-&gt;line() &gt; result-&gt;line()) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        result = n;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                        }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                  }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>()) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">line</a>        = 0;      <span class="comment">// start at top line</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordtype">int</span> noteLine;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="comment">// scan each note: if TAB strings are not in sequential order,</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="comment">// visual order of notes might not correspond to pitch order</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : _notes) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                  noteLine = st-&gt;<a class="code" href="classMs_1_1StaffType.html#ad6c27f91b390e86ffe8f963db51e64af">physStringToVisual</a>(n-&gt;string());</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                  <span class="keywordflow">if</span> (noteLine &gt; line) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                        line = noteLine;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                        result = n;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                        }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                  }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">//   upLine / downLine</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a501f54373f115942906156cd4d17e7d1">  143</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classMs_1_1Chord.html#a501f54373f115942906156cd4d17e7d1">Chord::upLine</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">return</span> onTabStaff() ? upString()*2 : upNote()-&gt;line();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a834c480b1e0de160c0696778c9088a14">  148</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classMs_1_1Chord.html#a834c480b1e0de160c0696778c9088a14">Chord::downLine</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">return</span> onTabStaff() ? downString()*2 : downNote()-&gt;line();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">//   upString / downString</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">//    return the topmost / bottommost string used by chord</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">//    Top and bottom refer to the DRAWN position, not the position in the instrument</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">//    (i.e., upside-down TAB are taken into account)</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">//    If no staff, always return 0</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">//    If staf is not a TAB, always returns TOP and BOTTOM staff lines</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#aa7666a2f4db2c35a828a90a013fbadc6">  164</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classMs_1_1Chord.html#aa7666a2f4db2c35a828a90a013fbadc6">Chord::upString</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="comment">// if no staff or staff not a TAB, return 0 (=topmost line)</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st = staff();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">if</span> (!st)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* tab = st-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">if</span> (!tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>())</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordtype">int</span>       <a class="code" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">line</a> = tab-&gt;<a class="code" href="classMs_1_1StaffType.html#a1f3e57f97fb721dca79f75d6611f394c">lines</a>() - 1;      <span class="comment">// start at bottom line</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordtype">int</span>                     noteLine;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="comment">// scan each note: if TAB strings are not in sequential order,</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="comment">// visual order of notes might not correspond to pitch order</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordtype">size_t</span> n = _notes.size();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            noteLine = tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ad6c27f91b390e86ffe8f963db51e64af">physStringToVisual</a>(_notes.at(i)-&gt;string());</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">if</span> (noteLine &lt; line)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                  line = noteLine;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">line</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#aaf9bb50408c17fa91c3b1f199bd6a77a">  188</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classMs_1_1Chord.html#aaf9bb50408c17fa91c3b1f199bd6a77a">Chord::downString</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st = staff();</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">if</span> (!st)                                         <span class="comment">// if no staff, return 0</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* tab = st-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">if</span> (!tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>())                <span class="comment">// if staff not a TAB, return bottom line</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">return</span> st-&gt;<a class="code" href="classMs_1_1Staff.html#a1a4d5789b71d29fd2e7c05311638aa7b">lines</a>(<a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>())-1;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">line</a> = 0;         <span class="comment">// start at top line</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordtype">int</span> noteLine;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordtype">size_t</span> n = _notes.size();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            noteLine = tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ad6c27f91b390e86ffe8f963db51e64af">physStringToVisual</a>(_notes.at(i)-&gt;string());</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> (noteLine &gt; line)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                  line = noteLine;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">line</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">//   Chord</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a75f4c6582156c012aa0e95c68603a871">  213</a></span>&#160;<a class="code" href="classMs_1_1Chord.html#a75f4c6582156c012aa0e95c68603a871">Chord::Chord</a>(<a class="code" href="classMs_1_1Score.html">Score</a>* s)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   : <a class="code" href="classMs_1_1ChordRest.html">ChordRest</a>(s)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>      = 0;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>             = 0;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>             = 0;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <a class="code" href="classMs_1_1Chord.html#ad6580a129c87fa819e2e615e79b36939">_stemDirection</a>    = <a class="code" href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6ae1f2d5134ed2543d38a0de9751cf75d9">Direction::AUTO</a>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>         = 0;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>          = 0;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="classMs_1_1Chord.html#afafd30fd179d67a4f488d619e28fa416">_endsGlissando</a>    = <span class="keyword">false</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a>         = <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>        = 0;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a7f1661cd105ba06f03f23d01f8087f83">_noStem</a>           = <span class="keyword">false</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <a class="code" href="classMs_1_1Chord.html#ae6537c2f627d64a0a1cfe5fe925063f7">_playEventType</a>    = <a class="code" href="namespaceMs.html#a3ca11c21f2fe66a8c8efc1bf0d75ccf2a06b9281e396db002010bde1de57262eb">PlayEventType::Auto</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a>          = 0.;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>          = 0.;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#a31164d5f203926c37f06a5ae8832793d">_crossMeasure</a>     = <a class="code" href="namespaceMs.html#aa793e7d1cf7b4a3a8f4950c659655dd3a696b031073e74bf2cb98e5ef201d4aa3">CrossMeasure::UNKNOWN</a>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a3a1b3c9e57686405465b91c1be322ad7">_graceIndex</a>   = 0;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#afc8a027ccb337c1371147942100032d2">  233</a></span>&#160;<a class="code" href="classMs_1_1Chord.html#a75f4c6582156c012aa0e95c68603a871">Chord::Chord</a>(<span class="keyword">const</span> <a class="code" href="classMs_1_1Chord.html">Chord</a>&amp; c, <span class="keywordtype">bool</span> link)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   : <a class="code" href="classMs_1_1ChordRest.html">ChordRest</a>(c, link)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">if</span> (link)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1Link.html">Link</a>(<span class="keyword">this</span>, const_cast&lt;Chord*&gt;(&amp;c)));</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a> = 0;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* onote : c.<a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* nnote = <span class="keyword">new</span> <a class="code" href="classMs_1_1Note.html">Note</a>(*onote, link);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(nnote);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* gn : c.<a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>()) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <a class="code" href="classMs_1_1Chord.html">Chord</a>* nc = <span class="keyword">new</span> <a class="code" href="classMs_1_1Chord.html#a75f4c6582156c012aa0e95c68603a871">Chord</a>(*gn, link);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(nc);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : c.<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>) {    <span class="comment">// make deep copy</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <a class="code" href="classMs_1_1Articulation.html">Articulation</a>* na = <span class="keyword">new</span> <a class="code" href="classMs_1_1Articulation.html">Articulation</a>(*a);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">if</span> (link)</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                  na-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a1dad93f0591eb31f69854e8f141b051e">linkTo</a>(a);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            na-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            na-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.append(na);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>          = 0;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>          = 0;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <a class="code" href="classMs_1_1Chord.html#afafd30fd179d67a4f488d619e28fa416">_endsGlissando</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>      = 0;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>     = 0;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>       = 0;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a3a1b3c9e57686405465b91c1be322ad7">_graceIndex</a>     = c.<a class="code" href="classMs_1_1Chord.html#a3a1b3c9e57686405465b91c1be322ad7">_graceIndex</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a7f1661cd105ba06f03f23d01f8087f83">_noStem</a>         = c.<a class="code" href="classMs_1_1Chord.html#a7f1661cd105ba06f03f23d01f8087f83">_noStem</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <a class="code" href="classMs_1_1Chord.html#ae6537c2f627d64a0a1cfe5fe925063f7">_playEventType</a>  = c.<a class="code" href="classMs_1_1Chord.html#ae6537c2f627d64a0a1cfe5fe925063f7">_playEventType</a>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <a class="code" href="classMs_1_1Chord.html#ad6580a129c87fa819e2e615e79b36939">_stemDirection</a>  = c.<a class="code" href="classMs_1_1Chord.html#ad6580a129c87fa819e2e615e79b36939">_stemDirection</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a>       = c.<a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#a31164d5f203926c37f06a5ae8832793d">_crossMeasure</a>   = <a class="code" href="namespaceMs.html#aa793e7d1cf7b4a3a8f4950c659655dd3a696b031073e74bf2cb98e5ef201d4aa3">CrossMeasure::UNKNOWN</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">if</span> (c.<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1Stem.html">Stem</a>(*(c.<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>)));</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">if</span> (c.<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1Hook.html">Hook</a>(*(c.<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>)));</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">if</span> (c.<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1StemSlash.html">StemSlash</a>(*(c.<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>)));</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">if</span> (c.<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="classMs_1_1Arpeggio.html">Arpeggio</a>* a = <span class="keyword">new</span> <a class="code" href="classMs_1_1Arpeggio.html">Arpeggio</a>(*(c.<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>));</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(a);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">if</span> (link)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1Link.html">Link</a>(a, const_cast&lt;Arpeggio*&gt;(c.<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)));</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">if</span> (c.<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>* t = <span class="keyword">new</span> <a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>(*(c.<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">if</span> (link)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1Link.html">Link</a>(t, const_cast&lt;Tremolo*&gt;(c.<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>)));</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">if</span> (c.<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">twoNotes</a>()) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                  <span class="keywordflow">if</span> (c.<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>() == &amp;c)</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        t-&gt;<a class="code" href="classMs_1_1Tremolo.html#ae23f822657ab2477a8ad0d203e44569f">setChords</a>(<span class="keyword">this</span>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                        t-&gt;<a class="code" href="classMs_1_1Tremolo.html#ae23f822657ab2477a8ad0d203e44569f">setChords</a>(<span class="keyword">nullptr</span>, <span class="keyword">this</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                  }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(t);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : c.<a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>()) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keywordflow">if</span> (e-&gt;isChordLine()) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                  <a class="code" href="classMs_1_1ChordLine.html">ChordLine</a>* cl = toChordLine(e);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                  <a class="code" href="classMs_1_1ChordLine.html">ChordLine</a>* ncl = <span class="keyword">new</span> <a class="code" href="classMs_1_1ChordLine.html">ChordLine</a>(*cl);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(ncl);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                  <span class="keywordflow">if</span> (link)</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                        <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1Link.html">Link</a>(ncl, cl));</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                  }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">//   undoUnlink</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#abe158a1edb003070a8844814b2998e7a">  310</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#abe158a1edb003070a8844814b2998e7a">Chord::undoUnlink</a>()</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#af7d952577507bd43a7c5368805af6491">ChordRest::undoUnlink</a>();</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            n-&gt;undoUnlink();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* gn : <a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>())</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            gn-&gt;undoUnlink();</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : qAsConst(<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>))</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            a-&gt;undoUnlink();</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">/*      if (_glissando)</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">            _glissando-&gt;undoUnlink(); */</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a994f2abd8df02a160c7055b0cae26c87">undoUnlink</a>();</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> &amp;&amp; !<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">twoNotes</a>())</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a994f2abd8df02a160c7055b0cae26c87">undoUnlink</a>();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>()) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">if</span> (e-&gt;type() == <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eace00c7704ec09c488a4557c123a23119">ElementType::CHORDLINE</a>)</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                  e-&gt;undoUnlink();</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">//   ~Chord</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ac7b95b8022eb8391c94b5b1e9a90ee05">  336</a></span>&#160;<a class="code" href="classMs_1_1Chord.html#ac7b95b8022eb8391c94b5b1e9a90ee05">Chord::~Chord</a>()</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      qDeleteAll(<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>() == <span class="keyword">this</span>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                  <a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>* tremoloPointer = <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>; <span class="comment">// setTremolo(0) loses reference to the current pointer</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">chord2</a>())</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">chord2</a>()-&gt;<a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(0);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                  <span class="keyword">delete</span> tremoloPointer;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                  }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>())) <span class="comment">// delete orphaned tremolo</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                  <span class="keyword">delete</span> <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* ll = <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>; ll;) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* llNext = ll-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a8ef8a7098d17bc07ee5a8d06ec81270d">next</a>();</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keyword">delete</span> ll;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            ll = llNext;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      qDeleteAll(<a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      qDeleteAll(<a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">//   noteHeadWidth</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#aaf02e3bace32fb436790d4fbe5d62875">  366</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#aaf02e3bace32fb436790d4fbe5d62875">Chord::noteHeadWidth</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      qreal nhw = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#aebf61ce48548d4c61db23b0d94e184ae">noteHeadWidth</a>();</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> != <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a>)</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            nhw *= <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eacf91555d502f169a47dcd9db66a88590">Sid::graceNoteMag</a>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordflow">return</span> nhw * <a class="code" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">mag</a>();</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">//   stemPosX</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">//    return Chord coordinates. Based on nominal notehead</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a660983b43143b9a1aa6d883e39d0fc81">  379</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#a660983b43143b9a1aa6d883e39d0fc81">Chord::stemPosX</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* stf = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* st = stf ? stf-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>) : 0;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">if</span> (st &amp;&amp; st-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>())</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">return</span> st-&gt;<a class="code" href="classMs_1_1StaffType.html#a8c3babe2c79455987254d9d809c109b9">chordStemPosX</a>(<span class="keyword">this</span>) * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> ? <a class="code" href="classMs_1_1Chord.html#aaf02e3bace32fb436790d4fbe5d62875">noteHeadWidth</a>() : 0.0;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">//   stemPos</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">//    return page coordinates</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#aadbf45e4cc8747dd4bbdf585c5fdddb7">  393</a></span>&#160;QPointF <a class="code" href="classMs_1_1Chord.html#aadbf45e4cc8747dd4bbdf585c5fdddb7">Chord::stemPos</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      QPointF p(<a class="code" href="classMs_1_1Chord.html#ae09938e55d32b1e62c0b0c4d85dcb812">pagePos</a>());</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* stf = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* st = stf ? stf-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>) : 0;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="keywordflow">if</span> (st &amp;&amp; st-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>())</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordflow">return</span> st-&gt;<a class="code" href="classMs_1_1StaffType.html#aff6734454edd84c11694f21802162925">chordStemPos</a>(<span class="keyword">this</span>) * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>() + p;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a>) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            qreal nhw = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size() == 1 ? <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#ad55c1e54b156996f2b1d211c31eb7df9">bboxRightPos</a>() : <a class="code" href="classMs_1_1Chord.html#aaf02e3bace32fb436790d4fbe5d62875">noteHeadWidth</a>();</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            p.rx() += nhw;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            p.ry() += <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y();</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            p.ry() += <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y();</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">return</span> p;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">//   stemPosBeam</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">//    return stem position of note on beam side</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">//    return page coordinates</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a5a39e1a7e07ba8e10101dd970dcb04d9">  418</a></span>&#160;QPointF <a class="code" href="classMs_1_1Chord.html#a5a39e1a7e07ba8e10101dd970dcb04d9">Chord::stemPosBeam</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      qreal _spatium = <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      QPointF p(<a class="code" href="classMs_1_1Chord.html#ae09938e55d32b1e62c0b0c4d85dcb812">pagePos</a>());</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* stf = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* st = stf ? stf-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>) : 0;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">if</span> (st &amp;&amp; st-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>())</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordflow">return</span> st-&gt;<a class="code" href="classMs_1_1StaffType.html#ab204303b66d4dfb1177b7b44e28f615e">chordStemPosBeam</a>(<span class="keyword">this</span>) * _spatium + p;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a>) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            qreal nhw = <a class="code" href="classMs_1_1Chord.html#aaf02e3bace32fb436790d4fbe5d62875">noteHeadWidth</a>();</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            p.rx() += nhw;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            p.ry() += <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y();</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            p.ry() += <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y();</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keywordflow">return</span> p;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">//   rightEdge</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a4c94c4e5f74c1f4ef7a80961204466b7">  444</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#a4c94c4e5f74c1f4ef7a80961204466b7">Chord::rightEdge</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      qreal right = 0.0;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>())</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            right = qMax(right, <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a>() + n-&gt;x() + n-&gt;bboxRightPos());</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <span class="keywordflow">return</span> right;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">//   setTremolo</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">  456</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">Chord::setTremolo</a>(<a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>* tr)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> &amp;&amp; tr &amp;&amp; tr == <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">twoNotes</a>()) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                  <a class="code" href="classMs_1_1TDuration.html">TDuration</a> d;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                  <span class="keyword">const</span> <a class="code" href="classMs_1_1Fraction.html">Fraction</a> f = <a class="code" href="classMs_1_1DurationElement.html#abd480ba4d052d040db56e1e504cf2596">ticks</a>();</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                  <span class="keywordflow">if</span> (f.<a class="code" href="classMs_1_1Fraction.html#ac96ad0e3adbd7cac5e8f7264702178ff">numerator</a>() &gt; 0)</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                        d = <a class="code" href="classMs_1_1TDuration.html">TDuration</a>(f);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                        d = <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#a23cf430a9d6e8ad39d064e21183c06b8">durationType</a>();</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a> = d.<a class="code" href="classMs_1_1TDuration.html#af124a72ad48a794523039afbcdd9e695">dots</a>();</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                        d = d.<a class="code" href="classMs_1_1TDuration.html#af3a0508526f75ba00001668f5be9c91a">shift</a>(1);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                        d.<a class="code" href="classMs_1_1TDuration.html#af111928e25b26476ec35a3300aed2eec">setDots</a>(dots);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                        }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#adc6b9aa10c0b149eea492432ceeb3ce3">setDurationType</a>(d);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* other = <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>() == <span class="keyword">this</span> ? <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">chord2</a>() : <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>();</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                  <span class="keywordflow">if</span> (other)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                        other-&gt;<a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                  }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">if</span> (tr) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">if</span> (tr-&gt;<a class="code" href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">twoNotes</a>()) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                  <a class="code" href="classMs_1_1TDuration.html">TDuration</a> d = tr-&gt;<a class="code" href="classMs_1_1Tremolo.html#a23cf430a9d6e8ad39d064e21183c06b8">durationType</a>();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                  <span class="keywordflow">if</span> (!d.<a class="code" href="classMs_1_1TDuration.html#a2535725d2eb2060f255dda68d6d62d8a">isValid</a>()) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                        d = <a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>();</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a> = d.<a class="code" href="classMs_1_1TDuration.html#af124a72ad48a794523039afbcdd9e695">dots</a>();</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                        d = d.<a class="code" href="classMs_1_1TDuration.html#af3a0508526f75ba00001668f5be9c91a">shift</a>(-1);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                        d.<a class="code" href="classMs_1_1TDuration.html#af111928e25b26476ec35a3300aed2eec">setDots</a>(dots);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                        tr-&gt;<a class="code" href="classMs_1_1Tremolo.html#aef76600b52257b418be50efb1cf2e702">setDurationType</a>(d);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                        }</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#adc6b9aa10c0b149eea492432ceeb3ce3">setDurationType</a>(d);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* other = tr-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>() == <span class="keyword">this</span> ? tr-&gt;<a class="code" href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">chord2</a>() : tr-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>();</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> = tr;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                  <span class="keywordflow">if</span> (other)</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                        other-&gt;<a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(tr);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                  }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> = tr;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">//   add</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">  513</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">Chord::add</a>(<a class="code" href="classMs_1_1Element.html">Element</a>* e)</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      e-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      e-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">switch</span>(e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">type</a>()) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aeccc894c5a64aba67bbfaf8fe1b755d5a10de4bc81f754b19b0d27246a0589c05">ElementType::NOTE</a>:</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                  {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* note = toNote(e);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                  <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                  <span class="comment">// _notes should be sorted by line position,</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                  <span class="comment">// but it&#39;s often not yet possible since line is unknown</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                  <span class="comment">// use pitch instead, and line as a second sort criteria.</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> idx = 0; idx &lt; <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size(); ++idx) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                        <span class="keywordflow">if</span> (note-&gt;<a class="code" href="classMs_1_1Note.html#adb609dbbd1f11ba96c09c01d49fa63bd">pitch</a>() &lt;= <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>[idx]-&gt;pitch()) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                              <span class="keywordflow">if</span> (note-&gt;<a class="code" href="classMs_1_1Note.html#adb609dbbd1f11ba96c09c01d49fa63bd">pitch</a>() == <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>[idx]-&gt;pitch() &amp;&amp; note-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>() &gt;= <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>[idx]-&gt;line())</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                                    <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.insert(<a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.begin()+idx+1, note);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                              <span class="keywordflow">else</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                                    <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.insert(<a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.begin()+idx, note);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                              found = <span class="keyword">true</span>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                              }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                        }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                  <span class="keywordflow">if</span> (!found)</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.push_back(note);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                  note-&gt;<a class="code" href="classMs_1_1Note.html#ae98ee8a14611a1e180507a38bdb6cf7e">connectTiedNotes</a>();</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a7e7ba0487a1113884ed218ba74c6a7d6">voice</a>() &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() &amp;&amp; note-&gt;<a class="code" href="classMs_1_1Element.html#a9f91ce44289781c10fbaab9f5867d387">visible</a>())</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;<a class="code" href="classMs_1_1Measure.html#ac1ee1ce30118d3a7aa965f297c76bd28">setHasVoices</a>(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                  }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ab35c14f602fd1936a0f223df94639f37">setPlaylistDirty</a>();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a0dc5c02ab9adfa308008caeaa39d0ea3">ElementType::ARPEGGIO</a>:</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a> = toArpeggio(e);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a8699b57ba7b0ea3fc6471ada80b8e4f8">ElementType::TREMOLO</a>:</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(toTremolo(e));</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847aac3aa8aad78d6744cebe7c0413e8112d">ElementType::GLISSANDO</a>:</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#afafd30fd179d67a4f488d619e28fa416">_endsGlissando</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea2295e0750a84297532f2a8197bb76b5e">ElementType::STEM</a>:</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                  Q_ASSERT(!<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a> = toStem(e);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea4fc7c674d2aacbcda1284deb756f8490">ElementType::HOOK</a>:</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a> = toHook(e);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eace00c7704ec09c488a4557c123a23119">ElementType::CHORDLINE</a>:</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>().push_back(e);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea8407f5e0edf097483903c1061ff4da91">ElementType::STEM_SLASH</a>:</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                  Q_ASSERT(!<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a> = toStemSlash(e);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea45d886b842022787183a308e0200d336">ElementType::CHORD</a>:</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                  {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* gc = toChord(e);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                  Q_ASSERT(gc-&gt;<a class="code" href="classMs_1_1Chord.html#a480cf37fc1ac8fe3b97381dd8035552e">noteType</a>() != <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a>);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                  <span class="keywordtype">int</span> idx = gc-&gt;<a class="code" href="classMs_1_1Chord.html#af06982dd365f177a7101a32043edf665">graceIndex</a>();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                  gc-&gt;<a class="code" href="classMs_1_1Element.html#afbd51224c47d00551983d1b25f3c6f39">setFlag</a>(<a class="code" href="namespaceMs.html#a02cda2a18206af7dc3efbd0db9142e22a8b4ed667c4c4cfec1e5bf403f1b5b089">ElementFlag::MOVABLE</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>.insert(<a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>.begin() + idx, gc);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                  }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea9cdd0897168a5685d46386930d13dbe4">ElementType::LEDGER_LINE</a>:</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                  qFatal(<span class="stringliteral">&quot;Chord::add ledgerline&quot;</span>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eacb3f068f057caa10e7caa198e7661e44">ElementType::ARTICULATION</a>:</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                  {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                  <a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a = toArticulation(e);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                  <span class="keywordflow">if</span> (a-&gt;<a class="code" href="classMs_1_1Articulation.html#a5d0484b76c9b7660e31ea3beb06670da">layoutCloseToNote</a>()) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                        <span class="keyword">auto</span> i = <a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.begin();</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                        <span class="keywordflow">while</span> (i != <a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.end() &amp;&amp; (*i)-&gt;layoutCloseToNote())</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                              i++;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.insert(i, a);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                        }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.push_back(a);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                  }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#a5ea14351e92562c2439ac0a357c38f93">ChordRest::add</a>(e);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">//   remove</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a68b1fd6dd0a9d1bb28c7746b37bd8157">  603</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a68b1fd6dd0a9d1bb28c7746b37bd8157">Chord::remove</a>(<a class="code" href="classMs_1_1Element.html">Element</a>* e)</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="keywordflow">if</span> (!e)</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="keywordflow">switch</span> (e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">type</a>()) {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aeccc894c5a64aba67bbfaf8fe1b755d5a10de4bc81f754b19b0d27246a0589c05">ElementType::NOTE</a>:</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                  {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* note = toNote(e);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                  <span class="keyword">auto</span> i = std::find(<a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.begin(), <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.end(), note);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                  <span class="keywordflow">if</span> (i != <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.end()) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.erase(i);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                        note-&gt;<a class="code" href="classMs_1_1Note.html#ab44f03e5f7f0e72cccf3be5d218de402">disconnectTiedNotes</a>();</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                        <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Spanner.html">Spanner</a>* s : note-&gt;<a class="code" href="classMs_1_1Note.html#a7e2a07630dad78f0911a16be88e16729">spannerBack</a>())</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                              note-&gt;<a class="code" href="classMs_1_1Note.html#a97575ef0255cb4b9cde48b6c8730a00f">removeSpannerBack</a>(s);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                        <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Spanner.html">Spanner</a>* s : note-&gt;<a class="code" href="classMs_1_1Note.html#ad85cf645f375f12d682c28243dedf029">spannerFor</a>())</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                              note-&gt;<a class="code" href="classMs_1_1Note.html#a8079a2be644aa231ba874647bbd871fd">removeSpannerFor</a>(s);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                        }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                        qDebug(<span class="stringliteral">&quot;Chord::remove() note %p not found!&quot;</span>, e);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a7e7ba0487a1113884ed218ba74c6a7d6">voice</a>() &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() &amp;&amp; note-&gt;<a class="code" href="classMs_1_1Element.html#a9f91ce44289781c10fbaab9f5867d387">visible</a>())</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;<a class="code" href="classMs_1_1Measure.html#aef2c1170f14dd5ba1a773c2d7e28d067">checkMultiVoices</a>(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>());</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ab35c14f602fd1936a0f223df94639f37">setPlaylistDirty</a>();</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                  }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a0dc5c02ab9adfa308008caeaa39d0ea3">ElementType::ARPEGGIO</a>:</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a> = 0;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a8699b57ba7b0ea3fc6471ada80b8e4f8">ElementType::TREMOLO</a>:</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847aac3aa8aad78d6744cebe7c0413e8112d">ElementType::GLISSANDO</a>:</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#afafd30fd179d67a4f488d619e28fa416">_endsGlissando</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea2295e0750a84297532f2a8197bb76b5e">ElementType::STEM</a>:</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a> = 0;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea4fc7c674d2aacbcda1284deb756f8490">ElementType::HOOK</a>:</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a> = 0;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea8407f5e0edf097483903c1061ff4da91">ElementType::STEM_SLASH</a>:</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                  Q_ASSERT(<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>-&gt;<a class="code" href="classMs_1_1Element.html#ae4f2f3a774def87e608afd55ef29b3e9">selected</a>() &amp;&amp; <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>())</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                        <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ac6710dc304e8f163b23b002ea1000b00">deselect</a>(<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a> = 0;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eace00c7704ec09c488a4557c123a23119">ElementType::CHORDLINE</a>:</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>().<a class="code" href="classMs_1_1ElementList.html#ace6e9dd48aaec6c43014153b4697d9e3">remove</a>(e);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea45d886b842022787183a308e0200d336">ElementType::CHORD</a>:</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                  {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                  <span class="keyword">auto</span> i = std::find(<a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>.begin(), <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>.end(), toChord(e));</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* grace = *i;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                  grace-&gt;<a class="code" href="classMs_1_1Chord.html#a643e00aa9abd778e85588e422a2622d2">setGraceIndex</a>(i - <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>.begin());</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>.erase(i);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                  }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eacb3f068f057caa10e7caa198e7661e44">ElementType::ARTICULATION</a>:</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                  {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                  <a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a = toArticulation(e);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.removeOne(a))</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                        qDebug(<span class="stringliteral">&quot;ChordRest::remove(): articulation not found&quot;</span>);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                  }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#a488cf820c912a7eb8fd1d4f80cb74e7a">ChordRest::remove</a>(e);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">//   maxHeadWidth</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#af47aefd8b662abf70a13344dc31bad07">  678</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#af47aefd8b662abf70a13344dc31bad07">Chord::maxHeadWidth</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="comment">// determine max head width in chord</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      qreal hw = 0;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* n : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            qreal t = n-&gt;headWidth();</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <span class="keywordflow">if</span> (t &gt; hw)</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                  hw = t;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordflow">return</span> hw;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">//   addLedgerLines</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ac6de5396245de170e0755ff569862fd8">  694</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#ac6de5396245de170e0755ff569862fd8">Chord::addLedgerLines</a>()</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="comment">// initialize for palette</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>          = 0;                   <span class="comment">// the track lines belong to</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="comment">// the line pos corresponding to the bottom line of the staff</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="keywordtype">int</span> lineBelow      = 8;                   <span class="comment">// assuming 5-lined &quot;staff&quot;</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      qreal lineDistance = 1;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      qreal <a class="code" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">mag</a>         = 1;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordtype">bool</span> staffVisible  = <span class="keyword">true</span>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordtype">int</span> stepOffset = 0;                       <span class="comment">// for staff type changes with a step offset</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()) { <span class="comment">//not palette</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <a class="code" href="classMs_1_1Fraction.html">Fraction</a> <a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a> = <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>();</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordtype">int</span> idx       = <a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>() + <a class="code" href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">staffMove</a>();</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            track         = <a class="code" href="namespaceMs.html#a9b94748a1c466ed6e89f2c80e57b644b">staff2track</a>(idx);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <a class="code" href="classMs_1_1Staff.html">Staff</a>* st     = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad1de1c246a7f35e5b63781630e3c7d58">staff</a>(idx);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            lineBelow     = (st-&gt;<a class="code" href="classMs_1_1Staff.html#a1a4d5789b71d29fd2e7c05311638aa7b">lines</a>(tick) - 1) * 2;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            lineDistance  = st-&gt;<a class="code" href="classMs_1_1Staff.html#a74445d56eed54f6c4d22c5ba301a531f">lineDistance</a>(tick);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            mag           = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#a80aa5db67223dff29e9113f23865b62b">mag</a>(tick);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            staffVisible  = !<a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#ae2030e1febd41fe2fff7e8f56a75b424">invisible</a>(tick);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            stepOffset = st-&gt;<a class="code" href="classMs_1_1Staff.html#ad248bef7f25a4fe152ce281372a24d3f">staffType</a>(tick)-&gt;<a class="code" href="classMs_1_1StaffType.html#ae0ffb4991a51dd2715b6a7104f4caca3">stepOffset</a>();</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="comment">// need ledger lines?</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a834c480b1e0de160c0696778c9088a14">downLine</a>() + stepOffset &lt;= lineBelow + 1 &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a501f54373f115942906156cd4d17e7d1">upLine</a>() + stepOffset &gt;= -1)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="comment">// the extra length of a ledger line with respect to notehead (half of it on each side)</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      qreal extraLen = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ead3a95911641db612363b3985d386e7f7">Sid::ledgerLineLength</a>) * <a class="code" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">mag</a>;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      qreal hw;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      qreal minX, maxX;                         <span class="comment">// note extrema in raster units</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordtype">int</span>   minLine, maxLine;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordtype">bool</span>  <a class="code" href="classMs_1_1Element.html#a9f91ce44289781c10fbaab9f5867d387">visible</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="comment">// scan chord notes, collecting visibility and x and y extrema</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="comment">// NOTE: notes are sorted from bottom to top (line no. decreasing)</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="comment">// notes are scanned twice from outside (bottom or top) toward the staff</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="comment">// each pass stops at the first note without ledger lines</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordtype">size_t</span> n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size();</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; 2; j++) {             <span class="comment">// notes are scanned twice...</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keywordtype">int</span> from, delta;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            std::vector&lt;LedgerLineData&gt; vecLines;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            hw = 0.0;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            minX  = maxX = 0;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            minLine = 0;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            maxLine = lineBelow;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="keywordflow">if</span> (j == 0) {                       <span class="comment">// ...once from lowest up...</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                  from  = 0;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                  delta = +1;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                  }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                  from = int(n)-1;                   <span class="comment">// ...once from highest down</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                  delta = -1;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                  }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = from; i &lt; int(n) &amp;&amp; i &gt;= 0 ; i += delta) {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* note = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.at(i);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                  <span class="keywordtype">int</span> l = note-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>() + stepOffset;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                  <span class="comment">// if 1st pass and note not below staff or 2nd pass and note not above staff</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                  <span class="keywordflow">if</span> ((!j &amp;&amp; l &lt;= lineBelow + 1) || (j &amp;&amp; l &gt;= -1))</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                        <span class="keywordflow">break</span>;                  <span class="comment">// stop this pass</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                  <span class="comment">// round line number to even number toward 0</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                  <span class="keywordflow">if</span> (l &lt; 0)</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                        l = (l + 1) &amp; ~ 1;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                        l = l &amp; ~ 1;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                  <span class="keywordflow">if</span> (note-&gt;<a class="code" href="classMs_1_1Element.html#a9f91ce44289781c10fbaab9f5867d387">visible</a>())          <span class="comment">// if one note is visible,</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        visible = <span class="keyword">true</span>;         <span class="comment">// all lines between it and the staff are visible</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                  hw = qMax(hw, note-&gt;<a class="code" href="classMs_1_1Note.html#a43dfad32ea3c1f8e2b56e810cd7bfa6e">headWidth</a>());</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                  <span class="comment">//</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                  <span class="comment">// Experimental:</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                  <span class="comment">//  shorten ledger line to avoid collisions with accidentals</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                  <span class="comment">//</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                  <span class="comment">// bool accid = (note-&gt;accidental() &amp;&amp; note-&gt;line() &gt;= (l-1) &amp;&amp; note-&gt;line() &lt;= (l+1) );</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                  <span class="comment">//</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                  <span class="comment">// TODO : do something with this accid flag in the following code!</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                  <span class="comment">//</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                  <span class="comment">// check if note horiz. pos. is outside current range</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                  <span class="comment">// if more length on the right, increase range</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">//                  note-&gt;layout();</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                  <span class="comment">//ledger lines need the leftmost point of the notehead with a respect of bbox</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                  x = note-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().x() + note-&gt;<a class="code" href="classMs_1_1Note.html#aa038eaaa0da98e2d9f88b8c9267d0d24">bboxXShift</a>();</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                  <span class="keywordflow">if</span> (x - extraLen &lt; minX) {</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                        minX  = x - extraLen;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                        <span class="comment">// increase width of all lines between this one and the staff</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; d : vecLines) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                              <span class="keywordflow">if</span> (!d.accidental &amp;&amp; ((l &lt; 0 &amp;&amp; d.line &gt;= l) || (l &gt; 0 &amp;&amp; d.line &lt;= l)) )</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                    d.minX = minX ;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                              }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                        }</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                  <span class="comment">// same for left side</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                  <span class="keywordflow">if</span> (x + hw + extraLen &gt; maxX) {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                        maxX = x + hw + extraLen;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; d : vecLines)</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                              <span class="keywordflow">if</span> ( (l &lt; 0 &amp;&amp; d.line &gt;= l) || (l &gt; 0 &amp;&amp; d.line &lt;= l) )</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                    d.maxX = maxX;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                        }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                  <a class="code" href="structMs_1_1LedgerLineData.html">LedgerLineData</a> lld;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                  <span class="comment">// check if note vert. pos. is outside current range</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                  <span class="comment">// and, if so, add data for new line(s)</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                  <span class="keywordflow">if</span> (l &lt; minLine) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1 = l; i1 &lt; minLine; i1 += 2) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">line</a> = i1;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#a63b3647107d7d7977e4976243f4c23e9">minX</a> = minX;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#a1d5cea4e9162e1cf889e48f5c818e433">maxX</a> = maxX;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#ad9515c025dc446064adecd7056116d07">visible</a> = <a class="code" href="classMs_1_1Element.html#a9f91ce44289781c10fbaab9f5867d387">visible</a>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#a7f8a27bbe81d4c6e934754e049a438af">accidental</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                              vecLines.push_back(lld);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                              }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                        minLine = l;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                        }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                  <span class="keywordflow">if</span> (l &gt; maxLine) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1 = maxLine+2; i1 &lt;= l; i1 += 2) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">line</a> = i1;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#a63b3647107d7d7977e4976243f4c23e9">minX</a> = minX;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#a1d5cea4e9162e1cf889e48f5c818e433">maxX</a> = maxX;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#ad9515c025dc446064adecd7056116d07">visible</a> = <a class="code" href="classMs_1_1Element.html#a9f91ce44289781c10fbaab9f5867d387">visible</a>;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                              lld.<a class="code" href="structMs_1_1LedgerLineData.html#a7f8a27bbe81d4c6e934754e049a438af">accidental</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                              vecLines.push_back(lld);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                              }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                        maxLine = l;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                        }</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                  }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            <span class="keywordflow">if</span> (minLine &lt; 0 || maxLine &gt; lineBelow) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                  qreal _spatium = <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                  qreal stepDistance = lineDistance * 0.5;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">auto</span> lld : vecLines) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                        <a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* h = <span class="keyword">new</span> <a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                        h-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                        h-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(track);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                        h-&gt;<a class="code" href="classMs_1_1Element.html#a41438f8c28ffb2eb06d55de8360c1969">setVisible</a>(lld.visible &amp;&amp; staffVisible);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                        h-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a9a416a9e9fe2f67024e44c138f297621">setLen</a>(lld.maxX - lld.minX);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                        h-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(lld.minX, lld.line * _spatium * stepDistance);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                        h-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a6784a680197432e2cb49ea50eba790cf">setNext</a>(<a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a> = h;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                        }</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                  }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* ll = <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>; ll; ll = ll-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a8ef8a7098d17bc07ee5a8d06ec81270d">next</a>())</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            ll-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a185f3e1a81dedace6753770879c3882f">layout</a>();</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      }</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">//   computeUp</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">//    rules:</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">//      single note:</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">//          All notes beneath the middle line: upward stems</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">//          All notes on or above the middle line: downward stems</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">//      two notes:</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">//          If the interval above the middle line is greater than the interval</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">//             below the middle line: downward stems</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">//          If the interval below the middle line is greater than the interval</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">//             above the middle line: upward stems</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">//          If the two notes are the same distance from the middle line:</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">//             stem can go in either direction. but most engravers prefer</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">//             downward stems</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">//      &gt; two notes:</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">//          If the interval of the highest note above the middle line is greater</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">//             than the interval of the lowest note below the middle line:</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">//             downward stems</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">//          If the interval of the lowest note below the middle line is greater</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">//             than the interval of the highest note above the middle line:</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">//             upward stem</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">//          If the highest and the lowest notes are the same distance from</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">//          the middle line:, use these rules to determine stem direction:</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">//             - If the majority of the notes are above the middle:</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">//               downward stems</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">//             - If the majority of the notes are below the middle:</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">//               upward stems</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">//    TABlatures:</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">//       stems beside staves:</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">//          All stems are up / down according to TAB::stemsDown() setting</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">//       stems through staves:</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">//          Same rules as per pitched staves</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a33b64f9292f5e20eb55a8013e977b722">  876</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a33b64f9292f5e20eb55a8013e977b722">Chord::computeUp</a>()</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      Q_ASSERT(!<a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.empty());</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* tab = st ? st-&gt;staffTypeForElement(<span class="keyword">this</span>) : 0;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="keywordtype">bool</span> tabStaff  = tab &amp;&amp; tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>();</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <span class="comment">// TAB STAVES</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="keywordflow">if</span> (tabStaff) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <span class="comment">// if no stems or stem beside staves</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ae8d236c87bd0001434557efb501c13fc">stemless</a>() || !tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ab58bb2c64cfe98ac2da35e4d1fde492e">stemThrough</a>()) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                  <span class="comment">// if measure has voices, set stem direction according to voice</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;<a class="code" href="classMs_1_1Measure.html#acef2a5afe6db83509657e7fcdb03a08e">hasVoices</a>(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>(), <a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>(), <a class="code" href="classMs_1_1DurationElement.html#a3791beed710457022daf6619f31a1eeb">actualTicks</a>()))</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = !(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() % 2);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                  <span class="keywordflow">else</span>                          <span class="comment">// if only voice 1,</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                        <span class="comment">// unconditionally set to down if not stems or according to TAB stem direction otherwise</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                        <span class="comment">// (even with no stems, stem direction controls position of slurs and ties)</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ae8d236c87bd0001434557efb501c13fc">stemless</a>() ? false : !tab-&gt;<a class="code" href="classMs_1_1StaffType.html#a8e1bad2308ff2498a7a22a8bb1674241">stemsDown</a>();</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                  }</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <span class="comment">// if TAB has stems through staves, chain into standard processing</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            }</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="comment">// PITCHED STAVES (or TAB with stems through staves)</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad6580a129c87fa819e2e615e79b36939">_stemDirection</a> != <a class="code" href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6ae1f2d5134ed2543d38a0de9751cf75d9">Direction::AUTO</a>)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = <a class="code" href="classMs_1_1Chord.html#ad6580a129c87fa819e2e615e79b36939">_stemDirection</a> == <a class="code" href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6afbaedde498cdead4f2780217646e9ba1">Direction::UP</a>;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>())</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <span class="comment">// hack for palette and drumset editor</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>() &gt; 4;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> != <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a>) {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="comment">// stem direction for grace notes</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;hasVoices(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>(), <a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>(), <a class="code" href="classMs_1_1DurationElement.html#a3791beed710457022daf6619f31a1eeb">actualTicks</a>()))</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = !(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() % 2);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">staffMove</a>())</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = <a class="code" href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">staffMove</a>() &gt; 0;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;<a class="code" href="classMs_1_1Measure.html#acef2a5afe6db83509657e7fcdb03a08e">hasVoices</a>(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>(), <a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>(), <a class="code" href="classMs_1_1DurationElement.html#a3791beed710457022daf6619f31a1eeb">actualTicks</a>()))</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = !(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() % 2);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <span class="keywordtype">int</span>   dnMaxLine   = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#ac277b6d652a8c274e66baf5908ec320c">middleLine</a>(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>());</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            <span class="keywordtype">int</span>   ud          = (tabStaff ? <a class="code" href="classMs_1_1Chord.html#aa7666a2f4db2c35a828a90a013fbadc6">upString</a>() * 2 : <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>() ) - dnMaxLine;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="comment">// standard case: if only 1 note or cross beaming</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size() == 1 || <a class="code" href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">staffMove</a>()) {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">staffMove</a>() &gt; 0)</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">staffMove</a>() &lt; 0)</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = ud &gt; 0;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                  }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="comment">// if more than 1 note, compare extrema (topmost and bottommost notes)</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                  <span class="keywordtype">int</span> dd = (tabStaff ? <a class="code" href="classMs_1_1Chord.html#aaf9bb50408c17fa91c3b1f199bd6a77a">downString</a>() * 2 : <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>() ) - dnMaxLine;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                  <span class="comment">// if extrema symmetrical, average directions of intermediate notes</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                  <span class="keywordflow">if</span> (-ud == dd) {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a> = 0;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                        <span class="keywordtype">size_t</span> n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size();</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* currentNote = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.at(i);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                              <span class="keywordtype">int</span> l = tabStaff ? currentNote-&gt;<a class="code" href="classMs_1_1Note.html#aa5068302dd057f7cd18cdf561b75d18f">string</a>() * 2 : currentNote-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>();</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                              <span class="keywordflow">if</span> (l &lt;= dnMaxLine)</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                                    --<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                              <span class="keywordflow">else</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                                    ++<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                              }</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = up &gt; 0;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                        }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                  <span class="comment">// if extrema not symmetrical, set _up to prevailing</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a> = dd &gt; -ud;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                  }</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">//   selectedNote</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ace8797d2ee2406c3c6a58f011e6b3e04">  957</a></span>&#160;<a class="code" href="classMs_1_1Note.html">Note</a>* <a class="code" href="classMs_1_1Chord.html#ace8797d2ee2406c3c6a58f011e6b3e04">Chord::selectedNote</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <a class="code" href="classMs_1_1Note.html">Note</a>* note = 0;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="keywordtype">size_t</span> n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size();</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* currentNote = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.at(i);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <span class="keywordflow">if</span> (currentNote-&gt;<a class="code" href="classMs_1_1Element.html#ae4f2f3a774def87e608afd55ef29b3e9">selected</a>()) {</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                  <span class="keywordflow">if</span> (note)</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                  note = currentNote;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                  }</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            }</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="keywordflow">return</span> note;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      }</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">//   Chord::write</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a3f7d846cb9ebf231bc0afd9d52835bdf">  976</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a3f7d846cb9ebf231bc0afd9d52835bdf">Chord::write</a>(<a class="code" href="classMs_1_1XmlWriter.html">XmlWriter</a>&amp; xml)<span class="keyword"> const</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* c : <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>) {</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            c-&gt;write(xml);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#a2ce32f0f61ef4c72ae6e823dc2c88d4d">writeBeam</a>(xml);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      xml.<a class="code" href="classMs_1_1XmlWriter.html#ae0325cf8d1fc68e75ad12d447f7babcd">stag</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#aa16f7cda08b815e078d628c491f6709a">ChordRest::writeProperties</a>(xml);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : <a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>)</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            a-&gt;write(xml);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a>) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a>:</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2ae039fd845669d8f1ba177be951be17c8">NoteType::ACCIACCATURA</a>:</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                  xml.<a class="code" href="classMs_1_1XmlWriter.html#aeef558c426437cf25fc276c6a17b1732">tagE</a>(<span class="stringliteral">&quot;acciaccatura&quot;</span>);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a2a1dc26af8b64e2f3f230090d918837c">NoteType::APPOGGIATURA</a>:</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                  xml.<a class="code" href="classMs_1_1XmlWriter.html#aeef558c426437cf25fc276c6a17b1732">tagE</a>(<span class="stringliteral">&quot;appoggiatura&quot;</span>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2ae80cb44d4b8a0b53e5156a914e54f062">NoteType::GRACE4</a>:</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                  xml.<a class="code" href="classMs_1_1XmlWriter.html#aeef558c426437cf25fc276c6a17b1732">tagE</a>(<span class="stringliteral">&quot;grace4&quot;</span>);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a0753b2cda2bb413db134fa6acc0b60c2">NoteType::GRACE16</a>:</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                  xml.<a class="code" href="classMs_1_1XmlWriter.html#aeef558c426437cf25fc276c6a17b1732">tagE</a>(<span class="stringliteral">&quot;grace16&quot;</span>);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a041a6576108c698d49d54b7603d34271">NoteType::GRACE32</a>:</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                  xml.<a class="code" href="classMs_1_1XmlWriter.html#aeef558c426437cf25fc276c6a17b1732">tagE</a>(<span class="stringliteral">&quot;grace32&quot;</span>);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a19a7279a0e29931de860939b2edf8845">NoteType::GRACE8_AFTER</a>:</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                  xml.<a class="code" href="classMs_1_1XmlWriter.html#aeef558c426437cf25fc276c6a17b1732">tagE</a>(<span class="stringliteral">&quot;grace8after&quot;</span>);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a4f51b3dfd7d5aa76dcac592ed95e3370">NoteType::GRACE16_AFTER</a>:</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                  xml.<a class="code" href="classMs_1_1XmlWriter.html#aeef558c426437cf25fc276c6a17b1732">tagE</a>(<span class="stringliteral">&quot;grace16after&quot;</span>);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2af58b08678e3a4828ca3fdae016ff814b">NoteType::GRACE32_AFTER</a>:</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                  xml.<a class="code" href="classMs_1_1XmlWriter.html#aeef558c426437cf25fc276c6a17b1732">tagE</a>(<span class="stringliteral">&quot;grace32after&quot;</span>);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a7f1661cd105ba06f03f23d01f8087f83">_noStem</a>)</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            xml.<a class="code" href="classMs_1_1XmlWriter.html#afb51750cf3661499da4a824113a780e1">tag</a>(<span class="stringliteral">&quot;noStem&quot;</span>, <a class="code" href="classMs_1_1Chord.html#a7f1661cd105ba06f03f23d01f8087f83">_noStem</a>);</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a> &amp;&amp; (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#aa8c81e3444c2166a739fb31ca1bffe4e">isUserModified</a>() || (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Stem.html#af0f2327127f571dfe3c07a8565a31a5c">userLen</a>() != 0.0)))</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Stem.html#a81ddcc690c22a7a0255c1fd7188f02de">write</a>(xml);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a> &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#aa8c81e3444c2166a739fb31ca1bffe4e">isUserModified</a>())</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Symbol.html#a70daf1a52e84fcbb1ae34929859ced94">write</a>(xml);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a> &amp;&amp; <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>-&gt;<a class="code" href="classMs_1_1Element.html#aa8c81e3444c2166a739fb31ca1bffe4e">isUserModified</a>())</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>-&gt;<a class="code" href="classMs_1_1Element.html#a7298ea80b152246289da660cca217ad1">write</a>(xml);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <a class="code" href="classMs_1_1ScoreElement.html#a4ae6e7e095b8f672951ffc30f980c45d">writeProperty</a>(xml, <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918">Pid::STEM_DIRECTION</a>);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>)</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            n-&gt;write(xml);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Arpeggio.html#a8f1a747193a967bfae49d9e33e969c24">write</a>(xml);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> &amp;&amp; <a class="code" href="classMs_1_1Chord.html#ab6d9f107efd82271221360d272035288">tremoloChordType</a>() != <a class="code" href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36af24d38ace0aa2b2391d8dd2e313a88ac">TremoloChordType::TremoloSecondNote</a>)</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#a82740f62ec5e31066d69677550d15fd3">write</a>(xml);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>())</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            e-&gt;write(xml);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      xml.<a class="code" href="classMs_1_1XmlWriter.html#a1002621a3dc238212f19d2e345ca3a72">etag</a>();</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">//   Chord::read</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a574cec05d2711e9ed02e8ddd9e4d0123"> 1041</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a574cec05d2711e9ed02e8ddd9e4d0123">Chord::read</a>(<a class="code" href="classMs_1_1XmlReader.html">XmlReader</a>&amp; e)</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="keywordflow">while</span> (e.readNextStartElement()) {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a58158af60d26094dea8eb778222e6d44">readProperties</a>(e))</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                  ;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                  e.<a class="code" href="classMs_1_1XmlReader.html#a7711a261ee2243237d7f055c99bc1d96">unknown</a>();</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            }</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">//   readProperties</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a58158af60d26094dea8eb778222e6d44"> 1055</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1Chord.html#a58158af60d26094dea8eb778222e6d44">Chord::readProperties</a>(<a class="code" href="classMs_1_1XmlReader.html">XmlReader</a>&amp; e)</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="keyword">const</span> QStringRef&amp; <a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a>(e.name());</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;Note&quot;</span>) {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* note = <span class="keyword">new</span> <a class="code" href="classMs_1_1Note.html">Note</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="comment">// the note needs to know the properties of the track it belongs to</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            note-&gt;<a class="code" href="classMs_1_1Note.html#a2a2dbb3c57df09b6f783254bbab05ce4">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            note-&gt;<a class="code" href="classMs_1_1Note.html#a4c0e30bba76a1838189fa6ab117122ca">setChord</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            note-&gt;<a class="code" href="classMs_1_1Note.html#a34fcc408905091e3b2cb6d74720585a0">read</a>(e);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(note);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#aa8d9ee5c08abea6855480d2f208a0c80">ChordRest::readProperties</a>(e))</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            ;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;Stem&quot;</span>) {</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <a class="code" href="classMs_1_1Stem.html">Stem</a>* s = <span class="keyword">new</span> <a class="code" href="classMs_1_1Stem.html">Stem</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            s-&gt;<a class="code" href="classMs_1_1Stem.html#a92025e177b61830d49fd43fd7ccbe168">read</a>(e);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(s);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;Hook&quot;</span>) {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a> = <span class="keyword">new</span> <a class="code" href="classMs_1_1Hook.html">Hook</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Symbol.html#a18cdf55bf00a27df92cf4938f9683bef">read</a>(e);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;appoggiatura&quot;</span>) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> = <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a2a1dc26af8b64e2f3f230090d918837c">NoteType::APPOGGIATURA</a>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            e.readNext();</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            }</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;acciaccatura&quot;</span>) {</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> = <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2ae039fd845669d8f1ba177be951be17c8">NoteType::ACCIACCATURA</a>;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            e.readNext();</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;grace4&quot;</span>) {</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> = <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2ae80cb44d4b8a0b53e5156a914e54f062">NoteType::GRACE4</a>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            e.readNext();</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            }</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;grace16&quot;</span>) {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> = <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a0753b2cda2bb413db134fa6acc0b60c2">NoteType::GRACE16</a>;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            e.readNext();</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;grace32&quot;</span>) {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> = <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a041a6576108c698d49d54b7603d34271">NoteType::GRACE32</a>;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            e.readNext();</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;grace8after&quot;</span>) {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> = <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a19a7279a0e29931de860939b2edf8845">NoteType::GRACE8_AFTER</a>;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            e.readNext();</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;grace16after&quot;</span>) {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> = <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a4f51b3dfd7d5aa76dcac592ed95e3370">NoteType::GRACE16_AFTER</a>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            e.readNext();</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            }</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;grace32after&quot;</span>) {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> = <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2af58b08678e3a4828ca3fdae016ff814b">NoteType::GRACE32_AFTER</a>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            e.readNext();</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;StemSlash&quot;</span>) {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <a class="code" href="classMs_1_1StemSlash.html">StemSlash</a>* ss = <span class="keyword">new</span> <a class="code" href="classMs_1_1StemSlash.html">StemSlash</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            ss-&gt;<a class="code" href="classMs_1_1Element.html#a36da47af8aac2c422a2bc3eb91f8ac4f">read</a>(e);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(ss);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            }</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ScoreElement.html#a8b3be86196659c2e0fb6ed86256cb0fe">readProperty</a>(<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a>, e, <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918">Pid::STEM_DIRECTION</a>))</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            ;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;noStem&quot;</span>)</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a7f1661cd105ba06f03f23d01f8087f83">_noStem</a> = e.<a class="code" href="classMs_1_1XmlReader.html#a2fa825cb5155311203dae047b695a6ed">readInt</a>();</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;Arpeggio&quot;</span>) {</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a> = <span class="keyword">new</span> <a class="code" href="classMs_1_1Arpeggio.html">Arpeggio</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Arpeggio.html#a207a3e62783e69c3ccefc853ccda508b">read</a>(e);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            }</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;Tremolo&quot;</span>) {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> = <span class="keyword">new</span> <a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#ab7c270434babde33fa3682feb21d68ca">read</a>(e);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#aef76600b52257b418be50efb1cf2e702">setDurationType</a>(<a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>());</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            }</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;tickOffset&quot;</span>)       <span class="comment">// obsolete</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            ;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">tag</a> == <span class="stringliteral">&quot;ChordLine&quot;</span>) {</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <a class="code" href="classMs_1_1ChordLine.html">ChordLine</a>* cl = <span class="keyword">new</span> <a class="code" href="classMs_1_1ChordLine.html">ChordLine</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            cl-&gt;<a class="code" href="classMs_1_1ChordLine.html#a994a352fdc212032d2f31c32243ef78d">read</a>(e);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(cl);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">//   upPos</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ada06a8f84e26de36b4273d278b04a343"> 1149</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#ada06a8f84e26de36b4273d278b04a343">Chord::upPos</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y();</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      }</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">//   downPos</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div><div class="line"><a name="l01158"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ab2dc3b88a557f2beae50424865f068c5"> 1158</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#ab2dc3b88a557f2beae50424865f068c5">Chord::downPos</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y();</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      }</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment">//   centerX</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">//    return x position for attributes</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#aa8125d376017d1808b2ab0211dd7937c"> 1168</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#aa8125d376017d1808b2ab0211dd7937c">Chord::centerX</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="comment">// TAB &#39;notes&#39; are always centered on the stem</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* stt = st-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordflow">if</span> (stt-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>())</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            <span class="keywordflow">return</span> stt-&gt;<a class="code" href="classMs_1_1StaffType.html#a8c3babe2c79455987254d9d809c109b9">chordStemPosX</a>(<span class="keyword">this</span>) * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* note = <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>() : <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>();</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a> = note-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().x() + note-&gt;<a class="code" href="classMs_1_1Note.html#ac66fa59296b4aafe704d271383c67b50">noteheadCenterX</a>();</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordflow">if</span> (note-&gt;<a class="code" href="classMs_1_1Note.html#a015e1e0a27a32eef6070e3fc45a682fe">mirror</a>())</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                  x += (note-&gt;<a class="code" href="classMs_1_1Note.html#aaa31b11917139c63c6dc4a46f939b95f">headBodyWidth</a>()) * (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? -1.0 : 1.0);</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      }</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">//   scanElements</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#aa035b495357473c043b6857af648dc1a"> 1187</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#aa035b495357473c043b6857af648dc1a">Chord::scanElements</a>(<span class="keywordtype">void</span>* data, <span class="keywordtype">void</span> (*func)(<span class="keywordtype">void</span>*, <a class="code" href="classMs_1_1Element.html">Element</a>*), <span class="keywordtype">bool</span> all)</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : qAsConst(<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>))</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            func(data, a);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>)</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            func(data, <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a> );</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>)</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            func(data, <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>)</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            func(data, <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            func(data, <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> &amp;&amp; (<a class="code" href="classMs_1_1Chord.html#ab6d9f107efd82271221360d272035288">tremoloChordType</a>() != <a class="code" href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36af24d38ace0aa2b2391d8dd2e313a88ac">TremoloChordType::TremoloSecondNote</a>))</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            func(data, <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <span class="keywordflow">if</span> ((st &amp;&amp; st-&gt;<a class="code" href="classMs_1_1Staff.html#a25ce8bb520ebfc30dabda01530a61d89">showLedgerLines</a>(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>())) || !st)       <span class="comment">// also for palette</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* ll = <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>; ll; ll = ll-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a8ef8a7098d17bc07ee5a8d06ec81270d">next</a>())</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                  func(data, ll);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <span class="keywordtype">size_t</span> n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size();</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i)</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.at(i)-&gt;scanElements(data, func, all);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* chord : qAsConst(<a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>))</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            chord-&gt;scanElements(data, func, all);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>())</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            e-&gt;scanElements(data, func, all);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#aed272c2a7398d2dae1f6e5316ce9c505">ChordRest::scanElements</a>(data, func, all);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment">//   processSiblings</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div><div class="line"><a name="l01219"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a5bcddfe45a491f0f1d90794783438177"> 1219</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a5bcddfe45a491f0f1d90794783438177">Chord::processSiblings</a>(std::function&lt;<span class="keywordtype">void</span>(<a class="code" href="classMs_1_1Element.html">Element</a>*)&gt; func)<span class="keyword"> const</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>)</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            func(<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>)</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            func(<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>)</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            func(<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            func(<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>)</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            func(<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* ll = <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>; ll; ll = ll-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a8ef8a7098d17bc07ee5a8d06ec81270d">next</a>())</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            func(ll);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : <a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>)</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            func(a);</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>)</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            func(note);</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>())</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            func(e);</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* chord : <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>)    <span class="comment">// process grace notes last, needed for correct shape calculation</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            func(chord);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      }</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment">//   setTrack</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a9ef10daa63efa6b649084a4be6abe196"> 1247</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a9ef10daa63efa6b649084a4be6abe196">Chord::setTrack</a>(<span class="keywordtype">int</span> val)</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#ac50a2989556e5cd55b71ca4c98067492">ChordRest::setTrack</a>(val);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a5bcddfe45a491f0f1d90794783438177">processSiblings</a>([val] (<a class="code" href="classMs_1_1Element.html">Element</a>* e) { e-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(val); } );</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      }</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment">//   setScore</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div><div class="line"><a name="l01257"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ae05cf93a2d8078f40e79da811017deb4"> 1257</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#ae05cf93a2d8078f40e79da811017deb4">Chord::setScore</a>(<a class="code" href="classMs_1_1Score.html">Score</a>* s)</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      {</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#abf9774dbe43a1012f09ede1b8352edd2">ChordRest::setScore</a>(s);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a5bcddfe45a491f0f1d90794783438177">processSiblings</a>([s] (<a class="code" href="classMs_1_1Element.html">Element</a>* e) { e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a6a1e59c49777e28459d2270981fc97df">setScore</a>(s); } );</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      }</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment">//   hookAdjustment</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment">//    Adjustment to the length of the stem in order to accommodate hooks</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">//    This function replaces this bit of code:</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">//      switch (hookIdx) {</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment">//            case 3: normalStemLen += small() ? .5  : 0.75; break; //32nd notes</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="comment">//            case 4: normalStemLen += small() ? 1.0 : 1.5;  break; //64th notes</span></div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment">//            case 5: normalStemLen += small() ? 1.5 : 2.25; break; //128th notes</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="comment">//            }</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="comment">//    which was not sufficient for two reasons:</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment">//      1. It only lengthened the stem for 3, 4, or 5 hooks.</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment">//      2. It was too general to produce good results for all combinations of factors.</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="comment">//    This provides a way to take a number of factors into account. Further tweaking may be in order.</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div><div class="line"><a name="l01278"></a><span class="lineno"><a class="line" href="namespaceMs.html#a4fd0ad4ad911c317136de2bdf5e40234"> 1278</a></span>&#160;qreal <a class="code" href="namespaceMs.html#a4fd0ad4ad911c317136de2bdf5e40234">hookAdjustment</a>(QString font, <span class="keywordtype">int</span> hooks, <span class="keywordtype">bool</span> <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>, <span class="keywordtype">bool</span> <a class="code" href="classMs_1_1ChordRest.html#a260e9896d5323993e2ba87c40f60d5ce">small</a>)</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      {</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="keywordtype">bool</span> fallback = <a class="code" href="classMs_1_1MScore.html#a8ced5e60a13414aea24dc6d2259c554d">MScore::useFallbackFont</a> &amp;&amp; (hooks &gt; 5);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <span class="keywordflow">if</span> (font == <span class="stringliteral">&quot;Emmentaler&quot;</span> &amp;&amp; !fallback) {</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            <span class="keywordflow">if</span> (up) {</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                  <span class="keywordflow">if</span> (hooks &gt; 2)</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                        <span class="keywordflow">return</span> (hooks - 2) * (small ? .75 : 1);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                  }</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                  <span class="keywordflow">if</span> (hooks == 3)</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                        <span class="keywordflow">return</span> (small ? .75 : 1);</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hooks &gt; 3)</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                        <span class="keywordflow">return</span> (hooks - 2) * (small ? .5 : .75);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                  }</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (font == <span class="stringliteral">&quot;Gonville&quot;</span> &amp;&amp; !fallback) {</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            <span class="keywordflow">if</span> (up) {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                  <span class="keywordflow">if</span> (hooks &gt; 2)</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                        <span class="keywordflow">return</span> (hooks - 2) * (small ? .5 : .75);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                  }</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                  <span class="keywordflow">if</span> (hooks &gt; 1)</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                        <span class="keywordflow">return</span> (hooks - 1) * (small ? .5 : .75);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                  }</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            }</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (font == <span class="stringliteral">&quot;MuseJazz&quot;</span>) {</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            <span class="keywordflow">if</span> (hooks &gt; 2)</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                  <span class="keywordflow">return</span> (hooks - 2) * (small ? .75 : 1);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            }</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <span class="keywordflow">if</span> (hooks &gt; 2)</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                  <span class="keywordflow">return</span> (hooks - 2) * (small ? .5 : .75);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            }</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment">//   defaultStemLength</span><span class="comment"></span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment">///   Get the default stem length for this chord</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment"></span><span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01320"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#afcabc1e16d9a86233f01f052ff8b0295"> 1320</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#afcabc1e16d9a86233f01f052ff8b0295">Chord::defaultStemLength</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <a class="code" href="classMs_1_1Note.html">Note</a>* downnote;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      qreal stemLen;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      qreal _spatium     = <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordtype">int</span> hookIdx        = <a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1TDuration.html#a11652d3de9232ccf4fb664758fecfaf3">hooks</a>();</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      downnote           = <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>();</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <span class="keywordtype">int</span> ul             = <a class="code" href="classMs_1_1Chord.html#a501f54373f115942906156cd4d17e7d1">upLine</a>();</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordtype">int</span> dl             = <a class="code" href="classMs_1_1Chord.html#a834c480b1e0de160c0696778c9088a14">downLine</a>();</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st    = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      qreal lineDistance = st ? st-&gt;<a class="code" href="classMs_1_1Staff.html#a74445d56eed54f6c4d22c5ba301a531f">lineDistance</a>(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>()) : 1.0;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* stt = st ? st-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>) : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* tab = (stt &amp;&amp; stt-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>()) ? stt : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="keywordflow">if</span> (tab) {</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="comment">// require stems only if TAB is not stemless and this chord has a stem</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <span class="keywordflow">if</span> (!tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ae8d236c87bd0001434557efb501c13fc">stemless</a>() &amp;&amp; <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>) {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                  <span class="comment">// if stems are beside staff, apply special formatting</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                  <span class="keywordflow">if</span> (!tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ab58bb2c64cfe98ac2da35e4d1fde492e">stemThrough</a>()) {</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                        <span class="comment">// process stem:</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                        <span class="keywordflow">return</span> tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ac0189828ce7ef909320a45aa6f9a8644">chordStemLength</a>(<span class="keyword">this</span>) * _spatium;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                        }</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                  }</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            }</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lineDistance != 1.0) {</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            <span class="comment">// convert to actual distance from top of staff in sp</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="comment">// ul *= lineDistance;</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;            <span class="comment">// dl *= lineDistance;</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            }</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <span class="keywordflow">if</span> (tab &amp;&amp; !tab-&gt;<a class="code" href="classMs_1_1StaffType.html#af45a9aadd8ee7ec2943a1ecc4ab9d0e3">onLines</a>()) {       <span class="comment">// if TAB and frets above strings, move 1 position up</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            --ul;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            --dl;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            }</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaa3cb4b3e95327d8961cf69f040d60f4d">shortenStem</a> = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a369f7689a1a21e8b0aa07e5bbacb3d76">styleB</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaa3cb4b3e95327d8961cf69f040d60f4d">Sid::shortenStem</a>);</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <span class="keywordflow">if</span> (hookIdx &gt;= 2 || <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>)</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            shortenStem = <span class="keyword">false</span>;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <a class="code" href="classMs_1_1Spatium.html">Spatium</a> progression = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea08ccce115f7a209d8b31c159d08ac4b5">Sid::shortStemProgression</a>);</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      qreal shortest      = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea2c725c51bee6a640df19c3f6df6a4a39">Sid::shortestStem</a>).<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>();</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="keywordflow">if</span> (hookIdx) {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>())</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                  shortest = qMax(shortest, <a class="code" href="classMs_1_1ChordRest.html#a260e9896d5323993e2ba87c40f60d5ce">small</a>() ? 2.0 : 3.0);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                  shortest = qMax(shortest, <a class="code" href="classMs_1_1ChordRest.html#a260e9896d5323993e2ba87c40f60d5ce">small</a>() ? 2.25 : 3.5);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            }</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      qreal normalStemLen = <a class="code" href="classMs_1_1ChordRest.html#a260e9896d5323993e2ba87c40f60d5ce">small</a>() ? 2.5 : 3.5;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="keywordflow">if</span> (hookIdx &amp;&amp; tab == 0) {</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() &amp;&amp; <a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a>()) {</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                  <span class="comment">//</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                  <span class="comment">// avoid collision of dot with hook</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                  <span class="comment">//</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                  <span class="keywordflow">if</span> (!(ul &amp; 1))</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                        normalStemLen += .5;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                  shortenStem = <span class="keyword">false</span>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                  }</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            }</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a6071a1241456ef93c8a06c62269090a7">isGrace</a>()) {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <span class="comment">// grace notes stems are not subject to normal</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <span class="comment">// stem rules</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            stemLen =  qAbs(ul - dl) * .5;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            stemLen += normalStemLen * <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eacf91555d502f169a47dcd9db66a88590">Sid::graceNoteMag</a>);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>())</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                  stemLen *= -1;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            }</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            <span class="comment">// normal note (not grace)</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            qreal staffHeight = st ? st-&gt;<a class="code" href="classMs_1_1Staff.html#a1a4d5789b71d29fd2e7c05311638aa7b">lines</a>(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>()) - 1 : 4;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            <span class="keywordflow">if</span> (!tab)</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                  staffHeight *= lineDistance;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            qreal staffHlfHgt = staffHeight * 0.5;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>()) {                   <span class="comment">// stem up</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                  qreal dy  = dl * .5;                      <span class="comment">// note-side vert. pos.</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                  qreal sel = ul * .5 - normalStemLen;      <span class="comment">// stem end vert. pos</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                  <span class="comment">// if stem ends above top line (with some exceptions), shorten it</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                  <span class="keywordflow">if</span> (shortenStem &amp;&amp; (sel &lt; 0.0) &amp;&amp; (hookIdx == 0 || tab || !downnote-&gt;<a class="code" href="classMs_1_1Note.html#a015e1e0a27a32eef6070e3fc45a682fe">mirror</a>()))</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                        sel -= sel  * progression.<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>();</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                  <span class="keywordflow">if</span> (sel &gt; staffHlfHgt)                    <span class="comment">// if stem ends below (&#39;&gt;&#39;) staff mid position,</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                        sel = staffHlfHgt;                  <span class="comment">// stretch it to mid position</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                  stemLen = sel - dy;                       <span class="comment">// actual stem length</span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                  qreal exposedLen = sel - ul * .5;         <span class="comment">// portion extending above top note of chord</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                  <span class="keywordflow">if</span> (-exposedLen &lt; shortest) {             <span class="comment">// if stem too short,</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                        qreal diff = shortest + exposedLen;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                        stemLen -= diff;                    <span class="comment">// lengthen it to shortest possible length</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                        }</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                  }</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <span class="keywordflow">else</span> {                        <span class="comment">// stem down</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                  qreal uy  = ul * .5;                      <span class="comment">// note-side vert. pos.</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                  qreal sel = dl * .5 + normalStemLen;      <span class="comment">// stem end vert. pos.</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                  <span class="comment">// if stem ends below bottom line (with some exceptions), shorten it</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                  <span class="keywordflow">if</span> (shortenStem &amp;&amp; (sel &gt; staffHeight) &amp;&amp; (hookIdx == 0 || tab || downnote-&gt;<a class="code" href="classMs_1_1Note.html#a015e1e0a27a32eef6070e3fc45a682fe">mirror</a>()))</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                        sel -= (sel - staffHeight)  * progression.<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>();</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                  <span class="keywordflow">if</span> (sel &lt; staffHlfHgt)                    <span class="comment">// if stem ends above (&#39;&lt;&#39;) staff mid position,</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                        sel = staffHlfHgt;                  <span class="comment">// stretch it to mid position</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                  stemLen = sel - uy;                       <span class="comment">// actual stem length</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                  qreal exposedLen = sel - dl * .5;         <span class="comment">// portion extending below bottom note of chord</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                  <span class="keywordflow">if</span> (exposedLen &lt; shortest) {              <span class="comment">// if stem too short,</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                        qreal diff = shortest - exposedLen;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                        stemLen += diff;                    <span class="comment">// lengthen it to shortest possible length</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                        }</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                  }</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            }</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <span class="keywordflow">if</span> (tab)</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            stemLen *= lineDistance;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="keyword">const</span> qreal sgn = <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? -1.0 : 1.0;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      qreal stemLenPoints = <a class="code" href="classMs_1_1Element.html#aa1bfaad0745fdce188743b73821e0692">point</a>(<a class="code" href="classMs_1_1Spatium.html">Spatium</a>(stemLen));</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="keyword">const</span> qreal minAbsStemLen = <a class="code" href="classMs_1_1Chord.html#a462cb55471b8080c92b7b47a52867144">minAbsStemLength</a>();</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <span class="keywordflow">if</span> (sgn * stemLenPoints &lt; minAbsStemLen)</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            stemLenPoints = sgn * minAbsStemLen;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      <span class="keywordflow">return</span> stemLenPoints;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      }</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="comment">//   minAbsStemLength</span></div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="comment">//    get minimum stem length with tremolo</span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div><div class="line"><a name="l01444"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a462cb55471b8080c92b7b47a52867144"> 1444</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#a462cb55471b8080c92b7b47a52867144">Chord::minAbsStemLength</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>)</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <span class="keyword">const</span> qreal sw = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eafc0415d5a6fdf38990713e10a6d18ac2">Sid::tremoloStrokeWidth</a>).<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>() * <a class="code" href="classMs_1_1Chord.html#a20ed4485cac6a24338453d5ce2048297">chordMag</a>();</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="keyword">const</span> qreal td = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea2699e0ac7f36e1099d48db3e5706992f">Sid::tremoloDistance</a>).<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>() * <a class="code" href="classMs_1_1Chord.html#a20ed4485cac6a24338453d5ce2048297">chordMag</a>();</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="keywordtype">int</span> beamLvl = <a class="code" href="classMs_1_1ChordRest.html#a2f39b6dcebfe8d621c3ac82cbce6a159">beams</a>();</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <span class="keyword">const</span> qreal beamDist = <a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>() ? <a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>()-&gt;<a class="code" href="classMs_1_1Beam.html#a5782985a37032f4fcfa4594c90fb3341">beamDist</a>() : (sw * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>());</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="comment">// single-note tremolo</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">twoNotes</a>()) {</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#adb0e0d60086c88bf8f663bd36c49bbd6">layout</a>(); <span class="comment">// guarantee right &quot;height value&quot;</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            <span class="comment">// distance between tremolo stroke(s) and chord</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <span class="comment">// choose the furthest/nearest note to calculate for unbeamed/beamed chords</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            <span class="comment">// this is due to special layout mechanisms regarding beamed chords</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            <span class="comment">// may be changed if beam layout code is improved/rewritten</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a2a8ba8af6817e602c27c154e93542028">height</a> = 0.0;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>())</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                  height = (<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>() ? <a class="code" href="classMs_1_1Chord.html#ada06a8f84e26de36b4273d278b04a343">upPos</a>() : <a class="code" href="classMs_1_1Chord.html#ab2dc3b88a557f2beae50424865f068c5">downPos</a>()) - <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y();</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                  height = <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y() + <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#acb035c471ae0327d5d994d5026727b84">minHeight</a>() * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>() - (<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>() ? <a class="code" href="classMs_1_1Chord.html#ab2dc3b88a557f2beae50424865f068c5">downPos</a>() : <a class="code" href="classMs_1_1Chord.html#ada06a8f84e26de36b4273d278b04a343">upPos</a>());</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> hasHook = beamLvl &amp;&amp; !<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>();</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            <span class="keywordflow">if</span> (hasHook)</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                  beamLvl += (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? 3 : 2); <span class="comment">// reserve more space for stem with both hook and tremolo</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            </div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;            <span class="keyword">const</span> qreal addHeight1 = beamLvl ? 0 : sw * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            <span class="comment">// buzz roll needs to have additional space so as not to collide with the beam/hook</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            <span class="keyword">const</span> qreal addHeight2 = (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#aceb5535e999d246f947ec39bc3ee9287">isBuzzRoll</a>() &amp;&amp; beamLvl) ? sw * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>() : 0;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            <span class="keywordflow">return</span> height + beamLvl * beamDist + addHeight1 + addHeight2;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            }</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <span class="comment">// two-note tremolo</span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">chord2</a>() &amp;&amp; <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>()-&gt;<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() == <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">chord2</a>()-&gt;<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>()) {</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                  <span class="keyword">const</span> qreal tremoloMinHeight = <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#acb035c471ae0327d5d994d5026727b84">minHeight</a>() * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                  <span class="keywordflow">return</span> tremoloMinHeight + beamLvl * beamDist + 2 * td * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                  }</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            }</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      }</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">//   layoutStem1</span><span class="comment"></span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">///   Layout _stem and _stemSlash</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment"></span><span class="comment">//</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">//    Called before layout spacing of notes.</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">//    Create stem if necessary.</span></div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div><div class="line"><a name="l01496"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a185fc7776084b28c2f33003434729ffe"> 1496</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a185fc7776084b28c2f33003434729ffe">Chord::layoutStem1</a>()</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      {</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* stf = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* st = stf ? stf-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>) : 0;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().hasStem() &amp;&amp; !(<a class="code" href="classMs_1_1Chord.html#a7f1661cd105ba06f03f23d01f8087f83">_noStem</a> || (<a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;stemless(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>())) || (st &amp;&amp; st-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>() &amp;&amp; st-&gt;<a class="code" href="classMs_1_1StaffType.html#ae8d236c87bd0001434557efb501c13fc">stemless</a>()))) {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>) {</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                  <a class="code" href="classMs_1_1Stem.html">Stem</a>* <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a> = <span class="keyword">new</span> <a class="code" href="classMs_1_1Stem.html">Stem</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                  stem-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                  stem-&gt;<a class="code" href="classMs_1_1Element.html#a6f4204d12e78c77052520492ae4416cd">setGenerated</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a88d1556bac485bde9b2d6ae3c1e6bd77">undoAddElement</a>(stem);</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                  }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> == <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2ae039fd845669d8f1ba177be951be17c8">NoteType::ACCIACCATURA</a>) &amp;&amp; !(<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>() &amp;&amp; <a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>()-&gt;elements().front() != <span class="keyword">this</span>)) {</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>)</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">add</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1StemSlash.html">StemSlash</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()));</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                  }</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>)</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                  <span class="keyword">remove</span>(<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>);</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            qreal stemWidth5 = <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Stem.html#aadcbdc10cbafbc7486be0092097fae12">lineWidth</a>() * .5 * <a class="code" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">mag</a>();</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#a6a063f005375c9b61c53cf49ebc14623">rxpos</a>()   = <a class="code" href="classMs_1_1Chord.html#a660983b43143b9a1aa6d883e39d0fc81">stemPosX</a>() + (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? -stemWidth5 : +stemWidth5);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Stem.html#af82b7550b3812ab906901aa32efe0e2b">setLen</a>(<a class="code" href="classMs_1_1Chord.html#afcabc1e16d9a86233f01f052ff8b0295">defaultStemLength</a>());</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            }</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>)</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>);</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>)</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>);</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            }</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      }</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="comment">//   layoutStem</span><span class="comment"></span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="comment">///   Layout chord tremolo stem and hook.</span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="comment"></span><span class="comment">//</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="comment">//    hook: sets position</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div><div class="line"><a name="l01533"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a8a5728af14a2e7b599dabe6df851858d"> 1533</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a8a5728af14a2e7b599dabe6df851858d">Chord::layoutStem</a>()</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      {</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* c : qAsConst(<a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>))</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            c-&gt;layoutStem();</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ac3715cb6c5477152068cfedb5ce12124">_beam</a>)</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="comment">// create hooks for unbeamed chords</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="keywordtype">int</span> hookIdx  = <a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1TDuration.html#a11652d3de9232ccf4fb664758fecfaf3">hooks</a>();</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keywordflow">if</span> (hookIdx &amp;&amp; !(<a class="code" href="classMs_1_1Chord.html#a91fe4d3fdb635187c867f35d021df546">noStem</a>() || <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;stemless(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>()))) {</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#afa6b543d5f66f5e9c6b216bddf9c4afd">hook</a>()) {</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                  <a class="code" href="classMs_1_1Hook.html">Hook</a>* <a class="code" href="classMs_1_1Chord.html#afa6b543d5f66f5e9c6b216bddf9c4afd">hook</a> = <span class="keyword">new</span> <a class="code" href="classMs_1_1Hook.html">Hook</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                  hook-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                  hook-&gt;<a class="code" href="classMs_1_1Element.html#a6f4204d12e78c77052520492ae4416cd">setGenerated</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a88d1556bac485bde9b2d6ae3c1e6bd77">undoAddElement</a>(hook);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                  }</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afa6b543d5f66f5e9c6b216bddf9c4afd">hook</a>()-&gt;<a class="code" href="classMs_1_1Hook.html#a10253da01951c36f62fa9ab428ff28b4">setHookType</a>(<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? hookIdx : -hookIdx);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            }</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afa6b543d5f66f5e9c6b216bddf9c4afd">hook</a>())</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#afa6b543d5f66f5e9c6b216bddf9c4afd">hook</a>());</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      <span class="comment">// TAB</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* tab = st ? st-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>) : 0;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">if</span> (tab &amp;&amp; tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">isTabStaff</a>()) {</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="comment">// if stemless TAB</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ae8d236c87bd0001434557efb501c13fc">stemless</a>()) {</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                  <span class="comment">// if &#39;grid&#39; duration symbol of MEDIALFINAL type, it is time to compute its width</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1TabDurationSymbol.html#a4ea6fa2b5208bbe8577af9eb5d7559c3">beamGrid</a>() == <a class="code" href="namespaceMs.html#af4c32906c47a5cda0fea111d4ba39011abcad9b7df222928416776b059f8eebe1">TabBeamGrid::MEDIALFINAL</a>)</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1TabDurationSymbol.html#a038aa9b1d1c0373fca0325d9528d7347">layout2</a>();</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                  <span class="comment">// in all other stemless cases, do nothing</span></div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                  <span class="keywordflow">return</span>;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                  }</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <span class="comment">// not a stemless TAB; if stems are beside staff, apply special formatting</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            <span class="keywordflow">if</span> (!tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ab58bb2c64cfe98ac2da35e4d1fde492e">stemThrough</a>()) {</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>) { <span class="comment">// (duplicate code with defaultStemLength())</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                        <span class="comment">// process stem:</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Stem.html#af82b7550b3812ab906901aa32efe0e2b">setLen</a>(tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ac0189828ce7ef909320a45aa6f9a8644">chordStemLength</a>(<span class="keyword">this</span>) * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>());</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                        <span class="comment">// process hook</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                        hookIdx = <a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1TDuration.html#a11652d3de9232ccf4fb664758fecfaf3">hooks</a>();</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>())</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                              hookIdx = -hookIdx;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                        <span class="keywordflow">if</span> (hookIdx &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>) {</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                              <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Hook.html#a10253da01951c36f62fa9ab428ff28b4">setHookType</a>(hookIdx);</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                              <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Hook.html#a8665fd50a02d599919a52644bc87e2ab">layout</a>();</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                              QPointF p(<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Stem.html#a27fb7f82d5ae95bb9e619a90ec4e09aa">hookPos</a>());</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                              <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>()) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                                    p.ry() -= <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().top();</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                                    p.rx() -= <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>();</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                                    }</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                              <span class="keywordflow">else</span> {</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                                    p.ry() -= <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().bottom();</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                                    p.rx() -= <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>();</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                                    }</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                              <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(p);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                              }</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                        }</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                  <span class="keywordflow">return</span>;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                  }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            <span class="comment">// if stems are through staff, use standard formatting</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            }</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      <span class="comment">// NON-TAB (or TAB with stems through staff)</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>) {</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>) {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Hook.html#a8665fd50a02d599919a52644bc87e2ab">layout</a>();</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                  QPointF p(<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Stem.html#a27fb7f82d5ae95bb9e619a90ec4e09aa">hookPos</a>());</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>()) {</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                        p.rx() -= <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>();</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                        }</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                        p.rx() -= <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>();</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                        }</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(p);</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                  }</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>)</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>-&gt;<a class="code" href="classMs_1_1StemSlash.html#a37b6ee2aae8b5b24018145923df93d86">layout</a>();</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            }</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      <span class="comment">//-----------------------------------------</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <span class="comment">//    process tremolo</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      <span class="comment">//-----------------------------------------</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="comment">//      if (_tremolo)</span></div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="comment">//            _tremolo-&gt;layout();</span></div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="comment">//    underBeam: true, if grace note is placed under a beam.</span></div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div><div class="line"><a name="l01632"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ab55444ce64fe9284fb906079d80e506c"> 1632</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1Chord.html#ab55444ce64fe9284fb906079d80e506c">Chord::underBeam</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> == <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a>)</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Chord.html">Chord</a>* cr = toChord(<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>());</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <a class="code" href="classMs_1_1Beam.html">Beam</a>* <a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a> = cr-&gt;<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>();</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      <span class="keywordflow">if</span>(!beam || !cr-&gt;<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>()-&gt;<a class="code" href="classMs_1_1Beam.html#a5f566745948af534def31a1777d18ebf">up</a>())</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="keywordtype">int</span> s = beam-&gt;<a class="code" href="classMs_1_1Beam.html#a6dadfb1b4b373eb11485cc8372cb0edd">elements</a>().count();</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#aef64b1d3c29d7fcb81061bf5bece921a">isGraceBefore</a>()){</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            <span class="keywordflow">if</span> (beam-&gt;<a class="code" href="classMs_1_1Beam.html#a6dadfb1b4b373eb11485cc8372cb0edd">elements</a>()[0] != cr)</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            }</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#aa6f61c1efe6d552049ee902f28632243">isGraceAfter</a>()){</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            <span class="keywordflow">if</span> (beam-&gt;<a class="code" href="classMs_1_1Beam.html#a6dadfb1b4b373eb11485cc8372cb0edd">elements</a>()[s - 1] != cr)</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            }</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      }</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="comment">//   layout2</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">//    Called after horizontal positions of all elements</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment">//    are fixed.</span></div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div><div class="line"><a name="l01658"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a7788567e5b88177802f3941cfb1dda11"> 1658</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a7788567e5b88177802f3941cfb1dda11">Chord::layout2</a>()</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      {</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* c : qAsConst(<a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>))</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            c-&gt;layout2();</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <span class="keyword">const</span> qreal <a class="code" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">mag</a> = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#a80aa5db67223dff29e9113f23865b62b">mag</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      <span class="comment">// position after-chord grace notes</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      <span class="comment">// room for them has been reserved in Chord::layout()</span></div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      QVector&lt;Chord*&gt; gna = <a class="code" href="classMs_1_1Chord.html#afe552a986cb79260a7776bce05bdb6ff">graceNotesAfter</a>();</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <span class="keywordflow">if</span> (!gna.empty()) {</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            qreal minNoteDist = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce">Sid::minNoteDistance</a>) * mag * <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eacf91555d502f169a47dcd9db66a88590">Sid::graceNoteMag</a>);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            <span class="comment">// position grace notes from the rightmost to the leftmost</span></div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            <span class="comment">// get segment (of whatever type) at the end of this chord; if none, get measure last segment</span></div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <a class="code" href="classMs_1_1Segment.html">Segment</a>* s = <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;<a class="code" href="classMs_1_1Measure.html#a33665eb98a19a5561c6b72e4acaec230">tick2segment</a>(<a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>() + <a class="code" href="classMs_1_1DurationElement.html#a3791beed710457022daf6619f31a1eeb">actualTicks</a>(), <a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894ab1c94ca2fbc3e78fc30069c8d0f01680">SegmentType::All</a>);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <span class="keywordflow">if</span> (s == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                  s = <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;<a class="code" href="classMs_1_1Measure.html#a251d5169092a1437befbec204fa0efe9">last</a>();</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;            <span class="keywordflow">if</span> (s == <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>())           <span class="comment">// if our segment is the last, no adjacent segment found</span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                  s = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            <span class="comment">// start from the right (if next segment found, x of it relative to this chord;</span></div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            <span class="comment">// chord right space otherwise)</span></div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            <a class="code" href="classMs_1_1Chord.html">Chord</a>* last = gna.last();</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            qreal xOff =  s ? (s-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().x() - s-&gt;<a class="code" href="classMs_1_1Segment.html#afe26f7a1d64fa1a5628063f1596e090f">staffShape</a>(last-&gt;<a class="code" href="classMs_1_1ChordRest.html#a7b344ea7b12893001b693d782d19a081">vStaffIdx</a>()).left()) - (<a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().x() + <a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().x()) : <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            <span class="comment">// final distance: if near to another chord, leave minNoteDist at right of last grace</span></div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            <span class="comment">// else leave note-to-barline distance;</span></div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            xOff -= (s != <span class="keyword">nullptr</span> &amp;&amp; s-&gt;<a class="code" href="classMs_1_1Segment.html#accf66d981db70ac1bd843ca5e03330a1">segmentType</a>() != <a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894a7884fad7b22d960efd4e9d84e61e7fe0">SegmentType::ChordRest</a>)</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                  ? <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea15e392eb08b81f6ec367d10ee6ae4f9e">Sid::noteBarDistance</a>) * <a class="code" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">mag</a></div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                  : minNoteDist;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            <span class="comment">// scan grace note list from the end</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            <span class="keywordtype">int</span> n = gna.size();</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = n-1; i &gt;= 0; i--) {</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* g = gna.value(i);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                  xOff -= g-&gt;<a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>;                  <span class="comment">// move to left by grace note left space (incl. grace own width)</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                  g-&gt;<a class="code" href="classMs_1_1Element.html#a6a063f005375c9b61c53cf49ebc14623">rxpos</a>() = xOff;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                  xOff -= minNoteDist + g-&gt;<a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a>;    <span class="comment">// move to left by grace note right space and inter-grace distance</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                  }</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            }</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>)</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;            <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1TabDurationSymbol.html#a038aa9b1d1c0373fca0325d9528d7347">layout2</a>();</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      }</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="comment">//   updatePercussionNotes</span></div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"><a class="line" href="namespaceMs.html#a78fee580cd83f1fa65bea18b7a33ee3a"> 1706</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceMs.html#a78fee580cd83f1fa65bea18b7a33ee3a">updatePercussionNotes</a>(<a class="code" href="classMs_1_1Chord.html">Chord</a>* c, <span class="keyword">const</span> <a class="code" href="classMs_1_1Drumset.html">Drumset</a>* drumset)</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      {</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* ch : c-&gt;<a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>())</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <a class="code" href="namespaceMs.html#a78fee580cd83f1fa65bea18b7a33ee3a">updatePercussionNotes</a>(ch, drumset);</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      std::vector&lt;Note*&gt; lnotes(c-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>());  <span class="comment">// we need a copy!</span></div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : lnotes) {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            <span class="keywordflow">if</span> (!drumset)</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                  note-&gt;setLine(0);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                  <span class="keywordtype">int</span> pitch = note-&gt;pitch();</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                  <span class="keywordflow">if</span> (!drumset-&gt;<a class="code" href="classMs_1_1Drumset.html#a0c116c7a1faa14e7d3f5b583561f5245">isValid</a>(pitch)) {</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                        note-&gt;setLine(0);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                        qWarning(<span class="stringliteral">&quot;unmapped drum note %d&quot;</span>, pitch);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                        }</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!note-&gt;fixed()) {</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                        note-&gt;undoChangeProperty(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a5d15377f29d4bca438ef8a339555af95">Pid::HEAD_GROUP</a>, <span class="keywordtype">int</span>(drumset-&gt;<a class="code" href="classMs_1_1Drumset.html#a57e943db32934a5f5b85f56d6cc5dc47">noteHead</a>(pitch)));</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                        note-&gt;setLine(drumset-&gt;<a class="code" href="classMs_1_1Drumset.html#a19e7739fa57e35a79928fa58766d9c5a">line</a>(pitch));</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                        }</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                  }</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;            }</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      }</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment">//   cmdUpdateNotes</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div><div class="line"><a name="l01732"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a550c9abf9f41513672b152651e4c6a95"> 1732</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a550c9abf9f41513672b152651e4c6a95">Chord::cmdUpdateNotes</a>(<a class="code" href="classMs_1_1AccidentalState.html">AccidentalState</a>* as)</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      {</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <span class="comment">// TAB_STAFF is different, as each note has to be fretted</span></div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      <span class="comment">// in the context of the all of the chords of the whole segment</span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      <a class="code" href="namespaceMs.html#aad3918cfddca91d981504ae55c0f19b0">StaffGroup</a> staffGroup = st-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>)-&gt;<a class="code" href="classMs_1_1StaffType.html#a1a40800649c217eaaaa2a0dbb82f8e35">group</a>();</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      <span class="keywordflow">if</span> (staffGroup == <a class="code" href="namespaceMs.html#a3b085ddb3e3b890843f2e33874b9fa4baf684bf05fa3e81528c84d1d281d839f1">StaffGroup::TAB</a>) {</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <span class="keyword">const</span> <a class="code" href="classMs_1_1Instrument.html">Instrument</a>* instrument = <a class="code" href="classMs_1_1Element.html#a0049832d4191b3ce02446efa09127610">part</a>()-&gt;<a class="code" href="classMs_1_1Part.html#a6cae82662abe64d683dff09b3c7874f8">instrument</a>(this-&gt;<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>());</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* ch : <a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>())</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                  instrument-&gt;<a class="code" href="classMs_1_1Instrument.html#a212a6cb5bd1c9382df7ef53a92f3d9db">stringData</a>()-&gt;<a class="code" href="classMs_1_1StringData.html#aae089ceff91360aa295a4378bd288383">fretChords</a>(ch);</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            instrument-&gt;<a class="code" href="classMs_1_1Instrument.html#a212a6cb5bd1c9382df7ef53a92f3d9db">stringData</a>()-&gt;<a class="code" href="classMs_1_1StringData.html#aae089ceff91360aa295a4378bd288383">fretChords</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            }</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <span class="keywordflow">else</span>  {</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;            <span class="comment">// if not tablature, use instrument-&gt;useDrumset to set staffGroup (to allow pitched to unpitched in same staff)</span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            staffGroup = st-&gt;<a class="code" href="classMs_1_1Staff.html#ae31dc0de799c1e206af979e65bf837ab">part</a>()-&gt;<a class="code" href="classMs_1_1Part.html#a6cae82662abe64d683dff09b3c7874f8">instrument</a>(this-&gt;<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>())-&gt;<a class="code" href="classMs_1_1Instrument.html#a1632d4bf3af6b96e024ae13be290099d">useDrumset</a>() ? <a class="code" href="namespaceMs.html#a3369cc1ece2bbd874c148455b5db4b86a4c1e3a498a71f85d23ea30283022c6a3">StaffGroup::PERCUSSION</a> : <a class="code" href="namespaceMs.html#aad3918cfddca91d981504ae55c0f19b0a94e94133f4bdc1794c6b647b8ea134d0">StaffGroup::STANDARD</a>;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            }</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <span class="comment">// PITCHED_ and PERCUSSION_STAFF can go note by note</span></div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="keywordflow">if</span> (staffGroup == <a class="code" href="namespaceMs.html#aad3918cfddca91d981504ae55c0f19b0a94e94133f4bdc1794c6b647b8ea134d0">StaffGroup::STANDARD</a>) {</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            <span class="keyword">const</span> QVector&lt;Chord*&gt; gnb(<a class="code" href="classMs_1_1Chord.html#a136eb39ecfa4096dc41df49e135a5ce7">graceNotesBefore</a>());</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* ch : gnb) {</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                  std::vector&lt;Note*&gt; <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>(ch-&gt;notes());  <span class="comment">// we need a copy!</span></div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                  <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>)</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                        note-&gt;updateAccidental(as);</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                  ch-&gt;sortNotes();</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                  }</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            std::vector&lt;Note*&gt; lnotes(<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>());  <span class="comment">// we need a copy!</span></div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : lnotes) {</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                  <span class="keywordflow">if</span> (note-&gt;tieBack() &amp;&amp; note-&gt;tpc() == note-&gt;tieBack()-&gt;startNote()-&gt;tpc()) {</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                        <span class="comment">// same pitch</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                        <span class="keywordflow">if</span> (note-&gt;accidental() &amp;&amp; note-&gt;accidental()-&gt;role() == <a class="code" href="namespaceMs.html#a55c58e0e93a543f7ad29ebe885051671ae1f2d5134ed2543d38a0de9751cf75d9">AccidentalRole::AUTO</a>) {</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                              <span class="comment">// not courtesy</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                              <span class="comment">// TODO: remove accidental only if note is not</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                              <span class="comment">// on new system</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                              <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(note-&gt;accidental());</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                              }</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                        }</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                  note-&gt;updateAccidental(as);</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                  }</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            <span class="keyword">const</span> QVector&lt;Chord*&gt; gna(<a class="code" href="classMs_1_1Chord.html#afe552a986cb79260a7776bce05bdb6ff">graceNotesAfter</a>());</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* ch : gna) {</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                  std::vector&lt;Note*&gt; <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>(ch-&gt;notes());  <span class="comment">// we need a copy!</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                  <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>)</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                        note-&gt;updateAccidental(as);</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                  ch-&gt;sortNotes();</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                  }</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            }</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (staffGroup == <a class="code" href="namespaceMs.html#a3369cc1ece2bbd874c148455b5db4b86a4c1e3a498a71f85d23ea30283022c6a3">StaffGroup::PERCUSSION</a>) {</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            <span class="keyword">const</span> <a class="code" href="classMs_1_1Instrument.html">Instrument</a>* instrument = <a class="code" href="classMs_1_1Element.html#a0049832d4191b3ce02446efa09127610">part</a>()-&gt;<a class="code" href="classMs_1_1Part.html#a6cae82662abe64d683dff09b3c7874f8">instrument</a>(this-&gt;<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>());</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            <span class="keyword">const</span> <a class="code" href="classMs_1_1Drumset.html">Drumset</a>* drumset = instrument-&gt;<a class="code" href="classMs_1_1Instrument.html#ac377dcee9176d06151474454b0f3c265">drumset</a>();</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            <span class="keywordflow">if</span> (!drumset)</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                  qWarning(<span class="stringliteral">&quot;no drumset&quot;</span>);</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <a class="code" href="namespaceMs.html#a78fee580cd83f1fa65bea18b7a33ee3a">updatePercussionNotes</a>(<span class="keyword">this</span>, drumset);</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            }</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a20163c8fc284ff06c00570f4fd26fb7a">sortNotes</a>();</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      }</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="comment">//   pagePos</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;</div><div class="line"><a name="l01797"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ae09938e55d32b1e62c0b0c4d85dcb812"> 1797</a></span>&#160;QPointF <a class="code" href="classMs_1_1Chord.html#ae09938e55d32b1e62c0b0c4d85dcb812">Chord::pagePos</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a6071a1241456ef93c8a06c62269090a7">isGrace</a>()) {</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            QPointF p(<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>());</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>() == 0)</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                  <span class="keywordflow">return</span> p;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            p.rx() = <a class="code" href="classMs_1_1Element.html#afbc508a91ce6aa696f2f6e33bd350bd8">pageX</a>();</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            <span class="keyword">const</span> <a class="code" href="classMs_1_1Chord.html">Chord</a>* pc = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classMs_1_1Chord.html">Chord</a>*<span class="keyword">&gt;</span>(<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>());</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            <a class="code" href="classMs_1_1System.html">System</a>* system = pc-&gt;<a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#ac55f422eeb641115fd88da2c278a3514">system</a>();</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            <span class="keywordflow">if</span> (!system)</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                  <span class="keywordflow">return</span> p;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            qreal staffYOffset = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>() ? <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#ad248bef7f25a4fe152ce281372a24d3f">staffType</a>(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>())-&gt;<a class="code" href="classMs_1_1StaffType.html#af55548ca2196d3f5025ef9b7600cd0b4">yoffset</a>().<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>() * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>() : 0.0;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            p.ry() += system-&gt;<a class="code" href="classMs_1_1System.html#ad93df8d8b2f2fb6d8d88c1d4b590156c">staffYpage</a>(<a class="code" href="classMs_1_1ChordRest.html#a7b344ea7b12893001b693d782d19a081">vStaffIdx</a>()) + staffYOffset;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;            <span class="keywordflow">return</span> p;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            }</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Element.html#a06cc027fe14db0cf896f02931356ae24">Element::pagePos</a>();</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      }</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="comment">//   layout</span></div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;</div><div class="line"><a name="l01820"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ad2edc025a393651b7cd3d8c1b4404c8b"> 1820</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#ad2edc025a393651b7cd3d8c1b4404c8b">Chord::layout</a>()</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      {</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.empty())</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#ab7797a988fe44529744004d9544fc7af">onTabStaff</a>())</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a6faacfad9c649ca6d70e3fca0bcdd3ad">layoutTablature</a>();</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a6fecc25db6bf6cbbb22c730832ee7648">layoutPitched</a>();</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      }</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="comment">//   layoutPitched</span></div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a6fecc25db6bf6cbbb22c730832ee7648"> 1834</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a6fecc25db6bf6cbbb22c730832ee7648">Chord::layoutPitched</a>()</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      {</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      <span class="keywordtype">int</span> gi = 0;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* c : qAsConst(<a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>)) {</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            <span class="comment">// HACK: graceIndex is not well-maintained on add &amp; remove</span></div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            <span class="comment">// so rebuild now</span></div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            c-&gt;setGraceIndex(gi++);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            <span class="keywordflow">if</span> (c-&gt;isGraceBefore())</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                  c-&gt;layoutPitched();</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            }</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      <span class="keyword">const</span> QVector&lt;Chord*&gt; <a class="code" href="classMs_1_1Chord.html#a136eb39ecfa4096dc41df49e135a5ce7">graceNotesBefore</a> = <a class="code" href="classMs_1_1Chord.html#a136eb39ecfa4096dc41df49e135a5ce7">Chord::graceNotesBefore</a>();</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> gnb = graceNotesBefore.size();</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      <span class="comment">// lay out grace notes after separately so they are processed left to right</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <span class="comment">// (they are normally stored right to left)</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      <span class="keyword">const</span> QVector&lt;Chord*&gt; gna = <a class="code" href="classMs_1_1Chord.html#afe552a986cb79260a7776bce05bdb6ff">graceNotesAfter</a>();</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* c : gna)</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            c-&gt;layoutPitched();</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      qreal _spatium         = <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      qreal mag_             = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>() ? <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#a80aa5db67223dff29e9113f23865b62b">mag</a>(<span class="keyword">this</span>) : 1.0;    <span class="comment">// palette elements do not have a staff</span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      qreal <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eac694e96ba92f954edbc6a0c810e98aff">dotNoteDistance</a>  = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eac694e96ba92f954edbc6a0c810e98aff">Sid::dotNoteDistance</a>)  * mag_;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      qreal <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce">minNoteDistance</a>  = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce">Sid::minNoteDistance</a>)  * mag_;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      qreal minTieLength     = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8b0781893fb75fbe6f54ebfb2c7d5ad2">Sid::MinTieLength</a>)     * mag_;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      qreal graceMag         = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eacf91555d502f169a47dcd9db66a88590">Sid::graceNoteMag</a>);</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      qreal chordX           = (<a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> == <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a>) ? <a class="code" href="classMs_1_1Element.html#a5f1d010c61f361c3310fd22cd9f65d88">ipos</a>().x() : 0.0;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>) {</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;            <a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* l = <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a8ef8a7098d17bc07ee5a8d06ec81270d">next</a>();</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a> = l;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            }</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      qreal lll    = 0.0;         <span class="comment">// space to leave at left of chord</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      qreal rrr    = 0.0;         <span class="comment">// space to leave at right of chord</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      qreal lhead  = 0.0;         <span class="comment">// amount of notehead to left of chord origin</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <a class="code" href="classMs_1_1Note.html">Note</a>* upnote = <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>();</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>;   <span class="comment">// no TAB? no duration symbol! (may happen when converting a TAB into PITCHED)</span></div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a> = 0;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()) {</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            <span class="comment">// hack for use in palette</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <span class="keywordtype">size_t</span> n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size();</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; i++) {</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* note = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.at(i);</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                  note-&gt;<a class="code" href="classMs_1_1Note.html#a4d6e2aef9a0ba5beadef86d36f15367d">layout</a>();</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                  qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a> = 0.0;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                  qreal <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a> = note-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>() * _spatium * .5;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                  note-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(x, y);</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                  }</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a33b64f9292f5e20eb55a8013e977b722">computeUp</a>();</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a185fc7776084b28c2f33003434729ffe">layoutStem1</a>();</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>) { <span class="comment">//false when dragging notes from drum palette</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                  qreal stemWidth5 = <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Stem.html#aadcbdc10cbafbc7486be0092097fae12">lineWidth</a>() * .5;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#a6a063f005375c9b61c53cf49ebc14623">rxpos</a>()   = <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? (<a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#aaa31b11917139c63c6dc4a46f939b95f">headBodyWidth</a>() - stemWidth5) : stemWidth5;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                  }</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ac6de5396245de170e0755ff569862fd8">addLedgerLines</a>();</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            }</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      <span class="comment">//-----------------------------------------</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="comment">//  process notes</span></div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      <span class="comment">//-----------------------------------------</span></div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            note-&gt;layout();</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            qreal x1 = note-&gt;pos().x() + chordX;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            qreal x2 = x1 + note-&gt;headWidth();</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            lll      = qMax(lll, -x1);</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;            rrr      = qMax(rrr, x2);</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            <span class="comment">// track amount of space due to notehead only</span></div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            lhead    = qMax(lhead, -x1);</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;            <a class="code" href="classMs_1_1Accidental.html">Accidental</a>* <a class="code" href="namespaceMs.html#a69c5ea87fc52569247ed58849a2512e9">accidental</a> = note-&gt;accidental();</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            <span class="keywordflow">if</span> (accidental &amp;&amp; accidental-&gt;<a class="code" href="classMs_1_1Element.html#a6ba0ad4dad0b5de65db725a10fc64278">addToSkyline</a>() &amp;&amp; !note-&gt;fixed()) {</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                  <span class="comment">// convert x position of accidental to segment coordinate system</span></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                  qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a> = accidental-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().x() + note-&gt;pos().x() + chordX;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                  <span class="comment">// distance from accidental to note already taken into account</span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                  <span class="comment">// but here perhaps we create more padding in *front* of accidental?</span></div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                  x -= <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaf2681fbbf073a3545d84861314e6f9d3">Sid::accidentalDistance</a>) * mag_;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                  lll = qMax(lll, -x);</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                  }</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            <span class="comment">// allow extra space for shortened ties</span></div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            <span class="comment">// this code must be kept synchronized</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            <span class="comment">// with the tie positioning code in Tie::slurPos()</span></div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;            <span class="comment">// but the allocation of space needs to be performed here</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;            <a class="code" href="classMs_1_1Tie.html">Tie</a>* tie;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            tie = note-&gt;tieBack();</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;            <span class="keywordflow">if</span> (tie) {</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                  tie-&gt;<a class="code" href="classMs_1_1Tie.html#aeae1a802f5f92e98dad3e07a40baa932">calculateDirection</a>();</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                  qreal overlap = 0.0;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                  <span class="keywordtype">bool</span> shortStart = <span class="keyword">false</span>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* sn = tie-&gt;<a class="code" href="classMs_1_1Tie.html#acdcb6924221b29a0e3d6ae3fa109aa14">startNote</a>();</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* sc = sn-&gt;<a class="code" href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">chord</a>();</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                  <span class="keywordflow">if</span> (sc &amp;&amp; sc-&gt;<a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() == <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() &amp;&amp; sc == <a class="code" href="namespaceMs.html#a05776eecab3e8f84c45f571328f47a14">prevChordRest</a>(<span class="keyword">this</span>)) {</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                        <span class="keywordflow">if</span> (sc-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size() &gt; 1 || (sc-&gt;<a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>() &amp;&amp; sc-&gt;<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() == tie-&gt;<a class="code" href="classMs_1_1SlurTie.html#a603f4e019fb851cdebd3520941e325ab">up</a>())) {</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                              shortStart = <span class="keyword">true</span>;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                              <span class="keywordflow">if</span> (sc-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>() &gt; sn-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>()) {</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                                    <span class="comment">// chord with second?</span></div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                                    <span class="comment">// account for noteheads further to right</span></div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                                    qreal snEnd = sn-&gt;<a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a>() + sn-&gt;<a class="code" href="classMs_1_1Note.html#ad55c1e54b156996f2b1d211c31eb7df9">bboxRightPos</a>();</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                                    qreal scEnd = snEnd;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                                    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; sc-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size(); ++i)</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                                          scEnd = qMax(scEnd, sc-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().at(i)-&gt;x() + sc-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().at(i)-&gt;bboxRightPos());</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                                    overlap += scEnd - snEnd;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                                    }</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                              <span class="keywordflow">else</span></div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                                    overlap -= sn-&gt;<a class="code" href="classMs_1_1Note.html#a43dfad32ea3c1f8e2b56e810cd7bfa6e">headWidth</a>() * 0.12;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                              }</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;                              overlap += sn-&gt;<a class="code" href="classMs_1_1Note.html#a43dfad32ea3c1f8e2b56e810cd7bfa6e">headWidth</a>() * 0.35;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size() &gt; 1 || (<a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>() &amp;&amp; !<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() &amp;&amp; !tie-&gt;<a class="code" href="classMs_1_1SlurTie.html#a603f4e019fb851cdebd3520941e325ab">up</a>())) {</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;                              <span class="comment">// for positive offset:</span></div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                              <span class="comment">//    use available space</span></div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                              <span class="comment">// for negative x offset:</span></div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                              <span class="comment">//    space is allocated elsewhere, so don&#39;t re-allocate here</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                              <span class="keywordflow">if</span> (note-&gt;ipos().x() != 0.0)</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                                    overlap += qAbs(note-&gt;ipos().x());</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                              <span class="keywordflow">else</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                                    overlap -= note-&gt;headWidth() * 0.12;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                              }</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;                        <span class="keywordflow">else</span> {</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                              <span class="keywordflow">if</span> (shortStart)</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                                    overlap += note-&gt;headWidth() * 0.15;</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                              <span class="keywordflow">else</span></div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                                    overlap += note-&gt;headWidth() * 0.35;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                              }</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                        qreal d = qMax(minTieLength - overlap, 0.0);</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;                        lll = qMax(lll, d);</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;                        }</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                  }</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            <span class="comment">// clear layout for note-based fingerings</span></div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : note-&gt;el()) {</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                  <span class="keywordflow">if</span> (e-&gt;isFingering()) {</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                        <a class="code" href="classMs_1_1Fingering.html">Fingering</a>* f = toFingering(e);</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                        <span class="keywordflow">if</span> (f-&gt;<a class="code" href="classMs_1_1Fingering.html#ab204d8fc9e7842c1798326888039c13f">layoutType</a>() == <a class="code" href="namespaceMs.html#aeccc894c5a64aba67bbfaf8fe1b755d5a10de4bc81f754b19b0d27246a0589c05">ElementType::NOTE</a>) {</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                              f-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(QPointF());</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                              f-&gt;<a class="code" href="classMs_1_1Element.html#abe5c0aa8e74388b2b6b336dfec469a35">setbbox</a>(QRectF());</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                              }</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                        }</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                  }</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            }</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      <span class="comment">//-----------------------------------------</span></div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      <span class="comment">//  create ledger lines</span></div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <span class="comment">//-----------------------------------------</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <a class="code" href="classMs_1_1Chord.html#ac6de5396245de170e0755ff569862fd8">addLedgerLines</a>();</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>) {</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;            qreal arpeggioDistance = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eac4ccd46e43603bcdaced30856a7b9034">Sid::ArpeggioNoteDistance</a>) * mag_;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Arpeggio.html#ab53225de392b4269ee0329a6ad0e046d">layout</a>();    <span class="comment">// only for width() !</span></div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Arpeggio.html#ab548e1fae74df75b4ccbb98830149cd3">setHeight</a>(0.0);</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;            qreal extraX = <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>() + arpeggioDistance + chordX;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;            qreal y1   = upnote-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y() - upnote-&gt;<a class="code" href="classMs_1_1Note.html#aebe714f6dc759dbf09ffcda4491952fd">headHeight</a>() * .5;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(-(lll + extraX), y1);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#a9f91ce44289781c10fbaab9f5867d387">visible</a>())</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                  lll += extraX;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            <span class="comment">// _arpeggio-&gt;layout() called in layoutArpeggio2()</span></div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            <span class="comment">// handle the special case of _arpeggio-&gt;span() &gt; 1</span></div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            <span class="comment">// in layoutArpeggio2() after page layout has done so we</span></div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            <span class="comment">// know the y position of the next staves</span></div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      <span class="comment">// allocate enough room for glissandi</span></div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afafd30fd179d67a4f488d619e28fa416">_endsGlissando</a>) {</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* note : <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()) {</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classMs_1_1Spanner.html">Spanner</a>* sp : note-&gt;spannerBack()) {</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                        <span class="keywordflow">if</span> (sp-&gt;isGlissando()) {</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                              <span class="keywordflow">if</span> (toGlissando(sp)-&gt;visible()) {</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;                                    <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Element.html#ad4608ce52672a6b42930af320d9de2ef">rtick</a>().<a class="code" href="classMs_1_1Fraction.html#ac3244c876739eef5fa17e93e053bc599">isZero</a>()                 <span class="comment">// if not at beginning of measure</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;                                       || graceNotesBefore.size() &gt; 0) {  <span class="comment">// or there are graces before</span></div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                                          lll += _spatium * 0.5 + minTieLength;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                                          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                                          }</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;                                    }</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                              }</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                        }</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                  }</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;            <span class="comment">// special case of system-initial glissando final note is handled in Glissando::layout() itself </span></div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;            }</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a>()) {</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a> = <a class="code" href="classMs_1_1Chord.html#ad11d82b99c9fa25362378d6ae31d1f97">dotPosX</a>() + dotNoteDistance</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;               + (<a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a>()-1) * <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea5b6e0c6863a2e5149eda540e72454a68">Sid::dotDotDistance</a>) * mag_;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;            x += <a class="code" href="classMs_1_1Element.html#adc45b084165da6ceb3afa7913d6a3feb">symWidth</a>(<a class="code" href="namespaceMs.html#a602ef082ffbbe2c4b11e2375cc4aa794ae7f80072156130d537acf825545c10f0">SymId::augmentationDot</a>);</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;            rrr = qMax(rrr, x);</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;            }</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>) {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>())</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>);</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Hook.html#a8665fd50a02d599919a52644bc87e2ab">layout</a>();</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()) {</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                        <span class="comment">// hook position is not set yet</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                        qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a> = <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().right() + <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Stem.html#a27fb7f82d5ae95bb9e619a90ec4e09aa">hookPos</a>().x() + chordX;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;                        rrr = qMax(rrr, x);</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                        }</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                  }</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;            }</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.isEmpty()) {</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;            <span class="comment">// TODO: allocate space to avoid &quot;staircase&quot; effect</span></div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;            <span class="comment">// but we would need to determine direction in order to get correct symid &amp; bbox</span></div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;            <span class="comment">// another alternative is to limit the width contribution of the articulation in layoutArticulations2()</span></div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;            <span class="comment">//qreal aWidth = 0.0;</span></div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : <a class="code" href="classMs_1_1Chord.html#a9ba14767335dea9274a6e42b4bca2452">articulations</a>())</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;                  a-&gt;layout();      <span class="comment">// aWidth = qMax(aWidth, a-&gt;width());</span></div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;            <span class="comment">//qreal w = width();</span></div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;            <span class="comment">//qreal aExtra = (qMax(aWidth, w) - w) * 0.5;</span></div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;            <span class="comment">//lll = qMax(lll, aExtra);</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            <span class="comment">//rrr = qMax(rrr, aExtra);</span></div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;            }</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> = lll;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a> = rrr;</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      <span class="keywordflow">if</span> (gnb) {</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;              qreal xl = -(<a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> + <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce">minNoteDistance</a>) - chordX;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = gnb-1; i &gt;= 0; --i) {</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                    <a class="code" href="classMs_1_1Chord.html">Chord</a>* g = graceNotesBefore.value(i);</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                    xl -= g-&gt;<a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a><span class="comment">/* * 1.2*/</span>;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                    g-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(xl, 0);</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                    xl -= g-&gt;<a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> + minNoteDistance * graceMag;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                    }</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;              <span class="keywordflow">if</span> (-xl &gt; <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a>)</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                    <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> = -xl;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;              }</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;       <span class="keywordflow">if</span> (!gna.empty()) {</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            qreal xr = <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>;</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            <span class="keywordtype">int</span> n = gna.size();</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= n - 1; i++) {</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* g = gna.value(i);</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                  xr += g-&gt;<a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> + g-&gt;<a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a> + minNoteDistance * graceMag;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                  }</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;           <span class="keywordflow">if</span> (xr &gt; <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>)</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                 <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a> = xr;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;           }</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>()) {</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            <span class="keywordflow">if</span> (e-&gt;type() == <a class="code" href="namespaceMs.html#a6b5aa179fb8d7a11ec316c01a2fdf6e1a6583855a84bb2092bdedabd25e5bc4e7">ElementType::SLUR</a>)     <span class="comment">// we cannot at this time as chordpositions are not fixed</span></div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            e-&gt;layout();</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;            <span class="keywordflow">if</span> (e-&gt;type() == <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eace00c7704ec09c488a4557c123a23119">ElementType::CHORDLINE</a>) {</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;                  QRectF tbbox = e-&gt;bbox().translated(e-&gt;pos());</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                  qreal lx = tbbox.left() + chordX;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                  qreal rx = tbbox.right() + chordX;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                  <span class="keywordflow">if</span> (-lx &gt; <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a>)</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> = -lx;</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                  <span class="keywordflow">if</span> (rx &gt; <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>)</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a> = rx;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                  }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;            }</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : _notes)</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;            note-&gt;layout2();</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      <span class="comment">// align note-based fingerings</span></div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      std::vector&lt;Fingering*&gt; alignNote;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      qreal xNote = 10000.0;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : _notes) {</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            <span class="keywordtype">bool</span> leftFound = <span class="keyword">false</span>;</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : note-&gt;el()) {</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;                  <span class="keywordflow">if</span> (e-&gt;isFingering() &amp;&amp; e-&gt;autoplace()) {</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                        <a class="code" href="classMs_1_1Fingering.html">Fingering</a>* f = toFingering(e);</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                        <span class="keywordflow">if</span> (f-&gt;<a class="code" href="classMs_1_1Fingering.html#ab204d8fc9e7842c1798326888039c13f">layoutType</a>() == <a class="code" href="namespaceMs.html#aeccc894c5a64aba67bbfaf8fe1b755d5a10de4bc81f754b19b0d27246a0589c05">ElementType::NOTE</a> &amp;&amp; f-&gt;<a class="code" href="classMs_1_1TextBase.html#a26aa5eb322375f093ff39146890478d4">tid</a>() == <a class="code" href="namespaceMs.html#ad1b3e57dfd5b26a280bf2ebde66b9d5aa665b68be9b2bb1fe1ce8498a85da8064">Tid::LH_GUITAR_FINGERING</a>) {</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                              alignNote.push_back(f);</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                              <span class="keywordflow">if</span> (!leftFound) {</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                                    leftFound = <span class="keyword">true</span>;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                                    qreal xf = f-&gt;<a class="code" href="classMs_1_1Element.html#a5f1d010c61f361c3310fd22cd9f65d88">ipos</a>().x();</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                                    xNote = qMin(xNote, xf);</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                                    }</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;                              }</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;                        }</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                  }</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            }</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Fingering.html">Fingering</a>* f : alignNote)</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            f-&gt;rxpos() = xNote;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      }</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;<span class="comment">//   layoutTablature</span></div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;</div><div class="line"><a name="l02131"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a6faacfad9c649ca6d70e3fca0bcdd3ad"> 2131</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a6faacfad9c649ca6d70e3fca0bcdd3ad">Chord::layoutTablature</a>()</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      {</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      qreal _spatium          = <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      qreal <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eac694e96ba92f954edbc6a0c810e98aff">dotNoteDistance</a>   = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eac694e96ba92f954edbc6a0c810e98aff">Sid::dotNoteDistance</a>);</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      qreal <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce">minNoteDistance</a>   = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce">Sid::minNoteDistance</a>);</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      qreal minTieLength      = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8b0781893fb75fbe6f54ebfb2c7d5ad2">Sid::MinTieLength</a>);</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* c : qAsConst(<a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>))</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;            c-&gt;layoutTablature();</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>) {</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;            <a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* l = <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a8ef8a7098d17bc07ee5a8d06ec81270d">next</a>();</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a> = l;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;            }</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      qreal lll         = 0.0;                  <span class="comment">// space to leave at left of chord</span></div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      qreal rrr         = 0.0;                  <span class="comment">// space to leave at right of chord</span></div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      <a class="code" href="classMs_1_1Note.html">Note</a>* upnote      = <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>();</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      qreal headWidth   = <a class="code" href="classMs_1_1Element.html#adc45b084165da6ceb3afa7913d6a3feb">symWidth</a>(<a class="code" href="namespaceMs.html#a602ef082ffbbe2c4b11e2375cc4aa794aeab244836adffdeef9573f36a3baba75">SymId::noteheadBlack</a>);</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st   = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* tab = st-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      qreal lineDist    = tab-&gt;<a class="code" href="classMs_1_1StaffType.html#a8573023e9149c33b1dc28e8e841e21ca">lineDistance</a>().<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>() *_spatium;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      qreal stemX       = tab-&gt;<a class="code" href="classMs_1_1StaffType.html#a8c3babe2c79455987254d9d809c109b9">chordStemPosX</a>(<span class="keyword">this</span>) *_spatium;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <span class="keywordtype">int</span>   <a class="code" href="classMs_1_1Chord.html#ae0820abe69d5138d69187901f2a4ac2c">ledgerLines</a> = 0;</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      qreal llY         = 0.0;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      <span class="keywordtype">size_t</span> numOfNotes = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size();</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      qreal minY        = 1000.0;               <span class="comment">// just a very large value</span></div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; numOfNotes; ++i) {</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* note = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.at(i);</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            note-&gt;<a class="code" href="classMs_1_1Note.html#a4d6e2aef9a0ba5beadef86d36f15367d">layout</a>();</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            <span class="comment">// set headWidth to max fret text width</span></div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            qreal fretWidth = note-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().width();</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            <span class="keywordflow">if</span> (headWidth &lt; fretWidth)</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                  headWidth = fretWidth;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            <span class="comment">// centre fret string on stem</span></div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a> = stemX - fretWidth*0.5;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a> = note-&gt;<a class="code" href="classMs_1_1Note.html#a4f70ed1ad94787f19a5b90c38df3564e">fixed</a>() ? note-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>() * lineDist / 2 : tab-&gt;<a class="code" href="classMs_1_1StaffType.html#a5c8edcd1dcd113c55d1a682cf422c26e">physStringToYOffset</a>(note-&gt;<a class="code" href="classMs_1_1Note.html#aa5068302dd057f7cd18cdf561b75d18f">string</a>()) * _spatium;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            note-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(x, y);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            <span class="keywordflow">if</span> (y &lt; minY)</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                  minY  = <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a>;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;            <span class="keywordtype">int</span>   currLedgerLines   = tab-&gt;<a class="code" href="classMs_1_1StaffType.html#afe64864ef4d506a2f678f3a130b09f71">numOfTabLedgerLines</a>(note-&gt;<a class="code" href="classMs_1_1Note.html#aa5068302dd057f7cd18cdf561b75d18f">string</a>());</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;            <span class="keywordflow">if</span> (currLedgerLines &gt; ledgerLines) {</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                  ledgerLines = currLedgerLines;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                  llY         = <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a>;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                  }</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;            <span class="comment">// allow extra space for shortened ties; this code must be kept synchronized</span></div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;            <span class="comment">// with the tie positioning code in Tie::slurPos()</span></div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;            <span class="comment">// but the allocation of space needs to be performed here</span></div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;            <a class="code" href="classMs_1_1Tie.html">Tie</a>* tie;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            tie = note-&gt;<a class="code" href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">tieBack</a>();</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;            <span class="keywordflow">if</span> (tie) {</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;                  tie-&gt;<a class="code" href="classMs_1_1Tie.html#aeae1a802f5f92e98dad3e07a40baa932">calculateDirection</a>();</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;                  qreal overlap = 0.0;          <span class="comment">// how much tie can overlap start and end notes</span></div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                  <span class="keywordtype">bool</span> shortStart = <span class="keyword">false</span>;      <span class="comment">// whether tie should clear start note or not</span></div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* startNote = tie-&gt;<a class="code" href="classMs_1_1Tie.html#acdcb6924221b29a0e3d6ae3fa109aa14">startNote</a>();</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* startChord = startNote-&gt;<a class="code" href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">chord</a>();</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;                  <span class="keywordflow">if</span> (startChord &amp;&amp; startChord-&gt;<a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() == <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() &amp;&amp; startChord == <a class="code" href="namespaceMs.html#a05776eecab3e8f84c45f571328f47a14">prevChordRest</a>(<span class="keyword">this</span>)) {</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;                        qreal startNoteWidth = startNote-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>();</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;                        <span class="comment">// overlap into start chord?</span></div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                        <span class="comment">// if in start chord, there are several notes or stem and tie in same direction</span></div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;                        <span class="keywordflow">if</span> (startChord-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size() &gt; 1 || (startChord-&gt;<a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>() &amp;&amp; startChord-&gt;<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() == tie-&gt;<a class="code" href="classMs_1_1SlurTie.html#a603f4e019fb851cdebd3520941e325ab">up</a>())) {</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                              <span class="comment">// clear start note (1/8 of fret mark width)</span></div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                              shortStart = <span class="keyword">true</span>;</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                              overlap -= startNoteWidth * 0.125;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                              }</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                        <span class="keywordflow">else</span>        <span class="comment">// overlap start note (by ca. 1/3 of fret mark width)</span></div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;                              overlap += startNoteWidth * 0.35;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                        <span class="comment">// overlap into end chord (this)?</span></div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                        <span class="comment">// if several notes or neither stem or tie are up</span></div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size() &gt; 1 || (<a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>() &amp;&amp; !<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() &amp;&amp; !tie-&gt;<a class="code" href="classMs_1_1SlurTie.html#a603f4e019fb851cdebd3520941e325ab">up</a>())) {</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                              <span class="comment">// for positive offset:</span></div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;                              <span class="comment">//    use available space</span></div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;                              <span class="comment">// for negative x offset:</span></div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                              <span class="comment">//    space is allocated elsewhere, so don&#39;t re-allocate here</span></div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                              <span class="keywordflow">if</span> (note-&gt;<a class="code" href="classMs_1_1Element.html#a5f1d010c61f361c3310fd22cd9f65d88">ipos</a>().x() != 0.0)              <span class="comment">// this probably does not work for TAB, as</span></div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                                    overlap += qAbs(note-&gt;<a class="code" href="classMs_1_1Element.html#a5f1d010c61f361c3310fd22cd9f65d88">ipos</a>().x());  <span class="comment">// _pos is used to centre the fret on the stem</span></div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;                              <span class="keywordflow">else</span></div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;                                    overlap -= fretWidth * 0.125;</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                              }</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                        <span class="keywordflow">else</span> {</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                              <span class="keywordflow">if</span> (shortStart)</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                                    overlap += fretWidth * 0.15;</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                              <span class="keywordflow">else</span></div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                                    overlap += fretWidth * 0.35;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                              }</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                        qreal d = qMax(minTieLength - overlap, 0.0);</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                        lll = qMax(lll, d);</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                        }</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                  }</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;            }</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      <span class="comment">// create ledger lines, if required (in some historic styles)</span></div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      <span class="keywordflow">if</span> (ledgerLines &gt; 0) {</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;<span class="comment">// there seems to be no need for widening &#39;ledger lines&#39; beyond fret mark widths; more &#39;on the field&#39;</span></div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="comment">// tests and usage will show if this depends on the metrics of the specific fonts used or not.</span></div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="comment">//            qreal extraLen    = score()-&gt;styleS(Sid::ledgerLineLength).val() * _spatium;</span></div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;            qreal extraLen    = 0;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;            qreal llX         = stemX - (headWidth + extraLen) * 0.5;</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classMs_1_1Chord.html#ae0820abe69d5138d69187901f2a4ac2c">ledgerLines</a>; i++) {</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;                  <a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* ldgLin = <span class="keyword">new</span> <a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;                  ldgLin-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;                  ldgLin-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                  ldgLin-&gt;<a class="code" href="classMs_1_1Element.html#a41438f8c28ffb2eb06d55de8360c1969">setVisible</a>(<a class="code" href="classMs_1_1Element.html#a9f91ce44289781c10fbaab9f5867d387">visible</a>());</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;                  ldgLin-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a9a416a9e9fe2f67024e44c138f297621">setLen</a>(headWidth + extraLen);</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                  ldgLin-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(llX, llY);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                  ldgLin-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a6784a680197432e2cb49ea50eba790cf">setNext</a>(<a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>);</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a> = ldgLin;</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                  ldgLin-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a185f3e1a81dedace6753770879c3882f">layout</a>();</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;                  llY += lineDist / <a class="code" href="classMs_1_1Chord.html#ae0820abe69d5138d69187901f2a4ac2c">ledgerLines</a>;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;                  }</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            headWidth += extraLen;        <span class="comment">// include ledger lines extra width in chord width</span></div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;            }</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      <span class="comment">// horiz. spacing: leave half width at each side of the (potential) stem</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      qreal halfHeadWidth = headWidth * 0.5;</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;      <span class="keywordflow">if</span> (lll &lt; stemX - halfHeadWidth)</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            lll = stemX - halfHeadWidth;</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      <span class="keywordflow">if</span> (rrr &lt; stemX + halfHeadWidth)</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;            rrr = stemX + halfHeadWidth;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      <span class="comment">// align dots to the widest fret mark (not needed in all TAB styles, but harmless anyway)</span></div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>())</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#a3d52cb81e00336d49938b6e43e96ead3">setDotPosX</a>(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>(), headWidth);</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;      <span class="comment">// if tab type is stemless or chord is stemless (possible when imported from MusicXML)</span></div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;      <span class="comment">// or measure is stemless</span></div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;      <span class="comment">// or duration longer than half (if halves have stems) or duration longer than crochet</span></div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      <span class="comment">// remove stems</span></div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;      <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ae8d236c87bd0001434557efb501c13fc">stemless</a>() || <a class="code" href="classMs_1_1Chord.html#a7f1661cd105ba06f03f23d01f8087f83">_noStem</a> || <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;<a class="code" href="classMs_1_1Measure.html#a5e7d34f4cfd7e05b6d1b61b2f44a2e42">stemless</a>(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>()) || <a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1TDuration.html#a123168fe235332a63c716e041fc3ddd5">type</a>() &lt;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;         (tab-&gt;<a class="code" href="classMs_1_1StaffType.html#aa6cc928d538e75e4bde3865d515af09e">minimStyle</a>() != <a class="code" href="namespaceMs.html#a2410ba6b8645516fa7f4e2446551da5bab50339a10e1de285ac99d4c3990b8693">TablatureMinimStyle::NONE</a> ? <a class="code" href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68cac5f539d8ae1a90e7d2c1489ae20048dc">TDuration::DurationType::V_HALF</a> : <a class="code" href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68ca05e8f1c139e16d278117c17e7fc13ef6">TDuration::DurationType::V_QUARTER</a>) ) {</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>)</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1RemoveElement.html">RemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>));</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>)</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1RemoveElement.html">RemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>));</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ac3715cb6c5477152068cfedb5ce12124">_beam</a>)</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1RemoveElement.html">RemoveElement</a>(<a class="code" href="classMs_1_1ChordRest.html#ac3715cb6c5477152068cfedb5ce12124">_beam</a>));</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;            }</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      <span class="comment">// if stem is required but missing, add it;</span></div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      <span class="comment">// set stem position (stem length is set in Chord:layoutStem() )</span></div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a> == 0) {</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                  <a class="code" href="classMs_1_1Stem.html">Stem</a>* <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a> = <span class="keyword">new</span> <a class="code" href="classMs_1_1Stem.html">Stem</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                  stem-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1AddElement.html">AddElement</a>(stem));</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;                  }</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;            <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(tab-&gt;<a class="code" href="classMs_1_1StaffType.html#aff6734454edd84c11694f21802162925">chordStemPos</a>(<span class="keyword">this</span>) * _spatium);</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>) {</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>())</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                        <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>);</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Hook.html#a8665fd50a02d599919a52644bc87e2ab">layout</a>();</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;                        <span class="keywordflow">if</span> (rrr &lt; stemX + _hook-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>())</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;                              rrr = stemX + <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>();</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                        QPointF p(<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Stem.html#a27fb7f82d5ae95bb9e619a90ec4e09aa">hookPos</a>());</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>()) {</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                              p.ry() -= <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().top();</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;                              p.rx() -= <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>();</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;                              }</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                        <span class="keywordflow">else</span> {</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                              p.ry() -= <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().bottom();</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;                              p.rx() -= <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>();</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                              }</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(p);</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;                        }</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;                  }</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;            }</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <span class="keywordflow">if</span> (!tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ac4addea17875a3cb35d0f57e09b50773">genDurations</a>()                         <span class="comment">// if tab is not set for duration symbols</span></div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;            || <a class="code" href="namespaceMs.html#a6d8f7f5dbb7c772d54ef4d15a61bb668">track2voice</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>())                    <span class="comment">// or not in first voice</span></div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            || (<a class="code" href="classMs_1_1Chord.html#a6071a1241456ef93c8a06c62269090a7">isGrace</a>()                              <span class="comment">// no tab duration symbols if grace notes</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;                &amp;&amp; <a class="code" href="classMs_1_1ChordRest.html#a9103d7e3ecf91f604d7bfd8a529ef09d">beamMode</a>() == <a class="code" href="classMs_1_1Beam.html#affab6e5059fcaefb7b25c31fd2d0e6feae1f2d5134ed2543d38a0de9751cf75d9">Beam::Mode::AUTO</a>)) {  <span class="comment">// and beammode == AUTO</span></div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;                                                       <span class="comment">//</span></div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>;   <span class="comment">// delete an existing duration symbol</span></div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;            <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a> = 0;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;            }</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;            <span class="comment">// tab duration symbols</span></div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;            <span class="comment">// if no previous CR</span></div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;            <span class="comment">// OR symbol repeat set to ALWAYS</span></div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;            <span class="comment">// OR symbol repeat condition is triggered</span></div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;            <span class="comment">// OR duration type and/or number of dots is different from current CR</span></div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            <span class="comment">// OR chord beam mode not AUTO</span></div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;            <span class="comment">// OR previous CR is a rest</span></div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;            <span class="comment">// AND no not-stem</span></div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;            <span class="comment">// set a duration symbol (trying to re-use existing symbols where existing to minimize</span></div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;            <span class="comment">// symbol creation and deletion)</span></div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;            <span class="keywordtype">bool</span> needTabDur = <span class="keyword">false</span>;</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;            <span class="keywordtype">bool</span> repeat = <span class="keyword">false</span>;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#a91fe4d3fdb635187c867f35d021df546">noStem</a>()) {</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                  <span class="comment">// check duration of prev. CR segm</span></div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html">ChordRest</a> * prevCR = <a class="code" href="namespaceMs.html#a05776eecab3e8f84c45f571328f47a14">prevChordRest</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;                  <span class="keywordflow">if</span> (prevCR == 0)</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;                        needTabDur = <span class="keyword">true</span>;</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a9103d7e3ecf91f604d7bfd8a529ef09d">beamMode</a>() != <a class="code" href="classMs_1_1Beam.html#affab6e5059fcaefb7b25c31fd2d0e6feae1f2d5134ed2543d38a0de9751cf75d9">Beam::Mode::AUTO</a></div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;                        || prevCR-&gt;<a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1TDuration.html#a123168fe235332a63c716e041fc3ddd5">type</a>() != <a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1TDuration.html#a123168fe235332a63c716e041fc3ddd5">type</a>()</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;                        || prevCR-&gt;<a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a>() != <a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a>()</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;                        || prevCR-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>() != <a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>()</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;                        || prevCR-&gt;<a class="code" href="classMs_1_1ChordRest.html#a47a641f4c229f43d67ed5154fdebc05c">type</a>() == <a class="code" href="namespaceMs.html#a28863123e439c88c35086eb7dd963c9aa50780f47f6839d47d60bc4555ee00c3f">ElementType::REST</a>)</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                        needTabDur = <span class="keyword">true</span>;</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tab-&gt;<a class="code" href="classMs_1_1StaffType.html#a59e7ea71144ca41345f53ad4ff4060e5">symRepeat</a>() == <a class="code" href="namespaceMs.html#a704a7cd3b8260ca95e9a99bbabe800c3af3fc827ade4b968e50406496907ef962">TablatureSymbolRepeat::ALWAYS</a></div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;                        || ((tab-&gt;<a class="code" href="classMs_1_1StaffType.html#a59e7ea71144ca41345f53ad4ff4060e5">symRepeat</a>() == <a class="code" href="namespaceMs.html#a704a7cd3b8260ca95e9a99bbabe800c3a84e4213ee54478574ea15a166ea10152">TablatureSymbolRepeat::MEASURE</a> ||</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;                              tab-&gt;<a class="code" href="classMs_1_1StaffType.html#a59e7ea71144ca41345f53ad4ff4060e5">symRepeat</a>() == <a class="code" href="namespaceMs.html#a704a7cd3b8260ca95e9a99bbabe800c3afa177138f94a7ea01f549b1aa7893d03">TablatureSymbolRepeat::SYSTEM</a>)</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                              &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() != prevCR-&gt;<a class="code" href="classMs_1_1ChordRest.html#aaa704d32c5e4253d54d722276f507e2d">measure</a>())) {</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                        needTabDur = <span class="keyword">true</span>;</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;                        repeat = <span class="keyword">true</span>;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;                        }</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;                  }</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;            <span class="keywordflow">if</span> (needTabDur) {</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;                  <span class="comment">// symbol needed; if not exist, create; if exists, update duration</span></div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>)</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a> = <span class="keyword">new</span> <a class="code" href="classMs_1_1TabDurationSymbol.html">TabDurationSymbol</a>(<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>(), tab, <a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1Chord.html#a07ee676c61ad4e0e32d49142c7aa1b4e">type</a>(), <a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a>());</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1TabDurationSymbol.html#a35280c41b657f4ec954c07c521e64454">setDuration</a>(<a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1Chord.html#a07ee676c61ad4e0e32d49142c7aa1b4e">type</a>(), <a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a>(), tab);</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1TabDurationSymbol.html#ad9ba46ad3db2deb9f9bb69735d07e347">setRepeat</a>(repeat);</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="comment">//                  _tabDur-&gt;setMag(mag());           // useless to set grace mag: graces have no dur. symbol</span></div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1TabDurationSymbol.html#a7ce50f35a747ada7f0d705669077b0da">layout</a>();</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                  <span class="keywordflow">if</span> (minY &lt; 0) {                     <span class="comment">// if some fret extends above tab body (like bass strings)</span></div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1Element.html#a1397cfb5140978e6cd9aa294ade7d738">rypos</a>() += minY;     <span class="comment">// raise duration symbol</span></div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                        <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().translate(0, minY);</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;                        }</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                  }</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            <span class="keywordflow">else</span> {                              <span class="comment">// symbol not needed: if exists, delete</span></div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                  <span class="keyword">delete</span> <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a> = 0;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;                  }</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;            }                             <span class="comment">// end of if(duration_symbols)</span></div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>) {</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;            qreal headHeight = upnote-&gt;<a class="code" href="classMs_1_1Note.html#aebe714f6dc759dbf09ffcda4491952fd">headHeight</a>();</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Arpeggio.html#ab53225de392b4269ee0329a6ad0e046d">layout</a>();</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;            lll += <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>() + _spatium * .5;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a> = <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y() - headHeight * .5;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;            qreal h = <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y() + <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#aebe714f6dc759dbf09ffcda4491952fd">headHeight</a>() - <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a>;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Arpeggio.html#ab548e1fae74df75b4ccbb98830149cd3">setHeight</a>(h);</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(-lll, y);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;            <span class="comment">// handle the special case of _arpeggio-&gt;span() &gt; 1</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;            <span class="comment">// in layoutArpeggio2() after page layout has done so we</span></div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;            <span class="comment">// know the y position of the next staves</span></div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;            }</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;      <span class="comment">// allocate enough room for glissandi</span></div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afafd30fd179d67a4f488d619e28fa416">_endsGlissando</a>) {</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Element.html#ad4608ce52672a6b42930af320d9de2ef">rtick</a>().isZero())                        <span class="comment">// if not at beginning of measure</span></div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;                  lll += (0.5 + <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8b0781893fb75fbe6f54ebfb2c7d5ad2">Sid::MinTieLength</a>).<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>()) * _spatium;</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;            <span class="comment">// special case of system-initial glissando final note is handled in Glissando::layout() itself</span></div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;            }</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>) {</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>())</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>);</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tab == 0) {</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Hook.html#a8665fd50a02d599919a52644bc87e2ab">layout</a>();</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>()) {</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;                        <span class="comment">// hook position is not set yet</span></div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;                        qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a> = <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().right() + <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Stem.html#a27fb7f82d5ae95bb9e619a90ec4e09aa">hookPos</a>().x();</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;                        rrr = qMax(rrr, x);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;                        }</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;                  }</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;            }</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a>()) {</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a> = 0.0;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;            <span class="comment">// if stems are beside staff, dots are placed near to stem</span></div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;            <span class="keywordflow">if</span> (!tab-&gt;<a class="code" href="classMs_1_1StaffType.html#ab58bb2c64cfe98ac2da35e4d1fde492e">stemThrough</a>()) {</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;                  <span class="comment">// if there is an unbeamed hook, dots should start after the hook</span></div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a> &amp;&amp; !<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>())</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;                        x = <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>() + <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eac694e96ba92f954edbc6a0c810e98aff">dotNoteDistance</a>;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                  <span class="comment">// if not, dots should start at a fixed distance right after the stem</span></div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;                        x = <a class="code" href="stafftype_8h.html#a463cf6778b863ac76f2698f5a08b9e7d">STAFFTYPE_TAB_DEFAULTDOTDIST_X</a> * _spatium;</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>())</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#a3d52cb81e00336d49938b6e43e96ead3">setDotPosX</a>(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>(), x);</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;                  }</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;            <span class="comment">// if stems are through staff, use dot position computed above on fret mark widths</span></div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                  x = <a class="code" href="classMs_1_1Chord.html#ad11d82b99c9fa25362378d6ae31d1f97">dotPosX</a>() + dotNoteDistance</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;                        + (<a class="code" href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">dots</a>()-1) * <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea5b6e0c6863a2e5149eda540e72454a68">Sid::dotDotDistance</a>).<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>() * _spatium;</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;            x += <a class="code" href="classMs_1_1Element.html#adc45b084165da6ceb3afa7913d6a3feb">symWidth</a>(<a class="code" href="namespaceMs.html#a602ef082ffbbe2c4b11e2375cc4aa794ae7f80072156130d537acf825545c10f0">SymId::augmentationDot</a>);</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;            rrr = qMax(rrr, x);</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;            }</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.isEmpty()) {</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;            <span class="comment">// TODO: allocate space? see layoutPitched()</span></div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : <a class="code" href="classMs_1_1Chord.html#a9ba14767335dea9274a6e42b4bca2452">articulations</a>())</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                  a-&gt;layout();</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;            }</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> = lll;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a> = rrr;</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      qreal graceMag = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eacf91555d502f169a47dcd9db66a88590">Sid::graceNoteMag</a>);</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      QVector&lt;Chord*&gt; <a class="code" href="classMs_1_1Chord.html#a136eb39ecfa4096dc41df49e135a5ce7">graceNotesBefore</a> = <a class="code" href="classMs_1_1Chord.html#a136eb39ecfa4096dc41df49e135a5ce7">Chord::graceNotesBefore</a>();</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      <span class="keywordtype">int</span> nb = graceNotesBefore.size();</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      <span class="keywordflow">if</span> (nb) {</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;              qreal xl = -(<a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> + <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce">minNoteDistance</a>);</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = nb-1; i &gt;= 0; --i) {</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                    <a class="code" href="classMs_1_1Chord.html">Chord</a>* c = graceNotesBefore.value(i);</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                    xl -= c-&gt;<a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a><span class="comment">/* * 1.2*/</span>;</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                    c-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(xl, 0);</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                    xl -= c-&gt;<a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> + minNoteDistance * graceMag;</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                    }</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;              <span class="keywordflow">if</span> (-xl &gt; <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a>)</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;                    <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> = -xl;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;              }</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;       QVector&lt;Chord*&gt; gna = <a class="code" href="classMs_1_1Chord.html#afe552a986cb79260a7776bce05bdb6ff">graceNotesAfter</a>();</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;       <span class="keywordtype">int</span> na = gna.size();</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;       <span class="keywordflow">if</span> (na) {</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;           <span class="comment">// get factor for start distance after main note. Values found by testing.</span></div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;           qreal fc;</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;           <span class="keywordflow">switch</span> (<a class="code" href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">durationType</a>().<a class="code" href="classMs_1_1Chord.html#a07ee676c61ad4e0e32d49142c7aa1b4e">type</a>()) {</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68ca3d2749fbef262605f6402cb4363e5871">TDuration::DurationType::V_LONG</a>:    fc = 3.8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68ca6c6e49b3c9b39ed391ad302487159e47">TDuration::DurationType::V_BREVE</a>:   fc = 3.8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68ca68a1baf6d6e825773e6dc8cdaf7b1dba">TDuration::DurationType::V_WHOLE</a>:   fc = 3.8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68cac5f539d8ae1a90e7d2c1489ae20048dc">TDuration::DurationType::V_HALF</a>:    fc = 3.6; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68ca05e8f1c139e16d278117c17e7fc13ef6">TDuration::DurationType::V_QUARTER</a>: fc = 2.1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68caedb942968b04a93a934e1e7300694ed5">TDuration::DurationType::V_EIGHTH</a>:  fc = 1.4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68cadf948dbd00eed85b0f5327e7e196023e">TDuration::DurationType::V_16TH</a>:    fc = 1.2; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                 <span class="keywordflow">default</span>: fc = 1;</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                 }</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;           qreal xr = fc * (<a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a> + <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce">minNoteDistance</a>);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= na - 1; i++) {</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                 <a class="code" href="classMs_1_1Chord.html">Chord</a>* c = gna.value(i);</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                 xr += c-&gt;<a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> * (i == 0 ? 1.3 : 1);</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                 c-&gt;<a class="code" href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">setPos</a>(xr, 0);</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                 xr += c-&gt;<a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a> + minNoteDistance * graceMag;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                 }</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;           <span class="keywordflow">if</span> (xr &gt; <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>)</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;                 <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a> = xr;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;           }</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>()) {</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;            e-&gt;layout();</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;            <span class="keywordflow">if</span> (e-&gt;type() == <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eace00c7704ec09c488a4557c123a23119">ElementType::CHORDLINE</a>) {</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;                  QRectF tbbox = e-&gt;bbox().translated(e-&gt;pos());</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;                  qreal lx = tbbox.left();</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;                  qreal rx = tbbox.right();</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;                  <span class="keywordflow">if</span> (-lx &gt; <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a>)</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> = -lx;</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;                  <span class="keywordflow">if</span> (rx &gt; <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>)</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a> = rx;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;                  }</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;            }</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; numOfNotes; ++i)</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.at(i)-&gt;layout2();</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      QRectF bb;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a5bcddfe45a491f0f1d90794783438177">processSiblings</a>([&amp;bb] (<a class="code" href="classMs_1_1Element.html">Element</a>* e) { bb |= e-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().translated(e-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>()); } );</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>)</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;            bb |= <a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().translated(<a class="code" href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">_tabDur</a>-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>());</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;      <a class="code" href="classMs_1_1Element.html#abe5c0aa8e74388b2b6b336dfec469a35">setbbox</a>(bb);</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      }</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;<span class="comment">//   crossMeasureSetup</span></div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;</div><div class="line"><a name="l02494"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#afe0530ec07045553559ded6c16d5dd6c"> 2494</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#afe0530ec07045553559ded6c16d5dd6c">Chord::crossMeasureSetup</a>(<span class="keywordtype">bool</span> on)</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;      {</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;      <span class="keywordflow">if</span> (!on) {</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a31164d5f203926c37f06a5ae8832793d">_crossMeasure</a> != <a class="code" href="namespaceMs.html#aa793e7d1cf7b4a3a8f4950c659655dd3a696b031073e74bf2cb98e5ef201d4aa3">CrossMeasure::UNKNOWN</a>) {</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#a31164d5f203926c37f06a5ae8832793d">_crossMeasure</a> = <a class="code" href="namespaceMs.html#aa793e7d1cf7b4a3a8f4950c659655dd3a696b031073e74bf2cb98e5ef201d4aa3">CrossMeasure::UNKNOWN</a>;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a185fc7776084b28c2f33003434729ffe">layoutStem1</a>();</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;                  }</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;            }</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a31164d5f203926c37f06a5ae8832793d">_crossMeasure</a> == <a class="code" href="namespaceMs.html#aa793e7d1cf7b4a3a8f4950c659655dd3a696b031073e74bf2cb98e5ef201d4aa3">CrossMeasure::UNKNOWN</a>) {</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;            <a class="code" href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71">CrossMeasure</a> tempCross = <a class="code" href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71ab50339a10e1de285ac99d4c3990b8693">CrossMeasure::NONE</a>;  <span class="comment">// assume no cross-measure modification</span></div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;            <span class="comment">// if chord has only one note and note is tied forward</span></div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size() == 1 &amp;&amp; <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>[0]-&gt;tieFor()) {</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* tiedChord = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>[0]-&gt;tieFor()-&gt;endNote()-&gt;chord();</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                  <span class="comment">// if tied note belongs to another measure and to a single-note chord</span></div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;                  <span class="keywordflow">if</span> (tiedChord-&gt;<a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() != <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>() &amp;&amp; tiedChord-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size() == 1) {</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;                        <span class="comment">// get total duration</span></div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                        std::vector&lt;TDuration&gt; durList = <a class="code" href="namespaceMs.html#a2b067d41bac5aceb3682836a79939376">toDurationList</a>(</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                                    <a class="code" href="classMs_1_1ChordRest.html#a6802d9faa8168c8425b8dcb3d11d2edb">actualDurationType</a>().<a class="code" href="namespaceMs.html#a7ed072d6dff4510a84d47dc97fc27149">fraction</a>() +</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;                                    tiedChord-&gt;<a class="code" href="classMs_1_1ChordRest.html#a6802d9faa8168c8425b8dcb3d11d2edb">actualDurationType</a>().<a class="code" href="classMs_1_1TDuration.html#a5f699dd041973be93c8bef472927ee5f">fraction</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                        <span class="comment">// if duration can be expressed as a single duration</span></div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                        <span class="comment">// apply cross-measure modification</span></div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                        <span class="keywordflow">if</span> (durList.size() == 1) {</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                              <a class="code" href="classMs_1_1ChordRest.html#a31164d5f203926c37f06a5ae8832793d">_crossMeasure</a> = tempCross = <a class="code" href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71a2c2624a5059934a947d6e25fe8332ade">CrossMeasure::FIRST</a>;</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                              <a class="code" href="classMs_1_1ChordRest.html#aba0cce6921c0cca20dbd41197e4e58d9">_crossMeasureTDur</a> = durList[0];</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                              <a class="code" href="classMs_1_1Chord.html#a185fc7776084b28c2f33003434729ffe">layoutStem1</a>();</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;                              }</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;                        }</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#a31164d5f203926c37f06a5ae8832793d">_crossMeasure</a> = tempCross;</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;                  tiedChord-&gt;<a class="code" href="classMs_1_1ChordRest.html#acc7b8669972325c93c8bc7c819a94b28">setCrossMeasure</a>(tempCross == <a class="code" href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71a2c2624a5059934a947d6e25fe8332ade">CrossMeasure::FIRST</a> ?</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                              <a class="code" href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71a2200becb80f0019c4a2ccecec350d0db">CrossMeasure::SECOND</a> : <a class="code" href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71ab50339a10e1de285ac99d4c3990b8693">CrossMeasure::NONE</a>);</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                  }</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;            }</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;      }</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;<span class="comment">//   layoutArpeggio2</span></div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;<span class="comment">//    called after layout of page</span></div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;</div><div class="line"><a name="l02534"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a83b52654e7177b6ab649f8da843f28a5"> 2534</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a83b52654e7177b6ab649f8da843f28a5">Chord::layoutArpeggio2</a>()</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      {</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      qreal <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a>           = <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a06cc027fe14db0cf896f02931356ae24">pagePos</a>().y() - <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#aebe714f6dc759dbf09ffcda4491952fd">headHeight</a>() * .5;</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      <span class="keywordtype">int</span> span          = <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Arpeggio.html#a2798d0ef2c067aefb5ec1569477c80a7">span</a>();</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;      <span class="keywordtype">int</span> btrack        = <a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() + (span - 1) * <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>;</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* element = <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#a4e9ad4c47081dec0aebcd2aea96b309f">element</a>(btrack);</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html">ChordRest</a>* bchord = element ? <a class="code" href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">toChordRest</a>(element) : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      <a class="code" href="classMs_1_1Note.html">Note</a>* dnote       = (bchord &amp;&amp; bchord-&gt;<a class="code" href="classMs_1_1ChordRest.html#a47a641f4c229f43d67ed5154fdebc05c">type</a>() == <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea45d886b842022787183a308e0200d336">ElementType::CHORD</a>) ? toChord(bchord)-&gt;downNote() : <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>();</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      qreal h = dnote-&gt;<a class="code" href="classMs_1_1Element.html#a06cc027fe14db0cf896f02931356ae24">pagePos</a>().y() + dnote-&gt;<a class="code" href="classMs_1_1Note.html#aebe714f6dc759dbf09ffcda4491952fd">headHeight</a>() * .5 - <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a>;</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Arpeggio.html#ab548e1fae74df75b4ccbb98830149cd3">setHeight</a>(h);</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Arpeggio.html#ab53225de392b4269ee0329a6ad0e046d">layout</a>();</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;<span class="preprocessor">#if 0 // collect notes for arpeggio</span></div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;      QList&lt;Note*&gt; <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      <span class="keywordtype">int</span> n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size();</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = n - 1; j &gt;= 0; --j) {</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* note = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>[j];</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;            <span class="keywordflow">if</span> (note-&gt;<a class="code" href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">tieBack</a>())</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;            notes.prepend(note);</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;            }</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; span; ++i) {</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;            <a class="code" href="classMs_1_1ChordRest.html">ChordRest</a>* c = <a class="code" href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">toChordRest</a>(<a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;element(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() + i * <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>));</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;            <span class="keywordflow">if</span> (c &amp;&amp; c-&gt;<a class="code" href="classMs_1_1ChordRest.html#a47a641f4c229f43d67ed5154fdebc05c">type</a>() == <a class="code" href="namespaceMs.html#a28863123e439c88c35086eb7dd963c9aa45d886b842022787183a308e0200d336">CHORD</a>) {</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;                  QList&lt;Note*&gt; nl = toChord(c)-&gt;notes();</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;                  <span class="keywordtype">int</span> n = nl.size();</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = n - 1; j &gt;= 0; --j) {</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;                        <a class="code" href="classMs_1_1Note.html">Note</a>* note = nl[j];</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;                        <span class="keywordflow">if</span> (note-&gt;<a class="code" href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">tieBack</a>())</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;                              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;                        notes.prepend(note);</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;                        }</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;                  }</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;            }</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;      }</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;<span class="comment">//   layoutNotesSpanners</span></div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;</div><div class="line"><a name="l02580"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a4d110ef401e1ecf0338442919917224d"> 2580</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a4d110ef401e1ecf0338442919917224d">Chord::layoutSpanners</a>()</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;      {</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* n : <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()) {</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;            <a class="code" href="classMs_1_1Tie.html">Tie</a>* tie = n-&gt;tieFor();</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;            <span class="keywordflow">if</span> (tie)</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;                  tie-&gt;<a class="code" href="classMs_1_1Element.html#a3ae68f5da280c53fd1d329f20601818b">layout</a>();</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Spanner.html">Spanner</a>* sp : n-&gt;spannerBack())</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;                  sp-&gt;layout();</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;            }</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;      }</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;</div><div class="line"><a name="l02591"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ac944a76026438bf900562753bf5070fd"> 2591</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a4d110ef401e1ecf0338442919917224d">Chord::layoutSpanners</a>(<a class="code" href="classMs_1_1System.html">System</a>* system, <span class="keyword">const</span> <a class="code" href="classMs_1_1Fraction.html">Fraction</a>&amp; stick)</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      {<span class="comment"></span></div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;<span class="comment">      //! REVIEW Needs explanation</span></div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;<span class="comment"></span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* note : <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()) {</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;            <a class="code" href="classMs_1_1Tie.html">Tie</a>* t = note-&gt;tieFor();</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            <span class="keywordflow">if</span> (t)</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;                  t-&gt;<a class="code" href="classMs_1_1Tie.html#acf72f934562e0b3b45f9e8984d0dd970">layoutFor</a>(system);</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;            t = note-&gt;tieBack();</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;            <span class="keywordflow">if</span> (t) {</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;                  <span class="keywordflow">if</span> (t-&gt;<a class="code" href="classMs_1_1Tie.html#acdcb6924221b29a0e3d6ae3fa109aa14">startNote</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>() &lt; stick)</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                        t-&gt;<a class="code" href="classMs_1_1Tie.html#a81e11c00ff2b76f3472303560c12d0a5">layoutBack</a>(system);</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                  }</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Spanner.html">Spanner</a>* sp : note-&gt;spannerBack())</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;                  sp-&gt;<a class="code" href="classMs_1_1Element.html#a3ae68f5da280c53fd1d329f20601818b">layout</a>();</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;            }</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      }</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;<span class="comment">//   findNote</span></div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div><div class="line"><a name="l02612"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a8fb5d95337507f05b0ae6c70a4dc9a78"> 2612</a></span>&#160;<a class="code" href="classMs_1_1Note.html">Note</a>* <a class="code" href="classMs_1_1Chord.html#a8fb5d95337507f05b0ae6c70a4dc9a78">Chord::findNote</a>(<span class="keywordtype">int</span> pitch, <span class="keywordtype">int</span> skip)<span class="keyword"> const</span></div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;      <span class="keywordtype">size_t</span> ns = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size();</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; ns; ++i) {</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.at(i);</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;            <span class="keywordflow">if</span> (n-&gt;<a class="code" href="classMs_1_1Note.html#adb609dbbd1f11ba96c09c01d49fa63bd">pitch</a>() == pitch) {</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;                  <span class="keywordflow">if</span> (skip == 0)</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;                        <span class="keywordflow">return</span> n;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;                        --skip;</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;                  }</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;            }</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;      }</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="comment">//   drop</span></div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;</div><div class="line"><a name="l02631"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ac91b212e92e0840f3ffd4f4751af8a39"> 2631</a></span>&#160;<a class="code" href="classMs_1_1Element.html">Element</a>* <a class="code" href="classMs_1_1Chord.html#ac91b212e92e0840f3ffd4f4751af8a39">Chord::drop</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>&amp; data)</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;      {</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* e = data.<a class="code" href="classMs_1_1EditData.html#a59817d1195a8384c45ca1321baf39725">dropElement</a>;</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;      <span class="keywordflow">switch</span> (e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">type</a>()) {</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eacb3f068f057caa10e7caa198e7661e44">ElementType::ARTICULATION</a>:</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;                  {</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;                  <a class="code" href="classMs_1_1Articulation.html">Articulation</a>* atr = toArticulation(e);</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;                  <a class="code" href="classMs_1_1Articulation.html">Articulation</a>* oa = <a class="code" href="classMs_1_1Chord.html#a94e58a0cb7124451e6d1cbed435a425f">hasArticulation</a>(atr);</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;                  <span class="keywordflow">if</span> (oa) {</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;                        <span class="keyword">delete</span> atr;</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;                        atr = 0;</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;                        <span class="comment">// if attribute is already there, remove</span></div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;                        <span class="comment">// score()-&gt;cmdRemove(oa); // unexpected behaviour?</span></div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;                        <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#aa3b85eb58a8f7f4476fbd05b59253585">select</a>(oa, <a class="code" href="namespaceMs.html#a1066451ad9dc9959bedb76978f4f30c8a0679273e201afd0bf57af3961f8a23b8">SelectType::SINGLE</a>, 0);</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;                        }</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;                        atr-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;                        atr-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;                        <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a88d1556bac485bde9b2d6ae3c1e6bd77">undoAddElement</a>(atr);</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;                        }</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;                  <span class="keywordflow">return</span> atr;</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;                  }</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eace00c7704ec09c488a4557c123a23119">ElementType::CHORDLINE</a>:</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;                  e-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                  e-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a88d1556bac485bde9b2d6ae3c1e6bd77">undoAddElement</a>(e);</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a8699b57ba7b0ea3fc6471ada80b8e4f8">ElementType::TREMOLO</a>:</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;                  {</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;                  <a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>* t = toTremolo(e);</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;                  <span class="keywordflow">if</span> (t-&gt;<a class="code" href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">twoNotes</a>()) {</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;                        <a class="code" href="classMs_1_1Segment.html">Segment</a>* s = <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#a1c4c00c6b1052c6c122f5fc665ec8a20">next</a>();</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;                        <span class="keywordflow">while</span> (s) {</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                              <span class="keywordflow">if</span> (s-&gt;<a class="code" href="classMs_1_1Segment.html#a4e9ad4c47081dec0aebcd2aea96b309f">element</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>()) &amp;&amp; s-&gt;<a class="code" href="classMs_1_1Segment.html#a4e9ad4c47081dec0aebcd2aea96b309f">element</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>())-&gt;isChord())</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;                                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;                              s = s-&gt;<a class="code" href="classMs_1_1Segment.html#a1c4c00c6b1052c6c122f5fc665ec8a20">next</a>();</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;                              }</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;                        <span class="keywordflow">if</span> (s == 0) {</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;                              qDebug(<span class="stringliteral">&quot;no segment for second note of tremolo found&quot;</span>);</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                              <span class="keyword">delete</span> e;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;                              <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;                              }</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;                        <a class="code" href="classMs_1_1Chord.html">Chord</a>* ch2 = toChord(s-&gt;<a class="code" href="classMs_1_1Segment.html#a4e9ad4c47081dec0aebcd2aea96b309f">element</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>()));</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;                        <span class="keywordflow">if</span> (ch2-&gt;<a class="code" href="classMs_1_1DurationElement.html#abd480ba4d052d040db56e1e504cf2596">ticks</a>() != <a class="code" href="classMs_1_1DurationElement.html#abd480ba4d052d040db56e1e504cf2596">ticks</a>()) {</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                              qDebug(<span class="stringliteral">&quot;no matching chord for second note of tremolo found&quot;</span>);</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;                              <span class="keyword">delete</span> e;</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;                              <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;                             }</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;                        t-&gt;<a class="code" href="classMs_1_1Tremolo.html#ae23f822657ab2477a8ad0d203e44569f">setChords</a>(<span class="keyword">this</span>, ch2);</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;                        }</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;                  }</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>()) {</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;                        <span class="keywordtype">bool</span> sameType = (e-&gt;<a class="code" href="classMs_1_1Element.html#ad38a889b51fa8b8553a15ca29abbc874">subtype</a>() == <a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>()-&gt;<a class="code" href="classMs_1_1Tremolo.html#a8c0beed9ea316d14a8f7285fb8accf3f">subtype</a>());</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;                        <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>());</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;                        <span class="keywordflow">if</span> (sameType) {</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                              <span class="keyword">delete</span> e;</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;                              <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;                              }</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;                        }</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;                  e-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;                  e-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a88d1556bac485bde9b2d6ae3c1e6bd77">undoAddElement</a>(e);</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a0dc5c02ab9adfa308008caeaa39d0ea3">ElementType::ARPEGGIO</a>:</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;                  {</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                  <a class="code" href="classMs_1_1Arpeggio.html">Arpeggio</a>* a = toArpeggio(e);</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">arpeggio</a>())</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;                        <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(<a class="code" href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">arpeggio</a>());</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;                  a-&gt;<a class="code" href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">setTrack</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;                  a-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;                  a-&gt;<a class="code" href="classMs_1_1Arpeggio.html#ab548e1fae74df75b4ccbb98830149cd3">setHeight</a>(<a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>() * 5);   <span class="comment">//DEBUG</span></div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;                  <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a88d1556bac485bde9b2d6ae3c1e6bd77">undoAddElement</a>(a);</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;                  }</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;                  <span class="keywordflow">return</span> e;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#a1277a12746bf12af5cbf79d95ada6a21">ChordRest::drop</a>(data);</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;            }</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      }</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;<span class="comment">//   dotPosX</span></div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;</div><div class="line"><a name="l02719"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ad11d82b99c9fa25362378d6ae31d1f97"> 2719</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#ad11d82b99c9fa25362378d6ae31d1f97">Chord::dotPosX</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>())</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#afde517eb0b39a5f649e25fc929038e7a">dotPosX</a>(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>());</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      <span class="keywordflow">return</span> -1000.0;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      }</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;<span class="comment">//   localSpatiumChanged</span></div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;</div><div class="line"><a name="l02730"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ad522b2e9841b3848e088567c54d09f1d"> 2730</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#ad522b2e9841b3848e088567c54d09f1d">Chord::localSpatiumChanged</a>(qreal oldValue, qreal newValue)</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;      {</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#ae41b3cde04fdfb98b2bccb895395be63">ChordRest::localSpatiumChanged</a>(oldValue, newValue);</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : <a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>())</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;            e-&gt;localSpatiumChanged(oldValue, newValue);</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>)</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#a904f7cbd2d6c478e10a6e7d7ae9f638d">localSpatiumChanged</a>(oldValue, newValue);</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>)</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;            <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#a904f7cbd2d6c478e10a6e7d7ae9f638d">localSpatiumChanged</a>(oldValue, newValue);</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>)</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;            <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>-&gt;<a class="code" href="classMs_1_1Element.html#a904f7cbd2d6c478e10a6e7d7ae9f638d">localSpatiumChanged</a>(oldValue, newValue);</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">arpeggio</a>())</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">arpeggio</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a904f7cbd2d6c478e10a6e7d7ae9f638d">localSpatiumChanged</a>(oldValue, newValue);</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> &amp;&amp; (<a class="code" href="classMs_1_1Chord.html#ab6d9f107efd82271221360d272035288">tremoloChordType</a>() != <a class="code" href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36af24d38ace0aa2b2391d8dd2e313a88ac">TremoloChordType::TremoloSecondNote</a>))</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;            <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#ac964c37590bb20f1a307477d9e973f13">localSpatiumChanged</a>(oldValue, newValue);</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : <a class="code" href="classMs_1_1Chord.html#a9ba14767335dea9274a6e42b4bca2452">articulations</a>())</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;            e-&gt;localSpatiumChanged(oldValue, newValue);</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>())</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;            note-&gt;localSpatiumChanged(oldValue, newValue);</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;      }</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;<span class="comment">//   getProperty</span></div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;</div><div class="line"><a name="l02755"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a8958a6a6eae050f1d0edb09eecc5ee80"> 2755</a></span>&#160;QVariant <a class="code" href="classMs_1_1Chord.html#a8958a6a6eae050f1d0edb09eecc5ee80">Chord::getProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655">Pid</a> <a class="code" href="classMs_1_1Element.html#a44c16323c852e23c783b8d7362cc9c6a">propertyId</a>)<span class="keyword"> const</span></div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;      <span class="keywordflow">switch</span> (propertyId) {</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a80cddb587c5f541d794c078f09764733">Pid::NO_STEM</a>:        <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a91fe4d3fdb635187c867f35d021df546">noStem</a>();</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a9b9c17e13f0e3dc9860a26e08b59b2a7">Pid::SMALL</a>:          <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#a260e9896d5323993e2ba87c40f60d5ce">small</a>();</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918">Pid::STEM_DIRECTION</a>: <span class="keywordflow">return</span> QVariant::fromValue&lt;Direction&gt;(<a class="code" href="classMs_1_1Chord.html#a722c73034ff13507a1336593e6af9567">stemDirection</a>());</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#a9998cf9d72661ff98e5402e1dcfd17b7">ChordRest::getProperty</a>(propertyId);</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;            }</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;      }</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;<span class="comment">//   propertyDefault</span></div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;</div><div class="line"><a name="l02770"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a6f0c62a523ac6a2c445118fb472d2434"> 2770</a></span>&#160;QVariant <a class="code" href="classMs_1_1Chord.html#a6f0c62a523ac6a2c445118fb472d2434">Chord::propertyDefault</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655">Pid</a> <a class="code" href="classMs_1_1Element.html#a44c16323c852e23c783b8d7362cc9c6a">propertyId</a>)<span class="keyword"> const</span></div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;      <span class="keywordflow">switch</span> (propertyId) {</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a80cddb587c5f541d794c078f09764733">Pid::NO_STEM</a>:        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a9b9c17e13f0e3dc9860a26e08b59b2a7">Pid::SMALL</a>:          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918">Pid::STEM_DIRECTION</a>: <span class="keywordflow">return</span> QVariant::fromValue&lt;Direction&gt;(<a class="code" href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6ae1f2d5134ed2543d38a0de9751cf75d9">Direction::AUTO</a>);</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#a36c27cbff08f33c7785e001bee88381b">ChordRest::propertyDefault</a>(propertyId);</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;            }</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;      }</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;<span class="comment">//   setProperty</span></div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;</div><div class="line"><a name="l02785"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ad35c2bb16e7bc3823a0f57939071339c"> 2785</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1Chord.html#ad35c2bb16e7bc3823a0f57939071339c">Chord::setProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655">Pid</a> <a class="code" href="classMs_1_1Element.html#a44c16323c852e23c783b8d7362cc9c6a">propertyId</a>, <span class="keyword">const</span> QVariant&amp; v)</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      {</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      <span class="keywordflow">switch</span> (propertyId) {</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a80cddb587c5f541d794c078f09764733">Pid::NO_STEM</a>:</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#a75e2a78efa5ef9ea261ac75009def7fc">setNoStem</a>(v.toBool());</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a9b9c17e13f0e3dc9860a26e08b59b2a7">Pid::SMALL</a>:</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;                  <a class="code" href="classMs_1_1ChordRest.html#a2c1a9c099f5bd7aa4889202975aa8b02">setSmall</a>(v.toBool());</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918">Pid::STEM_DIRECTION</a>:</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;                  <a class="code" href="classMs_1_1Chord.html#ac77462915c4e2927cb96da1cad3b71c6">setStemDirection</a>(v.value&lt;<a class="code" href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6">Direction</a>&gt;());</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#a69e9ec83b46d8fbe7e1f1812b5067a22">ChordRest::setProperty</a>(propertyId, v);</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;            }</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      <a class="code" href="classMs_1_1Element.html#ab28ffe83fb1064fb3c2a6fa648bca688">triggerLayout</a>();</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;      }</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;<span class="comment">//   hasArticulation</span></div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;</div><div class="line"><a name="l02808"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a94e58a0cb7124451e6d1cbed435a425f"> 2808</a></span>&#160;<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* <a class="code" href="classMs_1_1Chord.html#a94e58a0cb7124451e6d1cbed435a425f">Chord::hasArticulation</a>(<span class="keyword">const</span> <a class="code" href="classMs_1_1Articulation.html">Articulation</a>* aa)</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;      {</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : qAsConst(<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>)) {</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;            <span class="keywordflow">if</span> (a-&gt;subtype() == aa-&gt;<a class="code" href="classMs_1_1Articulation.html#ac1d6030e32f81a1e34b001fd23cb9fd5">subtype</a>())</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;                  <span class="keywordflow">return</span> a;</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;            }</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;      }</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="comment">//   reset</span></div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;</div><div class="line"><a name="l02821"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a127560a527e2a5c4f59003a28e95e618"> 2821</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a127560a527e2a5c4f59003a28e95e618">Chord::reset</a>()</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;      {</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;      <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918">Pid::STEM_DIRECTION</a>, QVariant::fromValue&lt;Direction&gt;(<a class="code" href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6ae1f2d5134ed2543d38a0de9751cf75d9">Direction::AUTO</a>));</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;      <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a35723f4687aebe8d09700c508026291d">Pid::BEAM_MODE</a>, <span class="keywordtype">int</span>(<a class="code" href="classMs_1_1Beam.html#affab6e5059fcaefb7b25c31fd2d0e6feae1f2d5134ed2543d38a0de9751cf75d9">Beam::Mode::AUTO</a>));</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;      <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a238e845d7b6a1e04230d35934cd00a74">createPlayEvents</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;      <a class="code" href="classMs_1_1Element.html#aaa90bc751111ad8ec041e2004321fbfe">ChordRest::reset</a>();</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;      }</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;<span class="comment">//   slash</span></div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;</div><div class="line"><a name="l02833"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a21d4b236a351c39c34de65c0796343c5"> 2833</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1Chord.html#a21d4b236a351c39c34de65c0796343c5">Chord::slash</a>()</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;      {</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      <a class="code" href="classMs_1_1Note.html">Note</a>* n = <a class="code" href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">upNote</a>();</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;      <span class="keywordflow">return</span> n-&gt;<a class="code" href="classMs_1_1Note.html#a4f70ed1ad94787f19a5b90c38df3564e">fixed</a>();</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;      }</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;<span class="comment">//   setSlash</span></div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;</div><div class="line"><a name="l02843"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#af3dd6e9c85cfb18b93cfbd1d30328362"> 2843</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#af3dd6e9c85cfb18b93cfbd1d30328362">Chord::setSlash</a>(<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1Element.html#aedd1f66a4881665f277bc30fefe765b2">flag</a>, <span class="keywordtype">bool</span> stemless)</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;      {</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="classMs_1_1ChordRest.html#af8d6f832ec77d99584221063031d36ba">line</a> = 0;</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;      <a class="code" href="classMs_1_1NoteHead.html#a1d3e8faf3d3bc1d89d9d3485acde69d1">NoteHead::Group</a> head = <a class="code" href="classMs_1_1NoteHead.html#a1d3e8faf3d3bc1d89d9d3485acde69d1aba9822c671c314db3077fcdf1f5be589">NoteHead::Group::HEAD_SLASH</a>;</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;      <span class="keywordflow">if</span> (!flag) {</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;            <span class="comment">// restore to normal</span></div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;            <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a80cddb587c5f541d794c078f09764733">Pid::NO_STEM</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;            <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a9b9c17e13f0e3dc9860a26e08b59b2a7">Pid::SMALL</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;            <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a1b8a8605d2ff5670a215e55c6645e0d9">Pid::OFFSET</a>, QPointF());</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;                  n-&gt;undoChangeProperty(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a5d15377f29d4bca438ef8a339555af95">Pid::HEAD_GROUP</a>, <span class="keywordtype">int</span>(<a class="code" href="classMs_1_1NoteHead.html#a1d3e8faf3d3bc1d89d9d3485acde69d1a6a94b8d56da1b6f881b076e10170e9a2">NoteHead::Group::HEAD_NORMAL</a>));</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;                  n-&gt;undoChangeProperty(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655ac6e6dc18b53b4c2681394b9d8aefcec7">Pid::FIXED</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;                  n-&gt;undoChangeProperty(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a457e31bcd21e4852f3388587ee933adb">Pid::FIXED_LINE</a>, 0);</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                  n-&gt;undoChangeProperty(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a6a216efc529825c60a4a4c0bc99ad77f">Pid::PLAY</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;                  n-&gt;undoChangeProperty(<a class="code" href="namespaceMs.html#a00e5c648c84154926f4a68381ac9b401adc55b7d8d01602c06924ca667f4d423a">Pid::VISIBLE</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;isDrumStaff(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>())) {</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classMs_1_1Drumset.html">Drumset</a>* ds = <a class="code" href="classMs_1_1Element.html#a0049832d4191b3ce02446efa09127610">part</a>()-&gt;<a class="code" href="classMs_1_1Part.html#a6cae82662abe64d683dff09b3c7874f8">instrument</a>(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>())-&gt;<a class="code" href="classMs_1_1Instrument.html#ac377dcee9176d06151474454b0f3c265">drumset</a>();</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;                        <span class="keywordtype">int</span> pitch = n-&gt;pitch();</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                        <span class="keywordflow">if</span> (ds &amp;&amp; ds-&gt;<a class="code" href="classMs_1_1Drumset.html#a0c116c7a1faa14e7d3f5b583561f5245">isValid</a>(pitch)) {</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                              <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918">Pid::STEM_DIRECTION</a>, QVariant::fromValue&lt;Direction&gt;(ds-&gt;<a class="code" href="classMs_1_1Drumset.html#aba68558b6c961c97ae76fa3e05598c2b">stemDirection</a>(pitch)));</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;                              n-&gt;undoChangeProperty(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a5d15377f29d4bca438ef8a339555af95">Pid::HEAD_GROUP</a>, <span class="keywordtype">int</span>(ds-&gt;<a class="code" href="classMs_1_1Drumset.html#a57e943db32934a5f5b85f56d6cc5dc47">noteHead</a>(pitch)));</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                              }</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;                        }</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                  }</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;            }</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;      <span class="comment">// set stem to auto (mostly important for rhythmic notation on drum staves)</span></div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;      <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918">Pid::STEM_DIRECTION</a>, QVariant::fromValue&lt;Direction&gt;(<a class="code" href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6ae1f2d5134ed2543d38a0de9751cf75d9">Direction::AUTO</a>));</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;      <span class="comment">// make stemless if asked</span></div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;      <span class="keywordflow">if</span> (stemless) {</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;            <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a80cddb587c5f541d794c078f09764733">Pid::NO_STEM</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;            <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a35723f4687aebe8d09700c508026291d">Pid::BEAM_MODE</a>, <span class="keywordtype">int</span>(<a class="code" href="classMs_1_1Beam.html#affab6e5059fcaefb7b25c31fd2d0e6feab50339a10e1de285ac99d4c3990b8693">Beam::Mode::NONE</a>));</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;            }</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      <span class="comment">// voice-dependent attributes - line, size, offset, head</span></div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() % <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a> &lt; 2) {</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;            <span class="comment">// use middle line</span></div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;            line = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#ac277b6d652a8c274e66baf5908ec320c">middleLine</a>(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>());</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;            }</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;            <span class="comment">// set small</span></div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;            <a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a9b9c17e13f0e3dc9860a26e08b59b2a7">Pid::SMALL</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;            <span class="comment">// set outside the staff</span></div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a> = 0.0;</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() % 2) {</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                  line = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#a009f2fac102fdf6803cee68ed95d0c4f">bottomLine</a>(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>()) + 1;</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;                  y    = 0.5 * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;                  }</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;                  line = -1;</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;isDrumStaff(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>()))</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;                        y = -0.5 * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                  }</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;            <span class="comment">// for non-drum staves, add an additional offset</span></div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;            <span class="comment">// for drum staves, no offset, but use normal head</span></div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;isDrumStaff(<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>()))</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;                  <span class="comment">// undoChangeProperty(Pid::OFFSET, QPointF(0.0, y));</span></div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                  <a class="code" href="classMs_1_1Element.html#a1397cfb5140978e6cd9aa294ade7d738">rypos</a>() += <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a>;</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;                  head = <a class="code" href="classMs_1_1NoteHead.html#a1d3e8faf3d3bc1d89d9d3485acde69d1a6a94b8d56da1b6f881b076e10170e9a2">NoteHead::Group::HEAD_NORMAL</a>;</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;            }</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;      <span class="keywordtype">size_t</span> ns = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.size();</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; ns; ++i) {</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>[i];</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;            n-&gt;<a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a5d15377f29d4bca438ef8a339555af95">Pid::HEAD_GROUP</a>, static_cast&lt;int&gt;(head));</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;            n-&gt;<a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655ac6e6dc18b53b4c2681394b9d8aefcec7">Pid::FIXED</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;            n-&gt;<a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a457e31bcd21e4852f3388587ee933adb">Pid::FIXED_LINE</a>, line);</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;            n-&gt;<a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a6a216efc529825c60a4a4c0bc99ad77f">Pid::PLAY</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;            <span class="comment">// hide all but first notehead</span></div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;            <span class="keywordflow">if</span> (i)</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;                  n-&gt;<a class="code" href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">undoChangeProperty</a>(<a class="code" href="namespaceMs.html#a00e5c648c84154926f4a68381ac9b401adc55b7d8d01602c06924ca667f4d423a">Pid::VISIBLE</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;            }</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;      }</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;<span class="comment">//  updateEndsGlissando</span></div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;<span class="comment">//    sets/resets the chord _endsGlissando according any glissando (or more)</span></div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;<span class="comment">//    end into this chord or no.</span></div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;</div><div class="line"><a name="l02927"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a68421838d547539df5a4ccb2199e6d0c"> 2927</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a68421838d547539df5a4ccb2199e6d0c">Chord::updateEndsGlissando</a>()</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;      {</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;      <a class="code" href="classMs_1_1Chord.html#afafd30fd179d67a4f488d619e28fa416">_endsGlissando</a> = <span class="keyword">false</span>;       <span class="comment">// assume no glissando ends here</span></div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;      <span class="comment">// scan all chord notes for glissandi ending on this chord</span></div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()) {</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Spanner.html">Spanner</a>* sp : note-&gt;spannerBack())</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                  <span class="keywordflow">if</span> (sp-&gt;type() == <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847aac3aa8aad78d6744cebe7c0413e8112d">ElementType::GLISSANDO</a>) {</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                        <a class="code" href="classMs_1_1Chord.html#afafd30fd179d67a4f488d619e28fa416">_endsGlissando</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                        }</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;            }</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;      }</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;<span class="comment">//   removeMarkings</span></div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;<span class="comment">//    - this is normally called after cloning a chord to tie a note over the barline</span></div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;<span class="comment">//    - there is no special undo handling; the assumption is that undo will simply remove the cloned chord</span></div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;<span class="comment">//    - two note tremolos are converted into simple notes</span></div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;<span class="comment">//    - single note tremolos are optionally retained</span></div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;</div><div class="line"><a name="l02948"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a6a038bc3ad9aaffdb60c449c731c3ffc"> 2948</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a6a038bc3ad9aaffdb60c449c731c3ffc">Chord::removeMarkings</a>(<span class="keywordtype">bool</span> keepTremolo)</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;      {</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>() &amp;&amp; !keepTremolo)</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;            <span class="keyword">remove</span>(<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>());</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">arpeggio</a>())</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;            <span class="keyword">remove</span>(<a class="code" href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">arpeggio</a>());</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;      qDeleteAll(<a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>());</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>().clear();</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;      qDeleteAll(<a class="code" href="classMs_1_1Chord.html#a9ba14767335dea9274a6e42b4bca2452">articulations</a>());</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;      <a class="code" href="classMs_1_1Chord.html#a9ba14767335dea9274a6e42b4bca2452">articulations</a>().clear();</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()) {</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : n-&gt;el())</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                  n-&gt;remove(e);</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;            }</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html#a6fc9cb237164df7cecb329f33d1a81c4">ChordRest::removeMarkings</a>(keepTremolo);</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;      }</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;<span class="comment">//   chordMag</span></div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;</div><div class="line"><a name="l02969"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a20ed4485cac6a24338453d5ce2048297"> 2969</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#a20ed4485cac6a24338453d5ce2048297">Chord::chordMag</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;      qreal m = 1.0;</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#a260e9896d5323993e2ba87c40f60d5ce">small</a>())</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;            m *= <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea6ddf2c55b0a7ea98059dc9d6320ebf8f">Sid::smallNoteMag</a>);</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">_noteType</a> != <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a>)</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;            m *= <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eacf91555d502f169a47dcd9db66a88590">Sid::graceNoteMag</a>);</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;      <span class="keywordflow">return</span> m;</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;      }</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;<span class="comment">//   mag</span></div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;</div><div class="line"><a name="l02983"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec"> 2983</a></span>&#160;qreal <a class="code" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">Chord::mag</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;      <span class="keywordflow">return</span> (st ? st-&gt;<a class="code" href="classMs_1_1Staff.html#a80aa5db67223dff29e9113f23865b62b">mag</a>(<span class="keyword">this</span>) : 1.0) * <a class="code" href="classMs_1_1Chord.html#a20ed4485cac6a24338453d5ce2048297">chordMag</a>();</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;      }</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;<span class="comment">//   segment</span></div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;</div><div class="line"><a name="l02993"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f"> 2993</a></span>&#160;<a class="code" href="classMs_1_1Segment.html">Segment</a>* <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">Chord::segment</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* e = <a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>();</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;      <span class="keywordflow">for</span> (; e &amp;&amp; e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">type</a>() != <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea49f1f9beb48e7b006a35b2377403bea8">ElementType::SEGMENT</a>; e = e-&gt;<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>())</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;            ;</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;      <span class="keywordflow">return</span> toSegment(e);</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;      }</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;<span class="comment">//   measure</span></div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;</div><div class="line"><a name="l03005"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8"> 3005</a></span>&#160;<a class="code" href="classMs_1_1Measure.html">Measure</a>* <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">Chord::measure</a>()<span class="keyword"> const</span></div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* e = <a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>();</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;      <span class="keywordflow">for</span> (; e &amp;&amp; e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">type</a>() != <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea84e4213ee54478574ea15a166ea10152">ElementType::MEASURE</a>; e = e-&gt;<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>())</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;            ;</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;      <span class="keywordflow">return</span> toMeasure(e);</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;      }</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;<span class="comment">//   graceNotesBefore</span></div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;</div><div class="line"><a name="l03017"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a136eb39ecfa4096dc41df49e135a5ce7"> 3017</a></span>&#160;QVector&lt;Chord*&gt; <a class="code" href="classMs_1_1Chord.html#a136eb39ecfa4096dc41df49e135a5ce7">Chord::graceNotesBefore</a>()<span class="keyword"> const</span></div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      QVector&lt;Chord*&gt; cl;</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* c : <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>) {</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;            Q_ASSERT(c-&gt;noteType() != <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a> &amp;&amp; c-&gt;noteType() != <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322accc0377a8afbf50e7094f5c23a8af223">NoteType::INVALID</a>);</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;            <span class="keywordflow">if</span> (c-&gt;noteType() &amp; (</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;                 <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2ae039fd845669d8f1ba177be951be17c8">NoteType::ACCIACCATURA</a></div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;               | <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a2a1dc26af8b64e2f3f230090d918837c">NoteType::APPOGGIATURA</a></div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;               | <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2ae80cb44d4b8a0b53e5156a914e54f062">NoteType::GRACE4</a></div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;               | <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a0753b2cda2bb413db134fa6acc0b60c2">NoteType::GRACE16</a></div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;               | <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a041a6576108c698d49d54b7603d34271">NoteType::GRACE32</a>)) {</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;                  cl.push_back(c);</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                  }</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;            }</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;      <span class="keywordflow">return</span> cl;</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;      }</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="comment">//   graceNotesAfter</span></div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;</div><div class="line"><a name="l03038"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#afe552a986cb79260a7776bce05bdb6ff"> 3038</a></span>&#160;QVector&lt;Chord*&gt; <a class="code" href="classMs_1_1Chord.html#afe552a986cb79260a7776bce05bdb6ff">Chord::graceNotesAfter</a>()<span class="keyword"> const</span></div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;      QVector&lt;Chord*&gt; cl;</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>.size() - 1; i &gt;= 0; i--) {</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;            <a class="code" href="classMs_1_1Chord.html">Chord</a>* c = <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>[i];</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;            Q_ASSERT(c-&gt;<a class="code" href="classMs_1_1Chord.html#a480cf37fc1ac8fe3b97381dd8035552e">noteType</a>() != <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">NoteType::NORMAL</a> &amp;&amp; c-&gt;<a class="code" href="classMs_1_1Chord.html#a480cf37fc1ac8fe3b97381dd8035552e">noteType</a>() != <a class="code" href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322accc0377a8afbf50e7094f5c23a8af223">NoteType::INVALID</a>);</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;            <span class="keywordflow">if</span> (c-&gt;<a class="code" href="classMs_1_1Chord.html#a480cf37fc1ac8fe3b97381dd8035552e">noteType</a>() &amp; (<a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a19a7279a0e29931de860939b2edf8845">NoteType::GRACE8_AFTER</a> | <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a4f51b3dfd7d5aa76dcac592ed95e3370">NoteType::GRACE16_AFTER</a> | <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2af58b08678e3a4828ca3fdae016ff814b">NoteType::GRACE32_AFTER</a>))</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;                  cl.push_back(c);</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;            }</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      <span class="keywordflow">return</span> cl;</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;      }</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;<span class="comment">//   sortNotes</span></div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;</div><div class="line"><a name="l03054"></a><span class="lineno"><a class="line" href="namespaceMs.html#a7517990a2c1db0b183c312178db72ef3"> 3054</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceMs.html#a7517990a2c1db0b183c312178db72ef3">noteIsBefore</a>(<span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* n1, <span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* n2)</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;      {</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> l1 = n1-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>();</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> l2 = n2-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>();</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;      <span class="keywordflow">if</span> (l1 != l2)</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;            <span class="keywordflow">return</span> l1 &gt; l2;</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> p1 = n1-&gt;<a class="code" href="classMs_1_1Note.html#adb609dbbd1f11ba96c09c01d49fa63bd">pitch</a>();</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> p2 = n2-&gt;<a class="code" href="classMs_1_1Note.html#adb609dbbd1f11ba96c09c01d49fa63bd">pitch</a>();</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      <span class="keywordflow">if</span> (p1 != p2)</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;            <span class="keywordflow">return</span> p1 &lt; p2;</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;      <span class="keywordflow">if</span> (n1-&gt;<a class="code" href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">tieBack</a>()) {</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;            <span class="keywordflow">if</span> (n2-&gt;<a class="code" href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">tieBack</a>()) {</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;                  <span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* sn1 = n1-&gt;<a class="code" href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">tieBack</a>()-&gt;<a class="code" href="classMs_1_1Tie.html#acdcb6924221b29a0e3d6ae3fa109aa14">startNote</a>();</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;                  <span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* sn2 = n2-&gt;<a class="code" href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">tieBack</a>()-&gt;<a class="code" href="classMs_1_1Tie.html#acdcb6924221b29a0e3d6ae3fa109aa14">startNote</a>();</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;                  <span class="keywordflow">if</span> (sn1-&gt;<a class="code" href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">chord</a>() == sn2-&gt;<a class="code" href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">chord</a>())</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;                        <span class="keywordflow">return</span> sn1-&gt;<a class="code" href="classMs_1_1Note.html#a9a43b3386cfcf71a997b2d5f30e90b7d">unisonIndex</a>() &lt; sn2-&gt;<a class="code" href="classMs_1_1Note.html#a9a43b3386cfcf71a997b2d5f30e90b7d">unisonIndex</a>();</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;                  <span class="keywordflow">return</span> sn1-&gt;<a class="code" href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">chord</a>()-&gt;<a class="code" href="classMs_1_1ChordRest.html#a7ef00364bfc818f5ae0741af4589449a">isBefore</a>(sn2-&gt;<a class="code" href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">chord</a>());</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;                  }</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;                  <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// place tied notes before</span></div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;            }</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;      }</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;</div><div class="line"><a name="l03081"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a20163c8fc284ff06c00570f4fd26fb7a"> 3081</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a20163c8fc284ff06c00570f4fd26fb7a">Chord::sortNotes</a>()</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;      {</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      <a class="code" href="namespaceMs.html#a4723eaf0d51b78054133d58d1a6935cb">std::sort</a>(<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().begin(), <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().end(), <a class="code" href="namespaceMs.html#a7517990a2c1db0b183c312178db72ef3">noteIsBefore</a>);</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;      }</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;<span class="comment">//   nextTiedChord</span></div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;<span class="comment">//    Return next chord if all notes in this chord are tied to it.</span></div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;<span class="comment">//    Set backwards=true to return the previous chord instead.</span></div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;<span class="comment">//    Note: the next chord might have extra notes that are not tied</span></div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;<span class="comment">//    back to this one. Set sameSize=true to return 0 in this case.</span></div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;</div><div class="line"><a name="l03095"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ab446d5ec17c723bb50077547e4789885"> 3095</a></span>&#160;<a class="code" href="classMs_1_1Chord.html">Chord</a>* <a class="code" href="classMs_1_1Chord.html#ab446d5ec17c723bb50077547e4789885">Chord::nextTiedChord</a>(<span class="keywordtype">bool</span> backwards, <span class="keywordtype">bool</span> sameSize)</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;      {</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;      <a class="code" href="classMs_1_1Segment.html">Segment</a>* nextSeg = backwards ? <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#a07a0b52e5f58941bd85ca307455e62c6">prev1</a>(<a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894a7884fad7b22d960efd4e9d84e61e7fe0">SegmentType::ChordRest</a>) : <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#a8c27ddfb0004417dd89b655e3480a6a0">next1</a>(<a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894a7884fad7b22d960efd4e9d84e61e7fe0">SegmentType::ChordRest</a>);</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      <span class="keywordflow">if</span> (!nextSeg)</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;      <a class="code" href="classMs_1_1ChordRest.html">ChordRest</a>* nextCR = nextSeg-&gt;<a class="code" href="classMs_1_1Segment.html#a9f84e65ea1cc200227a75b058ab8e8d8">nextChordRest</a>(<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>(), backwards);</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;      <span class="keywordflow">if</span> (!nextCR || !nextCR-&gt;isChord())</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      <a class="code" href="classMs_1_1Chord.html">Chord</a>* next = toChord(nextCR);</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;      <span class="keywordflow">if</span> (sameSize &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size() != next-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size())</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;            <span class="keywordflow">return</span> 0; <span class="comment">// sizes don&#39;t match so some notes can&#39;t be tied</span></div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>() != next-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>())</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;            <span class="keywordflow">return</span> 0; <span class="comment">// next chord belongs to a different tuplet</span></div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;            <a class="code" href="classMs_1_1Tie.html">Tie</a>* tie = backwards ? n-&gt;tieBack() : n-&gt;tieFor();</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;            <span class="keywordflow">if</span> (!tie)</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;                  <span class="keywordflow">return</span> 0; <span class="comment">// not tied</span></div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* nn = backwards ? tie-&gt;<a class="code" href="classMs_1_1Tie.html#acdcb6924221b29a0e3d6ae3fa109aa14">startNote</a>() : tie-&gt;<a class="code" href="classMs_1_1Tie.html#a9719252bb8e38b88324bdd19ca07f13d">endNote</a>();</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;            <span class="keywordflow">if</span> (!nn || nn-&gt;<a class="code" href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">chord</a>() != next)</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;                  <span class="keywordflow">return</span> 0; <span class="comment">// tied to note in wrong voice, or tied over rest</span></div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;            }</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;      <span class="keywordflow">return</span> next; <span class="comment">// all notes in this chord are tied to notes in next chord</span></div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;      }</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;<span class="comment">//   toGraceAfter</span></div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;</div><div class="line"><a name="l03123"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#aa1c65a7f3a3704de2d1a3e0b8d6c1b64"> 3123</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#aa1c65a7f3a3704de2d1a3e0b8d6c1b64">Chord::toGraceAfter</a>()</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;      {</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="classMs_1_1Chord.html#a480cf37fc1ac8fe3b97381dd8035552e">noteType</a>()) {</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a2a1dc26af8b64e2f3f230090d918837c">NoteType::APPOGGIATURA</a>:  <a class="code" href="classMs_1_1Chord.html#ae92c92e55132a776b975e3755b38ff14">setNoteType</a>(<a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a19a7279a0e29931de860939b2edf8845">NoteType::GRACE8_AFTER</a>);  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a0753b2cda2bb413db134fa6acc0b60c2">NoteType::GRACE16</a>:       <a class="code" href="classMs_1_1Chord.html#ae92c92e55132a776b975e3755b38ff14">setNoteType</a>(<a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a4f51b3dfd7d5aa76dcac592ed95e3370">NoteType::GRACE16_AFTER</a>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a041a6576108c698d49d54b7603d34271">NoteType::GRACE32</a>:       <a class="code" href="classMs_1_1Chord.html#ae92c92e55132a776b975e3755b38ff14">setNoteType</a>(<a class="code" href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2af58b08678e3a4828ca3fdae016ff814b">NoteType::GRACE32_AFTER</a>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;            <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;            }</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      }</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;<span class="comment">//   tremoloChordType</span></div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;</div><div class="line"><a name="l03137"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#ab6d9f107efd82271221360d272035288"> 3137</a></span>&#160;<a class="code" href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36">TremoloChordType</a> <a class="code" href="classMs_1_1Chord.html#ab6d9f107efd82271221360d272035288">Chord::tremoloChordType</a>()<span class="keyword"> const</span></div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a> &amp;&amp; <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">twoNotes</a>()) {</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>() == <span class="keyword">this</span>)</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36a8e6aa6d38452bfd6de56b1d80dc45d8e">TremoloChordType::TremoloFirstNote</a>;</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">chord2</a>() == <span class="keyword">this</span>)</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36af24d38ace0aa2b2391d8dd2e313a88ac">TremoloChordType::TremoloSecondNote</a>;</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                  qFatal(<span class="stringliteral">&quot;Chord::tremoloChordType(): inconsistency %p - %p, this is %p&quot;</span>, <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>(), <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>-&gt;<a class="code" href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">chord2</a>(), <span class="keyword">this</span>);</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;            }</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36a75c61ce112260a5572614c6b23e96829">TremoloChordType::TremoloSingle</a>;</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;      }</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;<span class="comment">//   nextElement</span></div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;</div><div class="line"><a name="l03154"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#acd0212299411535e59cdb0a4d1c6a73f"> 3154</a></span>&#160;<a class="code" href="classMs_1_1Element.html">Element</a>* <a class="code" href="classMs_1_1Chord.html#acd0212299411535e59cdb0a4d1c6a73f">Chord::nextElement</a>()</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;      {</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* e = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>().<a class="code" href="classMs_1_1Selection.html#abf55316b1de3db4e71efba968ec280f6">element</a>();</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;      <span class="keywordflow">if</span> (!e &amp;&amp; !<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;selection().elements().isEmpty())</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;            e = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>().<a class="code" href="classMs_1_1Selection.html#aabf6157f4dbda5a9b86a9c4cae8c167f">elements</a>().first();</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;      <span class="keywordflow">switch</span>(e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">type</a>()) {</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a8fc5a0642a90632e8418ca52c3ec761d">ElementType::SYMBOL</a>:</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea23a12f67f614b5518c7f1c2465bf95e3">ElementType::IMAGE</a>:</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a9b5778b423deab938ac37574ae543e56">ElementType::FINGERING</a>:</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a6b5aa179fb8d7a11ec316c01a2fdf6e1a61a96ffcb251bb9bf0abf8fec19d0ea8">ElementType::TEXT</a>:</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eae5133e2b6493fb2a101625612251c15b">ElementType::BEND</a>: {</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* n = toNote(e-&gt;<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>());</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;                  <span class="keywordflow">if</span>(n == <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.front()) {</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                              <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>)</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                              <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>;</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;                        }</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;i : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                        <span class="keywordflow">if</span> (i == n) {</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                              <span class="keywordflow">return</span> *(&amp;i-1);</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                              }</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;                        }</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;                  }</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eae1a1c6cbb6e3b95d0bc07d0da312c272">ElementType::GLISSANDO_SEGMENT</a>:</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea141d482ba54ffebf46888e52db8db725">ElementType::TIE_SEGMENT</a>: {</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                  <a class="code" href="classMs_1_1SpannerSegment.html">SpannerSegment</a>* s = <a class="code" href="namespaceMs.html#a8886182157e4e29202c1b22bbdc76ecb">toSpannerSegment</a>(e);</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                  <a class="code" href="classMs_1_1Spanner.html">Spanner</a>* sp = s-&gt;<a class="code" href="classMs_1_1SpannerSegment.html#aef566e6223c15bad8cba7de7a9bc63dc">spanner</a>();</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                  <a class="code" href="classMs_1_1Element.html">Element</a>* elSt = sp-&gt;<a class="code" href="classMs_1_1Spanner.html#a664e7111acb5a8345be95707e2be283f">startElement</a>();</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                  Q_ASSERT(elSt-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">type</a>() == <a class="code" href="namespaceMs.html#aeccc894c5a64aba67bbfaf8fe1b755d5a10de4bc81f754b19b0d27246a0589c05">ElementType::NOTE</a>);</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* n = toNote(elSt);</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;                  Q_ASSERT(n != NULL);</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;                  <span class="keywordflow">if</span> (n == <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.front()) {</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                              <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>;</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>)</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                              <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>;</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;                        }</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;i : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;                        <span class="keywordflow">if</span> (i == n) {</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;                              <span class="keywordflow">return</span> *(&amp;i-1);</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;                              }</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;                        }</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;                  }</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a0dc5c02ab9adfa308008caeaa39d0ea3">ElementType::ARPEGGIO</a>:</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>)</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>;</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eacd465f695982b126e418243260f60f9b">ElementType::ACCIDENTAL</a>:</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;                  e = e-&gt;<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>();</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;                  <span class="comment">// fall through</span></div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aeccc894c5a64aba67bbfaf8fe1b755d5a10de4bc81f754b19b0d27246a0589c05">ElementType::NOTE</a>: {</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;                  <span class="keywordflow">if</span> (e == <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.front()) {</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                              <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>;</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>)</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                              <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>;</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;                        }</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;i : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;                        <span class="keywordflow">if</span> (i == e)</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;                              <span class="keywordflow">return</span> *(&amp;i -1);</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;                        }</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;                  }</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea45d886b842022787183a308e0200d336">ElementType::CHORD</a>:</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.back();</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;            }</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#a52f094713df92026a78c26f5a1bb894d">ChordRest::nextElement</a>();</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;      }</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<span class="comment">//   prevElement</span></div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;</div><div class="line"><a name="l03242"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#abd73f16e79d341245a0b408b68b1298b"> 3242</a></span>&#160;<a class="code" href="classMs_1_1Element.html">Element</a>* <a class="code" href="classMs_1_1Chord.html#abd73f16e79d341245a0b408b68b1298b">Chord::prevElement</a>()</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;      {</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* e = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>().<a class="code" href="classMs_1_1Selection.html#abf55316b1de3db4e71efba968ec280f6">element</a>();</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;      <span class="keywordflow">if</span> (!e &amp;&amp; !<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;selection().elements().isEmpty())</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;            e = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>().<a class="code" href="classMs_1_1Selection.html#aabf6157f4dbda5a9b86a9c4cae8c167f">elements</a>().last();</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;      <span class="keywordflow">switch</span> (e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">type</a>()) {</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#aeccc894c5a64aba67bbfaf8fe1b755d5a10de4bc81f754b19b0d27246a0589c05">ElementType::NOTE</a>: {</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;                  <span class="keywordflow">if</span> (e == <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.back())</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* <a class="code" href="namespaceMs.html#a742ba569a9d442eadb829a2376f00165">prevNote</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;i : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;                        <span class="keywordflow">if</span> (i == e) {</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;                              prevNote = *(&amp;i+1);</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;                              }</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;                        }</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;                  <a class="code" href="classMs_1_1Element.html">Element</a>* next = prevNote-&gt;<a class="code" href="classMs_1_1Note.html#a80ed0f7976fe33bbb8c4ccef2a28226d">lastElementBeforeSegment</a>();</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;                  <span class="keywordflow">return</span> next;</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;                  }</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea45d886b842022787183a308e0200d336">ElementType::CHORD</a>:</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.front();</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a8699b57ba7b0ea3fc6471ada80b8e4f8">ElementType::TREMOLO</a>:</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>)</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>;</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;                  <span class="comment">// fall through</span></div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a0dc5c02ab9adfa308008caeaa39d0ea3">ElementType::ARPEGGIO</a>: {</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                  <a class="code" href="classMs_1_1Note.html">Note</a>* n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.front();</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;                  <a class="code" href="classMs_1_1Element.html">Element</a>* elN = n-&gt;<a class="code" href="classMs_1_1Note.html#a80ed0f7976fe33bbb8c4ccef2a28226d">lastElementBeforeSegment</a>();</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                  Q_ASSERT(elN != NULL);</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;                  <span class="keywordflow">return</span> elN;</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;                  }</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;            }</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#a5b5b7e93b97367c5c59da86349dcee82">ChordRest::prevElement</a>();</div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;      }</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;<span class="comment">//   lastElementBeforeSegment</span></div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;</div><div class="line"><a name="l03286"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a150ff91201b81186627a78f2a6ad03d5"> 3286</a></span>&#160;<a class="code" href="classMs_1_1Element.html">Element</a>* <a class="code" href="classMs_1_1Chord.html#a150ff91201b81186627a78f2a6ad03d5">Chord::lastElementBeforeSegment</a>()</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;      {</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>) {</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">_tremolo</a>;</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;            }</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>) {</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>;</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;            }</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* n = <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>.front();</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;            <a class="code" href="classMs_1_1Element.html">Element</a>* elN = n-&gt;<a class="code" href="classMs_1_1Note.html#a80ed0f7976fe33bbb8c4ccef2a28226d">lastElementBeforeSegment</a>();</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;            Q_ASSERT(elN != NULL);</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;            <span class="keywordflow">return</span> elN;</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;            }</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;      }</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;<span class="comment">//   nextSegmentElement</span></div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;</div><div class="line"><a name="l03306"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a5d2e88d92e61f9deac60d8b3ab48de6f"> 3306</a></span>&#160;<a class="code" href="classMs_1_1Element.html">Element</a>* <a class="code" href="classMs_1_1Chord.html#a5d2e88d92e61f9deac60d8b3ab48de6f">Chord::nextSegmentElement</a>()</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;      {</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = <a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() + 1; <a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>() == v/<a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>; ++v) {</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;            <a class="code" href="classMs_1_1Element.html">Element</a>* e = <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#a4e9ad4c47081dec0aebcd2aea96b309f">element</a>(v);</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;            <span class="keywordflow">if</span> (e) {</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;                  <span class="keywordflow">if</span> (e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">type</a>() == <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea45d886b842022787183a308e0200d336">ElementType::CHORD</a>)</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;                        <span class="keywordflow">return</span> toChord(e)-&gt;notes().back();</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;                  <span class="keywordflow">return</span> e;</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                  }</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;            }</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#a193dcef0255ba5fd669c04fc1beb8963">ChordRest::nextSegmentElement</a>();</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;      }</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;<span class="comment">//   prevSegmentElement</span></div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;</div><div class="line"><a name="l03325"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a82f1da46bf6de670332f5d73f7cab739"> 3325</a></span>&#160;<a class="code" href="classMs_1_1Element.html">Element</a>* <a class="code" href="classMs_1_1Chord.html#a82f1da46bf6de670332f5d73f7cab739">Chord::prevSegmentElement</a>()</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;      {</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a> = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>().<a class="code" href="classMs_1_1Selection.html#abf55316b1de3db4e71efba968ec280f6">element</a>();</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;      <span class="keywordflow">if</span> (!el &amp;&amp; !<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;selection().elements().isEmpty() )</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;            el = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>().<a class="code" href="classMs_1_1Selection.html#aabf6157f4dbda5a9b86a9c4cae8c167f">elements</a>().first();</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* e = <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#afec9ec067383f911d6f625039e8b8fc2">lastInPrevSegments</a>(el-&gt;<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>());</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;      <span class="keywordflow">if</span> (e) {</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;            <span class="keywordflow">if</span> (e-&gt;isChord())</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                  <span class="keywordflow">return</span> toChord(e)-&gt;notes().front();</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;            <span class="keywordflow">return</span> e;</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;            }</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1ChordRest.html#a0244c175e8725eb0d60bc1e4522f672b">ChordRest::prevSegmentElement</a>();</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;      }</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;<span class="comment">//   accessibleExtraInfo</span></div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;</div><div class="line"><a name="l03344"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a48aafab3949759f1893250ac7d71d2ae"> 3344</a></span>&#160;QString <a class="code" href="classMs_1_1Chord.html#a48aafab3949759f1893250ac7d71d2ae">Chord::accessibleExtraInfo</a>()<span class="keyword"> const</span></div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      QString rez = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classMs_1_1Chord.html">Chord</a>* c : <a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>()) {</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;selectionFilter().canSelect(c))</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* n : c-&gt;notes())</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;                  rez = QString(<span class="stringliteral">&quot;%1 %2&quot;</span>).arg(rez, n-&gt;screenReaderInfo());</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;            }</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : <a class="code" href="classMs_1_1Chord.html#a9ba14767335dea9274a6e42b4bca2452">articulations</a>()) {</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a6ef9e26b4ec9e2de85f48e73dda1d1aa">selectionFilter</a>().<a class="code" href="classMs_1_1SelectionFilter.html#a2df3f78bf495c4a87f235d6ac75f4e43">canSelect</a>(a))</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;            rez = QString(<span class="stringliteral">&quot;%1 %2&quot;</span>).arg(rez, a-&gt;screenReaderInfo());</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;            }</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">arpeggio</a>() &amp;&amp; <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a6ef9e26b4ec9e2de85f48e73dda1d1aa">selectionFilter</a>().<a class="code" href="classMs_1_1SelectionFilter.html#a2df3f78bf495c4a87f235d6ac75f4e43">canSelect</a>(<a class="code" href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">arpeggio</a>()))</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;            rez = QString(<span class="stringliteral">&quot;%1 %2&quot;</span>).arg(rez, <a class="code" href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">arpeggio</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a965327598f61fdc8b3b8f4160dfa13c8">screenReaderInfo</a>());</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>() &amp;&amp; <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;selectionFilter().canSelect(<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>()))</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;            rez = QString(<span class="stringliteral">&quot;%1 %2&quot;</span>).arg(rez, <a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a965327598f61fdc8b3b8f4160dfa13c8">screenReaderInfo</a>());</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;      <span class="keywordflow">foreach</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e, <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>()) {</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;selectionFilter().canSelect(e))</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;            rez = QString(<span class="stringliteral">&quot;%1 %2&quot;</span>).arg(rez, e-&gt;<a class="code" href="classMs_1_1Element.html#a965327598f61fdc8b3b8f4160dfa13c8">screenReaderInfo</a>());</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;            }</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;      <span class="keywordflow">return</span> QString(<span class="stringliteral">&quot;%1 %2&quot;</span>).arg(rez, <a class="code" href="classMs_1_1ChordRest.html#ab13ef528a7691f666a38dbc85ed84fb3">ChordRest::accessibleExtraInfo</a>());</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;      }</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;<span class="comment">//   shape</span></div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;<span class="comment">//    does not contain articulations</span></div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;</div><div class="line"><a name="l03381"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a9e6b509fdfe667a0dde3040ec5cea988"> 3381</a></span>&#160;<a class="code" href="classMs_1_1Shape.html">Shape</a> <a class="code" href="classMs_1_1Chord.html#a9e6b509fdfe667a0dde3040ec5cea988">Chord::shape</a>()<span class="keyword"> const</span></div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;      <a class="code" href="classMs_1_1Shape.html">Shape</a> <a class="code" href="classMs_1_1Chord.html#a9e6b509fdfe667a0dde3040ec5cea988">shape</a>;</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a> &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#a6ba0ad4dad0b5de65db725a10fc64278">addToSkyline</a>())</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;            shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#ad46a1fa8985b3d3897101b295a7a5d3e">shape</a>().<a class="code" href="classMs_1_1Shape.html#a51535d0e5b819152b44f47f98925e1e7">translated</a>(<a class="code" href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">_hook</a>-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>()));</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a> &amp;&amp; <a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#a6ba0ad4dad0b5de65db725a10fc64278">addToSkyline</a>()) {</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;            <span class="comment">// stem direction is not known soon enough for cross staff beamed notes</span></div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;            <span class="keywordflow">if</span> (!(<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>() &amp;&amp; (<a class="code" href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">staffMove</a>() || <a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>()-&gt;cross())))</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;                  shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#ad46a1fa8985b3d3897101b295a7a5d3e">shape</a>().<a class="code" href="classMs_1_1Shape.html#a51535d0e5b819152b44f47f98925e1e7">translated</a>(<a class="code" href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">_stem</a>-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>()));</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;            }</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a> &amp;&amp; <a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>-&gt;<a class="code" href="classMs_1_1Element.html#a6ba0ad4dad0b5de65db725a10fc64278">addToSkyline</a>())</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;            shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>-&gt;<a class="code" href="classMs_1_1Element.html#ad46a1fa8985b3d3897101b295a7a5d3e">shape</a>().<a class="code" href="classMs_1_1Shape.html#a51535d0e5b819152b44f47f98925e1e7">translated</a>(<a class="code" href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">_stemSlash</a>-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>()));</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a> &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#a6ba0ad4dad0b5de65db725a10fc64278">addToSkyline</a>())</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;            shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#ad46a1fa8985b3d3897101b295a7a5d3e">shape</a>().<a class="code" href="classMs_1_1Shape.html#a51535d0e5b819152b44f47f98925e1e7">translated</a>(<a class="code" href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">_arpeggio</a>-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>()));</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;<span class="comment">//      if (_tremolo)</span></div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="comment">//            shape.add(_tremolo-&gt;shape().translated(_tremolo-&gt;pos()));</span></div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : <a class="code" href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">_notes</a>) {</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;            shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(note-&gt;shape().translated(note-&gt;pos()));</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : note-&gt;el()) {</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;                  <span class="keywordflow">if</span> (!e-&gt;addToSkyline())</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;                  <span class="keywordflow">if</span> (e-&gt;isFingering() &amp;&amp; toFingering(e)-&gt;layoutType() == <a class="code" href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea45d886b842022787183a308e0200d336">ElementType::CHORD</a> &amp;&amp; e-&gt;bbox().isValid())</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;                        shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(e-&gt;bbox().translated(e-&gt;pos() + note-&gt;pos()));</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;                  }</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;            }</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : <a class="code" href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">el</a>()) {</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;            <span class="keywordflow">if</span> (e-&gt;addToSkyline())</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;                  shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(e-&gt;shape().translated(e-&gt;pos()));</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;            }</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* chord : <a class="code" href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">_graceNotes</a>)    <span class="comment">// process grace notes last, needed for correct shape calculation</span></div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;            shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(chord-&gt;shape().translated(chord-&gt;pos()));</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;      shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(<a class="code" href="classMs_1_1ChordRest.html#a9263c16f6d004ee4fce1ae6633fd022d">ChordRest::shape</a>());      <span class="comment">// add lyrics</span></div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1LedgerLine.html">LedgerLine</a>* l = <a class="code" href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">_ledgerLines</a>; l; l = l-&gt;<a class="code" href="classMs_1_1LedgerLine.html#a8ef8a7098d17bc07ee5a8d06ec81270d">next</a>())</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;            shape.<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(l-&gt;shape().translated(l-&gt;pos()));</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a> || <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>)</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;            shape.<a class="code" href="classMs_1_1Shape.html#a13e2bf27745a27442dae0382fcfd9197">addHorizontalSpacing</a>(<a class="code" href="classMs_1_1Shape.html#ac4685ed835d615eb01d0e5ee6093be6ca33a39bc3e14d74d001f9ddfc981a302e">Shape::SPACING_GENERAL</a>, -<a class="code" href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">_spaceLw</a>, <a class="code" href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">_spaceRw</a>);</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classMs_1_1Chord.html#a9e6b509fdfe667a0dde3040ec5cea988">shape</a>;</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;      }</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;<span class="comment">//   layoutArticulations</span></div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;<span class="comment">//    layout tenuto and staccato</span></div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;<span class="comment">//    called before layouting slurs</span></div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;</div><div class="line"><a name="l03426"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a085dc30a4daa69c394cd0031221d33dc"> 3426</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a085dc30a4daa69c394cd0031221d33dc">Chord::layoutArticulations</a>()</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;      {</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* gc : <a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>())</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;            gc-&gt;layoutArticulations();</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.empty())</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1Staff.html">Staff</a>* st = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1StaffType.html">StaffType</a>* <a class="code" href="classMs_1_1Element.html#a83c622459f10fe64a40627bd2c8dc42b">staffType</a> = st-&gt;<a class="code" href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">staffTypeForElement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;      qreal <a class="code" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">mag</a>            = (staffType-&gt;<a class="code" href="classMs_1_1StaffType.html#aa7720211c662c6f2a41a4f145059502c">small</a>() ? <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eabea6fc43d2ca4d8deeb3317c146f5aa5">Sid::smallStaffMag</a>) : 1.0) * staffType-&gt;<a class="code" href="classMs_1_1StaffType.html#a155f860b5e7432aa09cc9ab741c96d32">userMag</a>();</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;      qreal _spatium       = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#aaa20fcc0a0a1f86b0b0d859648341c49">spatium</a>() * <a class="code" href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">mag</a>;</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;      qreal _spStaff       = _spatium * staffType-&gt;<a class="code" href="classMs_1_1StaffType.html#a8573023e9149c33b1dc28e8e841e21ca">lineDistance</a>().<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>();</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;      <span class="comment">//    determine direction</span></div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;      <span class="comment">//    place tenuto and staccato</span></div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;      <a class="code" href="classMs_1_1Articulation.html">Articulation</a>* prevArticulation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : qAsConst(<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>)) {</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;            <span class="keywordflow">if</span> (a-&gt;anchor() == <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a45d886b842022787183a308e0200d336">ArticulationAnchor::CHORD</a>) {</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>()-&gt;<a class="code" href="classMs_1_1Measure.html#acef2a5afe6db83509657e7fcdb03a08e">hasVoices</a>(a-&gt;staffIdx(), <a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>(), <a class="code" href="classMs_1_1DurationElement.html#a3791beed710457022daf6619f31a1eeb">actualTicks</a>()))</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;                        a-&gt;<a class="code" href="classMs_1_1Articulation.html#a9f8bcd782a86f98c168bca5cddf08306">setUp</a>(<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>()); <span class="comment">// if there are voices place articulation at stem</span></div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;symId() &gt;= <a class="code" href="namespaceMs.html#a602ef082ffbbe2c4b11e2375cc4aa794a5ee0e29ffc169dce11cf7b40b5d0903a">SymId::articMarcatoAbove</a> &amp;&amp; a-&gt;symId() &lt;= <a class="code" href="namespaceMs.html#a602ef082ffbbe2c4b11e2375cc4aa794a1f96922df118c11cd423e8d25d2cc641">SymId::articMarcatoTenutoBelow</a>)</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;                        a-&gt;setUp(<span class="keyword">true</span>); <span class="comment">// Gould, p. 117: strong accents above staff</span></div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a6071a1241456ef93c8a06c62269090a7">isGrace</a>() &amp;&amp; <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() &amp;&amp; !a-&gt;layoutCloseToNote() &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">line</a>() &lt; 6)</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;                        a-&gt;setUp(<span class="keyword">true</span>); <span class="comment">// keep articulation close to grace note</span></div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;                        a-&gt;setUp(!<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>()); <span class="comment">// place articulation at note head</span></div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;                  }</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;                  a-&gt;setUp(a-&gt;anchor() == <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a14128c7820edf23278fe5ab9517285d4">ArticulationAnchor::TOP_STAFF</a> || a-&gt;anchor() == <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4ae5ac5a74975d63c6e0f6d27d26e860cc">ArticulationAnchor::TOP_CHORD</a>);</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;            <span class="keywordflow">if</span> (!a-&gt;layoutCloseToNote())</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;            <span class="keywordtype">bool</span> bottom = !a-&gt;up();  <span class="comment">// true: articulation is below chord;  false: articulation is above chord</span></div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;            a-&gt;layout();             <span class="comment">// must be done after assigning direction, or else symId is not reliable</span></div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;            <span class="keywordtype">bool</span> headSide = bottom == <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>();</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a> = <a class="code" href="classMs_1_1Chord.html#aa8125d376017d1808b2ab0211dd7937c">centerX</a>();</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a> = 0.0;</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;            <span class="keywordflow">if</span> (bottom) {</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;                  <span class="keywordflow">if</span> (!headSide &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()) {</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;                        y = <a class="code" href="classMs_1_1Chord.html#ada06a8f84e26de36b4273d278b04a343">upPos</a>() + <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Stem.html#afbb6c776d4e5a2347ad4d7a3ef4e64e7">stemLen</a>();</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>())</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;                              y += <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaaf668183ce217ba1f9c8494595cd5d3f">Sid::beamWidth</a>).<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>() * _spatium * .5;</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="classMs_1_1ChordRest.html#af8d6f832ec77d99584221063031d36ba">line</a>   = lrint((y + 0.5 * _spStaff) / _spStaff);</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;                        <span class="keywordflow">if</span> (line &lt; staffType-&gt;lines())  <span class="comment">// align between staff lines</span></div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;                              y = line * _spStaff + _spatium * .5;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;                              y += _spatium;</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;                        <span class="keywordflow">if</span> (a-&gt;isStaccato() &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a9ba14767335dea9274a6e42b4bca2452">articulations</a>().size() == 1) {</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;                              <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a>)</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;                                    x = <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#ad55c1e54b156996f2b1d211c31eb7df9">bboxRightPos</a>() - <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>() * .5;</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;                              <span class="keywordflow">else</span></div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;                                    x = <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>() * .5;</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;                              }</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;                        }</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="classMs_1_1ChordRest.html#af8d6f832ec77d99584221063031d36ba">line</a> = <a class="code" href="classMs_1_1Chord.html#a834c480b1e0de160c0696778c9088a14">downLine</a>();</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;                        <span class="keywordtype">int</span> lines = (staffType-&gt;<a class="code" href="classMs_1_1StaffType.html#a1f3e57f97fb721dca79f75d6611f394c">lines</a>() - 1) * 2;</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;                        <span class="keywordflow">if</span> (line &lt; lines)</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;                              y = ((line &amp; ~1) + 3) * _spStaff;</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;                              y = line * _spStaff + 2 * _spatium;</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;                        y *= .5;</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;                        }</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;                  <span class="keywordflow">if</span> (prevArticulation &amp;&amp; (prevArticulation-&gt;<a class="code" href="classMs_1_1Articulation.html#a3eb46109267882cfca14ea94f1aab632">up</a>() == a-&gt;up()))</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;                        y += _spatium;</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;                  y -= a-&gt;height() * .5;        <span class="comment">// center symbol</span></div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;                  }</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;                  <span class="keywordflow">if</span> (!headSide &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()) {</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;                        y = <a class="code" href="classMs_1_1Chord.html#ab2dc3b88a557f2beae50424865f068c5">downPos</a>() + <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Stem.html#afbb6c776d4e5a2347ad4d7a3ef4e64e7">stemLen</a>();</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>())</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;                              y -= <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaaf668183ce217ba1f9c8494595cd5d3f">Sid::beamWidth</a>).<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>() * _spatium * .5;</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="classMs_1_1ChordRest.html#af8d6f832ec77d99584221063031d36ba">line</a>   = lrint((y-0.5*_spStaff) / _spStaff);</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;                        <span class="keywordflow">if</span> (line &gt;= 0)  <span class="comment">// align between staff lines</span></div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;                              y = line * _spStaff - _spatium * .5;</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;                              y -= _spatium;</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;                        <span class="keywordflow">if</span> (a-&gt;isStaccato() &amp;&amp; <a class="code" href="classMs_1_1Chord.html#a9ba14767335dea9274a6e42b4bca2452">articulations</a>().size() == 1) {</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;                              <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">_up</a>)</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;                                    x = <a class="code" href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">downNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#ad55c1e54b156996f2b1d211c31eb7df9">bboxRightPos</a>() - <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>() * .5;</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;                              <span class="keywordflow">else</span></div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;                                    x = <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">width</a>() * .5;</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;                              }</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;                        }</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="classMs_1_1ChordRest.html#af8d6f832ec77d99584221063031d36ba">line</a> = <a class="code" href="classMs_1_1Chord.html#a501f54373f115942906156cd4d17e7d1">upLine</a>();</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;                        <span class="keywordflow">if</span> (line &gt; 0)</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;                              y = (((line+1) &amp; ~1) - 3) * _spStaff;</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;                              y = line * _spStaff - 2 * _spatium;</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;                        y *= .5;</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;                        }</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;                  <span class="keywordflow">if</span> (prevArticulation &amp;&amp; (prevArticulation-&gt;<a class="code" href="classMs_1_1Articulation.html#a3eb46109267882cfca14ea94f1aab632">up</a>() == a-&gt;up()))</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;                        y -= _spatium;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;                  y += a-&gt;height() * .5;        <span class="comment">// center symbol</span></div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;                  }</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;            a-&gt;setPos(x, y);</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;            prevArticulation = a;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;<span class="comment">//            measure()-&gt;system()-&gt;staff(a-&gt;staffIdx())-&gt;skyline().add(a-&gt;shape().translated(a-&gt;pos() + segment()-&gt;pos() + measure()-&gt;pos()));</span></div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;            }</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;      }</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;<span class="comment">//   layoutArticulations2</span></div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;<span class="comment">//    Called after layouting systems</span></div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;<span class="comment">//    Tentatively layout all articulations</span></div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;<span class="comment">//    To be finished after laying out slurs</span></div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;</div><div class="line"><a name="l03541"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a7a2b6622bd7c71f0960ec67403093f7c"> 3541</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a7a2b6622bd7c71f0960ec67403093f7c">Chord::layoutArticulations2</a>()</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;      {</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* gc : <a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>())</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;            gc-&gt;layoutArticulations2();</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>.empty())</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;      qreal _spatium  = <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;      qreal <a class="code" href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">x</a>         = <a class="code" href="classMs_1_1Chord.html#aa8125d376017d1808b2ab0211dd7937c">centerX</a>();</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;      qreal distance0 = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea08475dd564889172f649102407b793ee">Sid::propertyDistance</a>);</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;      qreal distance2 = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea0df76b86312f88711f9d40f201d31a08">Sid::propertyDistanceStem</a>);</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;      qreal chordTopY = <a class="code" href="classMs_1_1Chord.html#ada06a8f84e26de36b4273d278b04a343">upPos</a>();    <span class="comment">// note position of highest note</span></div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;      qreal chordBotY = <a class="code" href="classMs_1_1Chord.html#ab2dc3b88a557f2beae50424865f068c5">downPos</a>();  <span class="comment">// note position of lowest note</span></div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;      qreal staffTopY = -distance2;</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;      qreal staffBotY = <a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#a6d5c3efe74ec1a9be56a1f8e3e88cd4b">height</a>() + distance2;</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;      <span class="comment">// avoid collisions of staff articulations with chord notes:</span></div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;      <span class="comment">// gap between note and staff articulation is distance0 + 0.5 spatium</span></div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()) {</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;            qreal <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a> = <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y() + <a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>().y() + <a class="code" href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">stem</a>()-&gt;<a class="code" href="classMs_1_1Stem.html#afbb6c776d4e5a2347ad4d7a3ef4e64e7">stemLen</a>();</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">beam</a>()) {</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;                  qreal bw = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaaf668183ce217ba1f9c8494595cd5d3f">Sid::beamWidth</a>).<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>() * _spatium;</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;                  y += <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? -bw : bw;</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;                  }</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>())</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;                  chordTopY = <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a>;</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;                  chordBotY = <a class="code" href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">y</a>;</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;            }</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;      <span class="comment">//    place all articulations with anchor at chord/rest</span></div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;      qreal distance1 = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">styleP</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea6cab9c4033c932954a7f137baa8e00c7">Sid::propertyDistanceHead</a>);</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;      chordTopY -= <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? 0.5 * _spatium : distance1;</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;      chordBotY += <a class="code" href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">up</a>() ? distance1 : 0.5 * _spatium;</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : qAsConst(<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>)) {</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;            <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4">ArticulationAnchor</a> aa = a-&gt;anchor();</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;            <span class="keywordflow">if</span> (aa != <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a45d886b842022787183a308e0200d336">ArticulationAnchor::CHORD</a> &amp;&amp; aa != <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4ae5ac5a74975d63c6e0f6d27d26e860cc">ArticulationAnchor::TOP_CHORD</a> &amp;&amp; aa != <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a2c0976b82e014c3f42356f3ad8dab365">ArticulationAnchor::BOTTOM_CHORD</a>)</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;            <span class="keywordflow">if</span> (a-&gt;up()) {</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;                  <span class="keywordflow">if</span> (!a-&gt;layoutCloseToNote()) {</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;                        a-&gt;layout();</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;                        a-&gt;setPos(x, chordTopY);</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;                        a-&gt;doAutoplace();</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;                        }</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;                  <span class="keywordflow">if</span> (a-&gt;visible())</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;                        chordTopY = a-&gt;y() - a-&gt;height() - 0.5 * _spatium;</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;                  }</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;                  <span class="keywordflow">if</span> (!a-&gt;layoutCloseToNote()) {</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;                        a-&gt;layout();</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;                        a-&gt;setPos(x, chordBotY);</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;                        a-&gt;doAutoplace();</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;                        }</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;                  <span class="keywordflow">if</span> (a-&gt;visible())</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;                        chordBotY = a-&gt;y() + a-&gt;height() + 0.5 * _spatium;</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;                  }</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;            }</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;      <span class="comment">//    now place all articulations with staff top or bottom anchor</span></div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;      staffTopY = qMin(staffTopY, chordTopY - distance0 - 0.5 * _spatium);</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;      staffBotY = qMax(staffBotY, chordBotY + distance0 + 0.5 * _spatium);</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : qAsConst(<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>)) {</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;            <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4">ArticulationAnchor</a> aa = a-&gt;anchor();</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;            <span class="keywordflow">if</span> (aa == <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a14128c7820edf23278fe5ab9517285d4">ArticulationAnchor::TOP_STAFF</a> || aa == <a class="code" href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a70e9ff3e9bf71a399ba1421840228f40">ArticulationAnchor::BOTTOM_STAFF</a>) {</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;                  a-&gt;layout();</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;                  <span class="keywordflow">if</span> (a-&gt;up()) {</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;                        a-&gt;setPos(x, staffTopY);</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;                        <span class="keywordflow">if</span> (a-&gt;visible())</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;                              staffTopY -= distance0;</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;                        }</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;                        a-&gt;setPos(x, staffBotY);</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;                        <span class="keywordflow">if</span> (a-&gt;visible())</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;                              staffBotY += distance0;</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;                        }</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;                  a-&gt;doAutoplace();</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;                  }</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;            }</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : qAsConst(<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>)) {</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;            <span class="keywordflow">if</span> (a-&gt;addToSkyline()) {</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;                  <span class="comment">// the segment shape has already been calculated</span></div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;                  <span class="comment">// so measure width and spacing is already determined</span></div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;                  <span class="comment">// in line mode, we cannot add to segment shape without throwing this off</span></div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;                  <span class="comment">// but adding to skyline is always good</span></div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;                  <a class="code" href="classMs_1_1Segment.html">Segment</a>* s = <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>();</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;                  <a class="code" href="classMs_1_1Measure.html">Measure</a>* m = s-&gt;<a class="code" href="classMs_1_1Segment.html#a44dc6d5b22a75152673060bc059acfb9">measure</a>();</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;                  QRectF r = a-&gt;<a class="code" href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">bbox</a>().translated(a-&gt;pos() + <a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>());</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;                  <span class="comment">// TODO: limit to width of chord</span></div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;                  <span class="comment">// this avoids &quot;staircase&quot; effect due to space not having been allocated already</span></div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;                  <span class="comment">// ANOTHER alternative is to allocate the space in layoutPitched() / layoutTablature()</span></div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;                  <span class="comment">//qreal w = qMin(r.width(), width());</span></div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;                  <span class="comment">//r.translate((r.width() - w) * 0.5, 0.0);</span></div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;                  <span class="comment">//r.setWidth(w);</span></div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a7e623a06766698ff471836eac2f3fa57">lineMode</a>())</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;                        s-&gt;<a class="code" href="classMs_1_1Segment.html#afe26f7a1d64fa1a5628063f1596e090f">staffShape</a>(<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>()).<a class="code" href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">add</a>(r);</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;                  r.translate(s-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>() + m-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>());</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;                  m-&gt;<a class="code" href="classMs_1_1Measure.html#a9c4de13b592b3e0cc6a2398641da99ed">system</a>()-&gt;<a class="code" href="classMs_1_1System.html#a51fa420463d9aadfbdc0839fb781ff1e">staff</a>(<a class="code" href="classMs_1_1ChordRest.html#a7b344ea7b12893001b693d782d19a081">vStaffIdx</a>())-&gt;<a class="code" href="classMs_1_1SysStaff.html#a707b63d183a730d81ff37aa45a22814c">skyline</a>().<a class="code" href="classMs_1_1Skyline.html#aeb121365aa19908fc8a2f00c6c593078">add</a>(r);</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;                  }</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;            }</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;      }</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;<span class="comment">//   layoutArticulations3</span></div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;<span class="comment">//    Called after layouting slurs</span></div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;<span class="comment">//    Fix up articulations that need to go outside the slur</span></div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;</div><div class="line"><a name="l03656"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#aa12e8a4e0020687474a80459043815d0"> 3656</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#aa12e8a4e0020687474a80459043815d0">Chord::layoutArticulations3</a>(<a class="code" href="classMs_1_1Slur.html">Slur</a>* slur)</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;      {</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;      <a class="code" href="classMs_1_1SlurSegment.html">SlurSegment</a>* ss;</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">this</span> == slur-&gt;<a class="code" href="classMs_1_1Spanner.html#a55786c568edbcf9796d5be5971f8eb12">startCR</a>())</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;            ss = slur-&gt;<a class="code" href="classMs_1_1Slur.html#aa9ed9b565775261a351a55d6d9837c4c">frontSegment</a>();</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">this</span> == slur-&gt;<a class="code" href="classMs_1_1Spanner.html#ad6858aab488742d20c542d35ac7bf7f1">endCR</a>())</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;            ss = slur-&gt;<a class="code" href="classMs_1_1Slur.html#a91dfda36c3326fba994057fc99166dc6">backSegment</a>();</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;      <a class="code" href="classMs_1_1Segment.html">Segment</a>* s = <a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>();</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;      <a class="code" href="classMs_1_1Measure.html">Measure</a>* m = <a class="code" href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">measure</a>();</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;      <a class="code" href="classMs_1_1SysStaff.html">SysStaff</a>* sstaff = m-&gt;<a class="code" href="classMs_1_1Measure.html#a9c4de13b592b3e0cc6a2398641da99ed">system</a>() ? m-&gt;<a class="code" href="classMs_1_1Measure.html#a9c4de13b592b3e0cc6a2398641da99ed">system</a>()-&gt;<a class="code" href="classMs_1_1System.html#a51fa420463d9aadfbdc0839fb781ff1e">staff</a>(<a class="code" href="classMs_1_1ChordRest.html#a7b344ea7b12893001b693d782d19a081">vStaffIdx</a>()) : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Articulation.html">Articulation</a>* a : qAsConst(<a class="code" href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">_articulations</a>)) {</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;            <span class="keywordflow">if</span> (a-&gt;layoutCloseToNote() || !a-&gt;autoplace() || !slur-&gt;<a class="code" href="classMs_1_1Element.html#a6ba0ad4dad0b5de65db725a10fc64278">addToSkyline</a>())</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;            <a class="code" href="classMs_1_1Shape.html">Shape</a> aShape = a-&gt;shape().<a class="code" href="classMs_1_1Shape.html#a51535d0e5b819152b44f47f98925e1e7">translated</a>(a-&gt;pos() + <a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>() + s-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>() + m-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>());</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;            <a class="code" href="classMs_1_1Shape.html">Shape</a> sShape = ss-&gt;<a class="code" href="classMs_1_1SlurTieSegment.html#afabd534baeefa0cfef3c7ff829fd8ad0">shape</a>().<a class="code" href="classMs_1_1Shape.html#a51535d0e5b819152b44f47f98925e1e7">translated</a>(ss-&gt;<a class="code" href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">pos</a>());</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;            <span class="keywordflow">if</span> (aShape.<a class="code" href="classMs_1_1Shape.html#aae937632bf13592c1c4e9138083cdea8">intersects</a>(sShape)) {</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;                  qreal d = <a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">styleS</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaa65b094505a06fa9e5bdcae30478b3cc">Sid::articulationMinDistance</a>).<a class="code" href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">val</a>() * <a class="code" href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">spatium</a>();</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;                  <span class="keywordflow">if</span> (slur-&gt;<a class="code" href="classMs_1_1SlurTie.html#a603f4e019fb851cdebd3520941e325ab">up</a>()) {</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;                        d += qMax(aShape.<a class="code" href="classMs_1_1Shape.html#a317e21df057a3f52374e2ae9c487c361">minVerticalDistance</a>(sShape), 0.0);</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;                        a-&gt;rypos() -= d;</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;                        aShape.<a class="code" href="classMs_1_1Shape.html#ab992d358f5dc0561ec350d7576f9c96a">translateY</a>(-d);</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;                        }</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;                        d += qMax(sShape.<a class="code" href="classMs_1_1Shape.html#a317e21df057a3f52374e2ae9c487c361">minVerticalDistance</a>(aShape), 0.0);</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;                        a-&gt;rypos() += d;</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;                        aShape.<a class="code" href="classMs_1_1Shape.html#ab992d358f5dc0561ec350d7576f9c96a">translateY</a>(d);</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;                        }</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;                  <span class="keywordflow">if</span> (sstaff &amp;&amp; a-&gt;addToSkyline())</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;                        sstaff-&gt;<a class="code" href="classMs_1_1SysStaff.html#a707b63d183a730d81ff37aa45a22814c">skyline</a>().<a class="code" href="classMs_1_1Skyline.html#aeb121365aa19908fc8a2f00c6c593078">add</a>(aShape);</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;                  }</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;            }</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;      }</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;<span class="comment">//   getNoteEventLists</span></div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;<span class="comment">//    Get contents of all NoteEventLists for all notes in</span></div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;<span class="comment">//    the chord.</span></div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;</div><div class="line"><a name="l03697"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a65914fc17e1f2ae2fa262d87da8df73e"> 3697</a></span>&#160;QList&lt;NoteEventList&gt; <a class="code" href="classMs_1_1Chord.html#a65914fc17e1f2ae2fa262d87da8df73e">Chord::getNoteEventLists</a>()</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;      {</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;      QList&lt;NoteEventList&gt; ell;</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().empty())</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;            <span class="keywordflow">return</span> ell;</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size(); ++i) {</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;            ell.append(<a class="code" href="classMs_1_1NoteEventList.html">NoteEventList</a>(<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()[i]-&gt;playEvents()));</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;            }</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;      <span class="keywordflow">return</span> ell;</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;      }</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;   <span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;   <span class="comment">//   setNoteEventLists</span></div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;   <span class="comment">//    Set contents of all NoteEventLists for all notes in</span></div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;   <span class="comment">//    the chord.</span></div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;   <span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;</div><div class="line"><a name="l03714"></a><span class="lineno"><a class="line" href="classMs_1_1Chord.html#a92d8a65be32d9cd99b61c984207299f4"> 3714</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1Chord.html#a92d8a65be32d9cd99b61c984207299f4">Chord::setNoteEventLists</a>(QList&lt;NoteEventList&gt;&amp; ell)</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;      {</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().empty())</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;      Q_ASSERT(ell.size() == int(<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>().size()));</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; int(i) &lt; ell.size(); i++) {</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;            <a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()[i]-&gt;setPlayEvents(ell[<span class="keywordtype">int</span>(i)]);</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;            }</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;      }</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;}</div><div class="ttc" id="classMs_1_1Element_html_ad38a889b51fa8b8553a15ca29abbc874"><div class="ttname"><a href="classMs_1_1Element.html#ad38a889b51fa8b8553a15ca29abbc874">Ms::Element::subtype</a></div><div class="ttdeci">virtual int subtype() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00296">element.h:296</a></div></div>
<div class="ttc" id="classMs_1_1Hook_html"><div class="ttname"><a href="classMs_1_1Hook.html">Ms::Hook</a></div><div class="ttdef"><b>Definition:</b> <a href="hook_8h_source.html#l00026">hook.h:26</a></div></div>
<div class="ttc" id="namespaceMs_html_a28863123e439c88c35086eb7dd963c9aa50780f47f6839d47d60bc4555ee00c3f"><div class="ttname"><a href="namespaceMs.html#a28863123e439c88c35086eb7dd963c9aa50780f47f6839d47d60bc4555ee00c3f">Ms::CapellaNoteObjectType::REST</a></div></div>
<div class="ttc" id="classMs_1_1Stem_html_a27fb7f82d5ae95bb9e619a90ec4e09aa"><div class="ttname"><a href="classMs_1_1Stem.html#a27fb7f82d5ae95bb9e619a90ec4e09aa">Ms::Stem::hookPos</a></div><div class="ttdeci">QPointF hookPos() const</div><div class="ttdef"><b>Definition:</b> <a href="stem_8cpp_source.html#l00402">stem.cpp:402</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a6faacfad9c649ca6d70e3fca0bcdd3ad"><div class="ttname"><a href="classMs_1_1Chord.html#a6faacfad9c649ca6d70e3fca0bcdd3ad">Ms::Chord::layoutTablature</a></div><div class="ttdeci">void layoutTablature()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02131">chord.cpp:2131</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a44dc6d5b22a75152673060bc059acfb9"><div class="ttname"><a href="classMs_1_1Segment.html#a44dc6d5b22a75152673060bc059acfb9">Ms::Segment::measure</a></div><div class="ttdeci">Measure * measure() const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00130">segment.h:130</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_ad6c27f91b390e86ffe8f963db51e64af"><div class="ttname"><a href="classMs_1_1StaffType.html#ad6c27f91b390e86ffe8f963db51e64af">Ms::StaffType::physStringToVisual</a></div><div class="ttdeci">int physStringToVisual(int strg) const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8cpp_source.html#l00790">stafftype.cpp:790</a></div></div>
<div class="ttc" id="accidental_8h_html"><div class="ttname"><a href="accidental_8h.html">accidental.h</a></div><div class="ttdoc">Definition of class Accidental. </div></div>
<div class="ttc" id="namespaceMs_html_af5e4ec7a183fe9ea39bfb81888efbde2af58b08678e3a4828ca3fdae016ff814b"><div class="ttname"><a href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2af58b08678e3a4828ca3fdae016ff814b">Ms::IconType::GRACE32_AFTER</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9eae5133e2b6493fb2a101625612251c15b"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eae5133e2b6493fb2a101625612251c15b">Ms::ElementType::BEND</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ac7b95b8022eb8391c94b5b1e9a90ee05"><div class="ttname"><a href="classMs_1_1Chord.html#ac7b95b8022eb8391c94b5b1e9a90ee05">Ms::Chord::~Chord</a></div><div class="ttdeci">~Chord()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00336">chord.cpp:336</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_aef2c1170f14dd5ba1a773c2d7e28d067"><div class="ttname"><a href="classMs_1_1Measure.html#aef2c1170f14dd5ba1a773c2d7e28d067">Ms::Measure::checkMultiVoices</a></div><div class="ttdeci">void checkMultiVoices(int staffIdx)</div><div class="ttdoc">Check for more than on voice in this measure and staff and set MStaff-&gt;hasVoices. ...</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l02754">measure.cpp:2754</a></div></div>
<div class="ttc" id="classMs_1_1Slur_html_aa9ed9b565775261a351a55d6d9837c4c"><div class="ttname"><a href="classMs_1_1Slur.html#aa9ed9b565775261a351a55d6d9837c4c">Ms::Slur::frontSegment</a></div><div class="ttdeci">SlurSegment * frontSegment()</div><div class="ttdef"><b>Definition:</b> <a href="slur_8h_source.html#l00070">slur.h:70</a></div></div>
<div class="ttc" id="classMs_1_1Tie_html_a81e11c00ff2b76f3472303560c12d0a5"><div class="ttname"><a href="classMs_1_1Tie.html#a81e11c00ff2b76f3472303560c12d0a5">Ms::Tie::layoutBack</a></div><div class="ttdeci">TieSegment * layoutBack(System *)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2tie_8cpp_source.html#l00705">tie.cpp:705</a></div></div>
<div class="ttc" id="namespaceMs_html_a602ef082ffbbe2c4b11e2375cc4aa794ae7f80072156130d537acf825545c10f0"><div class="ttname"><a href="namespaceMs.html#a602ef082ffbbe2c4b11e2375cc4aa794ae7f80072156130d537acf825545c10f0">Ms::SymId::augmentationDot</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a4f70ed1ad94787f19a5b90c38df3564e"><div class="ttname"><a href="classMs_1_1Note.html#a4f70ed1ad94787f19a5b90c38df3564e">Ms::Note::fixed</a></div><div class="ttdeci">bool fixed() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00369">note.h:369</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a904f7cbd2d6c478e10a6e7d7ae9f638d"><div class="ttname"><a href="classMs_1_1Element.html#a904f7cbd2d6c478e10a6e7d7ae9f638d">Ms::Element::localSpatiumChanged</a></div><div class="ttdeci">virtual void localSpatiumChanged(qreal, qreal)</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00122">element.cpp:122</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ac1fe59b8f92c11fc6b662855fc8d9316"><div class="ttname"><a href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">Ms::Note::chord</a></div><div class="ttdeci">Chord * chord() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00429">note.h:429</a></div></div>
<div class="ttc" id="namespaceMs_html_a742ba569a9d442eadb829a2376f00165"><div class="ttname"><a href="namespaceMs.html#a742ba569a9d442eadb829a2376f00165">Ms::prevNote</a></div><div class="ttdeci">Note * prevNote(Note *n)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l00797">score.cpp:797</a></div></div>
<div class="ttc" id="namespaceMs_html_af5e4ec7a183fe9ea39bfb81888efbde2a19a7279a0e29931de860939b2edf8845"><div class="ttname"><a href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a19a7279a0e29931de860939b2edf8845">Ms::IconType::GRACE8_AFTER</a></div></div>
<div class="ttc" id="stafftype_8h_html"><div class="ttname"><a href="stafftype_8h.html">stafftype.h</a></div></div>
<div class="ttc" id="classMs_1_1Stem_html_af82b7550b3812ab906901aa32efe0e2b"><div class="ttname"><a href="classMs_1_1Stem.html#af82b7550b3812ab906901aa32efe0e2b">Ms::Stem::setLen</a></div><div class="ttdeci">void setLen(qreal l)</div><div class="ttdef"><b>Definition:</b> <a href="stem_8cpp_source.html#l00131">stem.cpp:131</a></div></div>
<div class="ttc" id="classMs_1_1StemSlash_html_a37b6ee2aae8b5b24018145923df93d86"><div class="ttname"><a href="classMs_1_1StemSlash.html#a37b6ee2aae8b5b24018145923df93d86">Ms::StemSlash::layout</a></div><div class="ttdeci">void layout() override</div><div class="ttdef"><b>Definition:</b> <a href="stemslash_8cpp_source.html#l00045">stemslash.cpp:45</a></div></div>
<div class="ttc" id="structMs_1_1LedgerLineData_html_ad9515c025dc446064adecd7056116d07"><div class="ttname"><a href="structMs_1_1LedgerLineData.html#ad9515c025dc446064adecd7056116d07">Ms::LedgerLineData::visible</a></div><div class="ttdeci">bool visible</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00061">chord.cpp:61</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a4cc362a42bad65483b59d3a8e0df374f"><div class="ttname"><a href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">Ms::Element::tick</a></div><div class="ttdeci">virtual Fraction tick() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00319">element.cpp:319</a></div></div>
<div class="ttc" id="classMs_1_1Stem_html_afbb6c776d4e5a2347ad4d7a3ef4e64e7"><div class="ttname"><a href="classMs_1_1Stem.html#afbb6c776d4e5a2347ad4d7a3ef4e64e7">Ms::Stem::stemLen</a></div><div class="ttdeci">qreal stemLen() const</div><div class="ttdef"><b>Definition:</b> <a href="stem_8cpp_source.html#l00067">stem.cpp:67</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a2e10ac0df6306f36279313afe3b86f85"><div class="ttname"><a href="classMs_1_1Chord.html#a2e10ac0df6306f36279313afe3b86f85">Ms::Chord::_ledgerLines</a></div><div class="ttdeci">LedgerLine * _ledgerLines</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00057">chord.h:57</a></div></div>
<div class="ttc" id="namespaceMs_html_a602ef082ffbbe2c4b11e2375cc4aa794a1f96922df118c11cd423e8d25d2cc641"><div class="ttname"><a href="namespaceMs.html#a602ef082ffbbe2c4b11e2375cc4aa794a1f96922df118c11cd423e8d25d2cc641">Ms::SymId::articMarcatoTenutoBelow</a></div></div>
<div class="ttc" id="namespaceMs_html_a2d43ff9c26edae64d956fd7a345356b4a2c0976b82e014c3f42356f3ad8dab365"><div class="ttname"><a href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a2c0976b82e014c3f42356f3ad8dab365">Ms::ArticulationAnchor::BOTTOM_CHORD</a></div></div>
<div class="ttc" id="classMs_1_1Tie_html_acdcb6924221b29a0e3d6ae3fa109aa14"><div class="ttname"><a href="classMs_1_1Tie.html#acdcb6924221b29a0e3d6ae3fa109aa14">Ms::Tie::startNote</a></div><div class="ttdeci">Note * startNote() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2tie_8cpp_source.html#l00770">tie.cpp:770</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a68421838d547539df5a4ccb2199e6d0c"><div class="ttname"><a href="classMs_1_1Chord.html#a68421838d547539df5a4ccb2199e6d0c">Ms::Chord::updateEndsGlissando</a></div><div class="ttdeci">void updateEndsGlissando()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02927">chord.cpp:2927</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655a457e31bcd21e4852f3388587ee933adb"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a457e31bcd21e4852f3388587ee933adb">Ms::Pid::FIXED_LINE</a></div></div>
<div class="ttc" id="namespaceMs_html_a704a7cd3b8260ca95e9a99bbabe800c3af3fc827ade4b968e50406496907ef962"><div class="ttname"><a href="namespaceMs.html#a704a7cd3b8260ca95e9a99bbabe800c3af3fc827ade4b968e50406496907ef962">Ms::TablatureSymbolRepeat::ALWAYS</a></div></div>
<div class="ttc" id="classMs_1_1Arpeggio_html_ab548e1fae74df75b4ccbb98830149cd3"><div class="ttname"><a href="classMs_1_1Arpeggio.html#ab548e1fae74df75b4ccbb98830149cd3">Ms::Arpeggio::setHeight</a></div><div class="ttdeci">void setHeight(qreal)</div><div class="ttdef"><b>Definition:</b> <a href="arpeggio_8cpp_source.html#l00056">arpeggio.cpp:56</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a92d8a65be32d9cd99b61c984207299f4"><div class="ttname"><a href="classMs_1_1Chord.html#a92d8a65be32d9cd99b61c984207299f4">Ms::Chord::setNoteEventLists</a></div><div class="ttdeci">void setNoteEventLists(QList&lt; NoteEventList &gt; &amp;nel)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03714">chord.cpp:3714</a></div></div>
<div class="ttc" id="namespaceMs_html_aeccc894c5a64aba67bbfaf8fe1b755d5a10de4bc81f754b19b0d27246a0589c05"><div class="ttname"><a href="namespaceMs.html#aeccc894c5a64aba67bbfaf8fe1b755d5a10de4bc81f754b19b0d27246a0589c05">Ms::NOTE</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_acb035c471ae0327d5d994d5026727b84"><div class="ttname"><a href="classMs_1_1Tremolo.html#acb035c471ae0327d5d994d5026727b84">Ms::Tremolo::minHeight</a></div><div class="ttdeci">qreal minHeight() const</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8cpp_source.html#l00088">tremolo.cpp:88</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_af111928e25b26476ec35a3300aed2eec"><div class="ttname"><a href="classMs_1_1TDuration.html#af111928e25b26476ec35a3300aed2eec">Ms::TDuration::setDots</a></div><div class="ttdeci">void setDots(int v)</div><div class="ttdef"><b>Definition:</b> <a href="durationtype_8cpp_source.html#l00055">durationtype.cpp:55</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a974c42eccde33cecfe763c8971f50434"><div class="ttname"><a href="classMs_1_1Chord.html#a974c42eccde33cecfe763c8971f50434">Ms::Chord::stem</a></div><div class="ttdeci">Stem * stem() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00136">chord.h:136</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a3d52cb81e00336d49938b6e43e96ead3"><div class="ttname"><a href="classMs_1_1Segment.html#a3d52cb81e00336d49938b6e43e96ead3">Ms::Segment::setDotPosX</a></div><div class="ttdeci">void setDotPosX(int staffIdx, qreal val)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00183">segment.h:183</a></div></div>
<div class="ttc" id="classMs_1_1Articulation_html"><div class="ttname"><a href="classMs_1_1Articulation.html">Ms::Articulation</a></div><div class="ttdoc">articulation marks </div><div class="ttdef"><b>Definition:</b> <a href="articulation_8h_source.html#l00056">articulation.h:56</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a002bfeb279e714adaff047d623de3fa8"><div class="ttname"><a href="classMs_1_1Chord.html#a002bfeb279e714adaff047d623de3fa8">Ms::Chord::measure</a></div><div class="ttdeci">Measure * measure() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03005">chord.cpp:3005</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a7f1661cd105ba06f03f23d01f8087f83"><div class="ttname"><a href="classMs_1_1Chord.html#a7f1661cd105ba06f03f23d01f8087f83">Ms::Chord::_noStem</a></div><div class="ttdeci">bool _noStem</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00071">chord.h:71</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9eacb3f068f057caa10e7caa198e7661e44"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eacb3f068f057caa10e7caa198e7661e44">Ms::ElementType::ARTICULATION</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a0e1b3b1bbd7dce4647aba00675b03efe"><div class="ttname"><a href="classMs_1_1Chord.html#a0e1b3b1bbd7dce4647aba00675b03efe">Ms::Chord::_arpeggio</a></div><div class="ttdeci">Arpeggio * _arpeggio</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00063">chord.h:63</a></div></div>
<div class="ttc" id="classMs_1_1Shape_html_ab992d358f5dc0561ec350d7576f9c96a"><div class="ttname"><a href="classMs_1_1Shape.html#ab992d358f5dc0561ec350d7576f9c96a">Ms::Shape::translateY</a></div><div class="ttdeci">void translateY(qreal)</div><div class="ttdef"><b>Definition:</b> <a href="shape_8cpp_source.html#l00051">shape.cpp:51</a></div></div>
<div class="ttc" id="libmscore_2part_8h_html"><div class="ttname"><a href="libmscore_2part_8h.html">part.h</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ac77462915c4e2927cb96da1cad3b71c6"><div class="ttname"><a href="classMs_1_1Chord.html#ac77462915c4e2927cb96da1cad3b71c6">Ms::Chord::setStemDirection</a></div><div class="ttdeci">void setStemDirection(Direction d)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00109">chord.h:109</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_afe26f7a1d64fa1a5628063f1596e090f"><div class="ttname"><a href="classMs_1_1Segment.html#afe26f7a1d64fa1a5628063f1596e090f">Ms::Segment::staffShape</a></div><div class="ttdeci">const Shape &amp; staffShape(int staffIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00222">segment.h:222</a></div></div>
<div class="ttc" id="namespaceMs_html_a7ed072d6dff4510a84d47dc97fc27149"><div class="ttname"><a href="namespaceMs.html#a7ed072d6dff4510a84d47dc97fc27149">Ms::fraction</a></div><div class="ttdeci">static Fraction fraction(const XmlWriter &amp;xml, const Element *current, const Fraction &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="spanner_8cpp_source.html#l01266">spanner.cpp:1266</a></div></div>
<div class="ttc" id="glissando_8h_html"><div class="ttname"><a href="glissando_8h.html">glissando.h</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_ab6c2b0280a3c3de384d8a1b6b721e5b6"><div class="ttname"><a href="classMs_1_1Staff.html#ab6c2b0280a3c3de384d8a1b6b721e5b6">Ms::Staff::staffTypeForElement</a></div><div class="ttdeci">const StaffType * staffTypeForElement(const Element *) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l01025">staff.cpp:1025</a></div></div>
<div class="ttc" id="undo_8h_html"><div class="ttname"><a href="undo_8h.html">undo.h</a></div><div class="ttdoc">Definition of undo-releated classes and structs. </div></div>
<div class="ttc" id="classMs_1_1Chord_html_ad35c2bb16e7bc3823a0f57939071339c"><div class="ttname"><a href="classMs_1_1Chord.html#ad35c2bb16e7bc3823a0f57939071339c">Ms::Chord::setProperty</a></div><div class="ttdeci">bool setProperty(Pid propertyId, const QVariant &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02785">chord.cpp:2785</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a84d9574652805d8c7600ad6968ff8e40"><div class="ttname"><a href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">Ms::Note::tieBack</a></div><div class="ttdeci">Ms::Tie * tieBack() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00419">note.h:419</a></div></div>
<div class="ttc" id="classMs_1_1EditData_html"><div class="ttname"><a href="classMs_1_1EditData.html">Ms::EditData</a></div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00113">element.h:113</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a722c73034ff13507a1336593e6af9567"><div class="ttname"><a href="classMs_1_1Chord.html#a722c73034ff13507a1336593e6af9567">Ms::Chord::stemDirection</a></div><div class="ttdeci">Direction stemDirection() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00110">chord.h:110</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a5bcddfe45a491f0f1d90794783438177"><div class="ttname"><a href="classMs_1_1Chord.html#a5bcddfe45a491f0f1d90794783438177">Ms::Chord::processSiblings</a></div><div class="ttdeci">void processSiblings(std::function&lt; void(Element *)&gt; func) const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01219">chord.cpp:1219</a></div></div>
<div class="ttc" id="classMs_1_1Note_html"><div class="ttname"><a href="classMs_1_1Note.html">Ms::Note</a></div><div class="ttdoc">Graphic representation of a note. </div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00235">note.h:235</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a5b5b7e93b97367c5c59da86349dcee82"><div class="ttname"><a href="classMs_1_1ChordRest.html#a5b5b7e93b97367c5c59da86349dcee82">Ms::ChordRest::prevElement</a></div><div class="ttdeci">virtual Element * prevElement() override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l01122">chordrest.cpp:1122</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aa3fcf32f0ec0dec0e4b15bc01b6329ec"><div class="ttname"><a href="classMs_1_1Chord.html#aa3fcf32f0ec0dec0e4b15bc01b6329ec">Ms::Chord::mag</a></div><div class="ttdeci">qreal mag() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02983">chord.cpp:2983</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a21d4b236a351c39c34de65c0796343c5"><div class="ttname"><a href="classMs_1_1Chord.html#a21d4b236a351c39c34de65c0796343c5">Ms::Chord::slash</a></div><div class="ttdeci">bool slash()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02833">chord.cpp:2833</a></div></div>
<div class="ttc" id="namespaceMs_html_a3b085ddb3e3b890843f2e33874b9fa4baf684bf05fa3e81528c84d1d281d839f1"><div class="ttname"><a href="namespaceMs.html#a3b085ddb3e3b890843f2e33874b9fa4baf684bf05fa3e81528c84d1d281d839f1">Ms::ClefType::TAB</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a994f2abd8df02a160c7055b0cae26c87"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a994f2abd8df02a160c7055b0cae26c87">Ms::ScoreElement::undoUnlink</a></div><div class="ttdeci">virtual void undoUnlink()</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8cpp_source.html#l00593">scoreElement.cpp:593</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html"><div class="ttname"><a href="classMs_1_1Segment.html">Ms::Segment</a></div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00050">segment.h:50</a></div></div>
<div class="ttc" id="classMs_1_1Stem_html_a92025e177b61830d49fd43fd7ccbe168"><div class="ttname"><a href="classMs_1_1Stem.html#a92025e177b61830d49fd43fd7ccbe168">Ms::Stem::read</a></div><div class="ttdeci">void read(XmlReader &amp;e) override</div><div class="ttdef"><b>Definition:</b> <a href="stem_8cpp_source.html#l00233">stem.cpp:233</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eacf91555d502f169a47dcd9db66a88590"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eacf91555d502f169a47dcd9db66a88590">Ms::Sid::graceNoteMag</a></div></div>
<div class="ttc" id="classMs_1_1Beam_html_a6dadfb1b4b373eb11485cc8372cb0edd"><div class="ttname"><a href="classMs_1_1Beam.html#a6dadfb1b4b373eb11485cc8372cb0edd">Ms::Beam::elements</a></div><div class="ttdeci">const QVector&lt; ChordRest * &gt; &amp; elements()</div><div class="ttdef"><b>Definition:</b> <a href="beam_8h_source.html#l00109">beam.h:109</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html"><div class="ttname"><a href="classMs_1_1Measure.html">Ms::Measure</a></div><div class="ttdoc">one measure in a system </div><div class="ttdef"><b>Definition:</b> <a href="measure_8h_source.html#l00066">measure.h:66</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a77eab400665dc934f24de11fc7ac1c4e"><div class="ttname"><a href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">Ms::Chord::notes</a></div><div class="ttdeci">std::vector&lt; Note * &gt; &amp; notes()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00123">chord.h:123</a></div></div>
<div class="ttc" id="pitchspelling_8h_html"><div class="ttname"><a href="pitchspelling_8h.html">pitchspelling.h</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_aaa20fcc0a0a1f86b0b0d859648341c49"><div class="ttname"><a href="classMs_1_1Score.html#aaa20fcc0a0a1f86b0b0d859648341c49">Ms::Score::spatium</a></div><div class="ttdeci">qreal spatium() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00904">score.h:904</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ad522b2e9841b3848e088567c54d09f1d"><div class="ttname"><a href="classMs_1_1Chord.html#ad522b2e9841b3848e088567c54d09f1d">Ms::Chord::localSpatiumChanged</a></div><div class="ttdeci">void localSpatiumChanged(qreal oldValue, qreal newValue) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02730">chord.cpp:2730</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_a59e7ea71144ca41345f53ad4ff4060e5"><div class="ttname"><a href="classMs_1_1StaffType.html#a59e7ea71144ca41345f53ad4ff4060e5">Ms::StaffType::symRepeat</a></div><div class="ttdeci">TablatureSymbolRepeat symRepeat() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00369">stafftype.h:369</a></div></div>
<div class="ttc" id="classMs_1_1Spatium_html"><div class="ttname"><a href="classMs_1_1Spatium.html">Ms::Spatium</a></div><div class="ttdef"><b>Definition:</b> <a href="spatium_8h_source.html#l00025">spatium.h:25</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a3310b010a17d4f1f2e40edf2d356207d"><div class="ttname"><a href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">Ms::Score::styleD</a></div><div class="ttdeci">qreal styleD(Sid idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00899">score.h:899</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_abf9774dbe43a1012f09ede1b8352edd2"><div class="ttname"><a href="classMs_1_1ChordRest.html#abf9774dbe43a1012f09ede1b8352edd2">Ms::ChordRest::setScore</a></div><div class="ttdeci">virtual void setScore(Score *s) override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l01005">chordrest.cpp:1005</a></div></div>
<div class="ttc" id="namespaceMs_html_a175bedec052e1c2fd09257ffde43d847a8699b57ba7b0ea3fc6471ada80b8e4f8"><div class="ttname"><a href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a8699b57ba7b0ea3fc6471ada80b8e4f8">Ms::SelectionFilterType::TREMOLO</a></div></div>
<div class="ttc" id="classMs_1_1Element_html"><div class="ttname"><a href="classMs_1_1Element.html">Ms::Element</a></div><div class="ttdoc">Base class of score layout elements. </div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00163">element.h:163</a></div></div>
<div class="ttc" id="libmscore_2tie_8h_html"><div class="ttname"><a href="libmscore_2tie_8h.html">tie.h</a></div></div>
<div class="ttc" id="namespaceMs_html_a4723eaf0d51b78054133d58d1a6935cb"><div class="ttname"><a href="namespaceMs.html#a4723eaf0d51b78054133d58d1a6935cb">Ms::sort</a></div><div class="ttdeci">static void sort(int &amp;r1, int &amp;c1, int &amp;r2, int &amp;c2)</div><div class="ttdoc">swap (r1,c1) with (r2,c2) if they are not sorted </div><div class="ttdef"><b>Definition:</b> <a href="textbase_8cpp_source.html#l00109">textbase.cpp:109</a></div></div>
<div class="ttc" id="classMs_1_1Link_html"><div class="ttname"><a href="classMs_1_1Link.html">Ms::Link</a></div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l01289">undo.h:1289</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a01bae6718839f6ac1eb0603d5d58f3f5"><div class="ttname"><a href="classMs_1_1Chord.html#a01bae6718839f6ac1eb0603d5d58f3f5">Ms::Chord::_spaceRw</a></div><div class="ttdeci">qreal _spaceRw</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00075">chord.h:75</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a7e7ba0487a1113884ed218ba74c6a7d6"><div class="ttname"><a href="classMs_1_1Element.html#a7e7ba0487a1113884ed218ba74c6a7d6">Ms::Element::voice</a></div><div class="ttdeci">int voice() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00359">element.h:359</a></div></div>
<div class="ttc" id="namespaceMs_html_af4c32906c47a5cda0fea111d4ba39011abcad9b7df222928416776b059f8eebe1"><div class="ttname"><a href="namespaceMs.html#af4c32906c47a5cda0fea111d4ba39011abcad9b7df222928416776b059f8eebe1">Ms::TabBeamGrid::MEDIALFINAL</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ae98ee8a14611a1e180507a38bdb6cf7e"><div class="ttname"><a href="classMs_1_1Note.html#ae98ee8a14611a1e180507a38bdb6cf7e">Ms::Note::connectTiedNotes</a></div><div class="ttdeci">void connectTiedNotes()</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l03453">note.cpp:3453</a></div></div>
<div class="ttc" id="fingering_8h_html"><div class="ttname"><a href="fingering_8h.html">fingering.h</a></div></div>
<div class="ttc" id="libmscore_2score_8h_html"><div class="ttname"><a href="libmscore_2score_8h.html">score.h</a></div><div class="ttdoc">Definition of Score class. </div></div>
<div class="ttc" id="namespaceMs_html_a3369cc1ece2bbd874c148455b5db4b86a4c1e3a498a71f85d23ea30283022c6a3"><div class="ttname"><a href="namespaceMs.html#a3369cc1ece2bbd874c148455b5db4b86a4c1e3a498a71f85d23ea30283022c6a3">Ms::Form::PERCUSSION</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a23cde3c97359266e2787b107aa0c8cdf"><div class="ttname"><a href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">Ms::Segment::tick</a></div><div class="ttdeci">Fraction tick() const override</div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00212">segment.cpp:212</a></div></div>
<div class="ttc" id="namespaceMs_html_af5e4ec7a183fe9ea39bfb81888efbde2a2a1dc26af8b64e2f3f230090d918837c"><div class="ttname"><a href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a2a1dc26af8b64e2f3f230090d918837c">Ms::IconType::APPOGGIATURA</a></div></div>
<div class="ttc" id="classMs_1_1SpannerSegment_html_aef566e6223c15bad8cba7de7a9bc63dc"><div class="ttname"><a href="classMs_1_1SpannerSegment.html#aef566e6223c15bad8cba7de7a9bc63dc">Ms::SpannerSegment::spanner</a></div><div class="ttdeci">Spanner * spanner() const</div><div class="ttdef"><b>Definition:</b> <a href="spanner_8h_source.html#l00052">spanner.h:52</a></div></div>
<div class="ttc" id="tremolo_8h_html"><div class="ttname"><a href="tremolo_8h.html">tremolo.h</a></div></div>
<div class="ttc" id="ledgerline_8h_html"><div class="ttname"><a href="ledgerline_8h.html">ledgerline.h</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a9e6b509fdfe667a0dde3040ec5cea988"><div class="ttname"><a href="classMs_1_1Chord.html#a9e6b509fdfe667a0dde3040ec5cea988">Ms::Chord::shape</a></div><div class="ttdeci">Shape shape() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03381">chord.cpp:3381</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea5b6e0c6863a2e5149eda540e72454a68"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea5b6e0c6863a2e5149eda540e72454a68">Ms::Sid::dotDotDistance</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ac65a5e366eda7035626fb167e4a22ff7"><div class="ttname"><a href="classMs_1_1Note.html#ac65a5e366eda7035626fb167e4a22ff7">Ms::Note::line</a></div><div class="ttdeci">int line() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l02358">note.cpp:2358</a></div></div>
<div class="ttc" id="classMs_1_1AddElement_html"><div class="ttname"><a href="classMs_1_1AddElement.html">Ms::AddElement</a></div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00551">undo.h:551</a></div></div>
<div class="ttc" id="namespaceMs_html"><div class="ttname"><a href="namespaceMs.html">Ms</a></div><div class="ttdoc">MusicXML export. </div><div class="ttdef"><b>Definition:</b> <a href="aeolus_8cpp_source.html#l00026">aeolus.cpp:26</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aaf9bb50408c17fa91c3b1f199bd6a77a"><div class="ttname"><a href="classMs_1_1Chord.html#aaf9bb50408c17fa91c3b1f199bd6a77a">Ms::Chord::downString</a></div><div class="ttdeci">int downString() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00188">chord.cpp:188</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a7a2b6622bd7c71f0960ec67403093f7c"><div class="ttname"><a href="classMs_1_1Chord.html#a7a2b6622bd7c71f0960ec67403093f7c">Ms::Chord::layoutArticulations2</a></div><div class="ttdeci">void layoutArticulations2()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03541">chord.cpp:3541</a></div></div>
<div class="ttc" id="namespaceMs_html_a7358b681a67b5524ff31ae9ec8e72322accc0377a8afbf50e7094f5c23a8af223"><div class="ttname"><a href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322accc0377a8afbf50e7094f5c23a8af223">Ms::NoteType::INVALID</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_afdedce94ce766c0c71bbd30ae610752b"><div class="ttname"><a href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">Ms::Score::selection</a></div><div class="ttdeci">const Selection &amp; selection() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00830">score.h:830</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_aa3b85eb58a8f7f4476fbd05b59253585"><div class="ttname"><a href="classMs_1_1Score.html#aa3b85eb58a8f7f4476fbd05b59253585">Ms::Score::select</a></div><div class="ttdeci">void select(Element *obj, SelectType=SelectType::SINGLE, int staff=0)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l03036">score.cpp:3036</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_ac55f422eeb641115fd88da2c278a3514"><div class="ttname"><a href="classMs_1_1Segment.html#ac55f422eeb641115fd88da2c278a3514">Ms::Segment::system</a></div><div class="ttdeci">System * system() const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00131">segment.h:131</a></div></div>
<div class="ttc" id="text_8h_html"><div class="ttname"><a href="text_8h.html">text.h</a></div></div>
<div class="ttc" id="classMs_1_1Spanner_html_a55786c568edbcf9796d5be5971f8eb12"><div class="ttname"><a href="classMs_1_1Spanner.html#a55786c568edbcf9796d5be5971f8eb12">Ms::Spanner::startCR</a></div><div class="ttdeci">ChordRest * startCR()</div><div class="ttdef"><b>Definition:</b> <a href="spanner_8cpp_source.html#l00803">spanner.cpp:803</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_afe552a986cb79260a7776bce05bdb6ff"><div class="ttname"><a href="classMs_1_1Chord.html#afe552a986cb79260a7776bce05bdb6ff">Ms::Chord::graceNotesAfter</a></div><div class="ttdeci">QVector&lt; Chord * &gt; graceNotesAfter() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03038">chord.cpp:3038</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a64f76d8f29e50d9cb8bfda72fbf62d2c"><div class="ttname"><a href="classMs_1_1Score.html#a64f76d8f29e50d9cb8bfda72fbf62d2c">Ms::Score::styleS</a></div><div class="ttdeci">Spatium styleS(Sid idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00895">score.h:895</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a9ef10daa63efa6b649084a4be6abe196"><div class="ttname"><a href="classMs_1_1Chord.html#a9ef10daa63efa6b649084a4be6abe196">Ms::Chord::setTrack</a></div><div class="ttdeci">void setTrack(int val) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01247">chord.cpp:1247</a></div></div>
<div class="ttc" id="classMs_1_1Shape_html"><div class="ttname"><a href="classMs_1_1Shape.html">Ms::Shape</a></div><div class="ttdef"><b>Definition:</b> <a href="shape_8h_source.html#l00042">shape.h:42</a></div></div>
<div class="ttc" id="namespaceMs_html_a24593d5bc01ac95fdbec3d354d258894ab1c94ca2fbc3e78fc30069c8d0f01680"><div class="ttname"><a href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894ab1c94ca2fbc3e78fc30069c8d0f01680">Ms::SegmentType::All</a></div><div class="ttdoc">Includes all barline types. </div></div>
<div class="ttc" id="classMs_1_1Accidental_html"><div class="ttname"><a href="classMs_1_1Accidental.html">Ms::Accidental</a></div><div class="ttdef"><b>Definition:</b> <a href="accidental_8h_source.html#l00071">accidental.h:71</a></div></div>
<div class="ttc" id="classMs_1_1LedgerLine_html_a185f3e1a81dedace6753770879c3882f"><div class="ttname"><a href="classMs_1_1LedgerLine.html#a185f3e1a81dedace6753770879c3882f">Ms::LedgerLine::layout</a></div><div class="ttdeci">void layout() override</div><div class="ttdef"><b>Definition:</b> <a href="ledgerline_8cpp_source.html#l00063">ledgerline.cpp:63</a></div></div>
<div class="ttc" id="classMs_1_1Stem_html"><div class="ttname"><a href="classMs_1_1Stem.html">Ms::Stem</a></div><div class="ttdoc">Graphic representation of a note stem. </div><div class="ttdef"><b>Definition:</b> <a href="stem_8h_source.html#l00027">stem.h:27</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_abe5c0aa8e74388b2b6b336dfec469a35"><div class="ttname"><a href="classMs_1_1Element.html#abe5c0aa8e74388b2b6b336dfec469a35">Ms::Element::setbbox</a></div><div class="ttdeci">virtual void setbbox(const QRectF &amp;r) const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00285">element.h:285</a></div></div>
<div class="ttc" id="namespaceMs_html_a1d19008c03cb6d496010a5451a9a5e71a2c2624a5059934a947d6e25fe8332ade"><div class="ttname"><a href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71a2c2624a5059934a947d6e25fe8332ade">Ms::CrossMeasure::FIRST</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a6d5c3efe74ec1a9be56a1f8e3e88cd4b"><div class="ttname"><a href="classMs_1_1Staff.html#a6d5c3efe74ec1a9be56a1f8e3e88cd4b">Ms::Staff::height</a></div><div class="ttdeci">qreal height() const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l00805">staff.cpp:805</a></div></div>
<div class="ttc" id="classMs_1_1LedgerLine_html_a9a416a9e9fe2f67024e44c138f297621"><div class="ttname"><a href="classMs_1_1LedgerLine.html#a9a416a9e9fe2f67024e44c138f297621">Ms::LedgerLine::setLen</a></div><div class="ttdeci">void setLen(qreal v)</div><div class="ttdef"><b>Definition:</b> <a href="ledgerline_8h_source.html#l00048">ledgerline.h:48</a></div></div>
<div class="ttc" id="namespaceMs_html_a4ddd02afd2f797a6a269ddce7466a4d6afbaedde498cdead4f2780217646e9ba1"><div class="ttname"><a href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6afbaedde498cdead4f2780217646e9ba1">Ms::Direction::UP</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655a8fc5a0642a90632e8418ca52c3ec761d"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a8fc5a0642a90632e8418ca52c3ec761d">Ms::Pid::SYMBOL</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_af3a0508526f75ba00001668f5be9c91a"><div class="ttname"><a href="classMs_1_1TDuration.html#af3a0508526f75ba00001668f5be9c91a">Ms::TDuration::shift</a></div><div class="ttdeci">TDuration shift(int nSteps) const</div><div class="ttdef"><b>Definition:</b> <a href="durationtype_8h_source.html#l00073">durationtype.h:73</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eaa65b094505a06fa9e5bdcae30478b3cc"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaa65b094505a06fa9e5bdcae30478b3cc">Ms::Sid::articulationMinDistance</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_ad9263bf173856b77421e83a48a7bf68ca6c6e49b3c9b39ed391ad302487159e47"><div class="ttname"><a href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68ca6c6e49b3c9b39ed391ad302487159e47">Ms::TDuration::DurationType::V_BREVE</a></div></div>
<div class="ttc" id="classMs_1_1Stem_html_a81ddcc690c22a7a0255c1fd7188f02de"><div class="ttname"><a href="classMs_1_1Stem.html#a81ddcc690c22a7a0255c1fd7188f02de">Ms::Stem::write</a></div><div class="ttdeci">void write(XmlWriter &amp;xml) const override</div><div class="ttdef"><b>Definition:</b> <a href="stem_8cpp_source.html#l00220">stem.cpp:220</a></div></div>
<div class="ttc" id="arpeggio_8h_html"><div class="ttname"><a href="arpeggio_8h.html">arpeggio.h</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a806684cf1cc04d752f2915f40af98b58"><div class="ttname"><a href="classMs_1_1Chord.html#a806684cf1cc04d752f2915f40af98b58">Ms::Chord::_articulations</a></div><div class="ttdeci">QVector&lt; Articulation * &gt; _articulations</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00077">chord.h:77</a></div></div>
<div class="ttc" id="classMs_1_1Tie_html_a9719252bb8e38b88324bdd19ca07f13d"><div class="ttname"><a href="classMs_1_1Tie.html#a9719252bb8e38b88324bdd19ca07f13d">Ms::Tie::endNote</a></div><div class="ttdeci">Note * endNote() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2tie_8cpp_source.html#l00780">tie.cpp:780</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a4d6e2aef9a0ba5beadef86d36f15367d"><div class="ttname"><a href="classMs_1_1Note.html#a4d6e2aef9a0ba5beadef86d36f15367d">Ms::Note::layout</a></div><div class="ttdeci">void layout() override</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l02024">note.cpp:2024</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9ea49f1f9beb48e7b006a35b2377403bea8"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea49f1f9beb48e7b006a35b2377403bea8">Ms::ElementType::SEGMENT</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ab2dc3b88a557f2beae50424865f068c5"><div class="ttname"><a href="classMs_1_1Chord.html#ab2dc3b88a557f2beae50424865f068c5">Ms::Chord::downPos</a></div><div class="ttdeci">qreal downPos() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01158">chord.cpp:1158</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_acef2a5afe6db83509657e7fcdb03a08e"><div class="ttname"><a href="classMs_1_1Measure.html#acef2a5afe6db83509657e7fcdb03a08e">Ms::Measure::hasVoices</a></div><div class="ttdeci">bool hasVoices(int staffIdx, Fraction stick, Fraction len) const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l02766">measure.cpp:2766</a></div></div>
<div class="ttc" id="classMs_1_1Beam_html_a5782985a37032f4fcfa4594c90fb3341"><div class="ttname"><a href="classMs_1_1Beam.html#a5782985a37032f4fcfa4594c90fb3341">Ms::Beam::beamDist</a></div><div class="ttdeci">qreal beamDist() const</div><div class="ttdef"><b>Definition:</b> <a href="beam_8h_source.html#l00147">beam.h:147</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9ea8407f5e0edf097483903c1061ff4da91"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea8407f5e0edf097483903c1061ff4da91">Ms::ElementType::STEM_SLASH</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_ad9263bf173856b77421e83a48a7bf68ca3d2749fbef262605f6402cb4363e5871"><div class="ttname"><a href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68ca3d2749fbef262605f6402cb4363e5871">Ms::TDuration::DurationType::V_LONG</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_ae41b3cde04fdfb98b2bccb895395be63"><div class="ttname"><a href="classMs_1_1ChordRest.html#ae41b3cde04fdfb98b2bccb895395be63">Ms::ChordRest::localSpatiumChanged</a></div><div class="ttdeci">virtual void localSpatiumChanged(qreal oldValue, qreal newValue) override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00835">chordrest.cpp:835</a></div></div>
<div class="ttc" id="classMs_1_1TabDurationSymbol_html_a4ea6fa2b5208bbe8577af9eb5d7559c3"><div class="ttname"><a href="classMs_1_1TabDurationSymbol.html#a4ea6fa2b5208bbe8577af9eb5d7559c3">Ms::TabDurationSymbol::beamGrid</a></div><div class="ttdeci">TabBeamGrid beamGrid()</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00446">stafftype.h:446</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eafc0415d5a6fdf38990713e10a6d18ac2"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eafc0415d5a6fdf38990713e10a6d18ac2">Ms::Sid::tremoloStrokeWidth</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a94e58a0cb7124451e6d1cbed435a425f"><div class="ttname"><a href="classMs_1_1Chord.html#a94e58a0cb7124451e6d1cbed435a425f">Ms::Chord::hasArticulation</a></div><div class="ttdeci">Articulation * hasArticulation(const Articulation *)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02808">chord.cpp:2808</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_a8e1bad2308ff2498a7a22a8bb1674241"><div class="ttname"><a href="classMs_1_1StaffType.html#a8e1bad2308ff2498a7a22a8bb1674241">Ms::StaffType::stemsDown</a></div><div class="ttdeci">bool stemsDown() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00372">stafftype.h:372</a></div></div>
<div class="ttc" id="classMs_1_1Arpeggio_html_a8f1a747193a967bfae49d9e33e969c24"><div class="ttname"><a href="classMs_1_1Arpeggio.html#a8f1a747193a967bfae49d9e33e969c24">Ms::Arpeggio::write</a></div><div class="ttdeci">void write(XmlWriter &amp;xml) const override</div><div class="ttdef"><b>Definition:</b> <a href="arpeggio_8cpp_source.html#l00065">arpeggio.cpp:65</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a02e4f95c54c60b6851abb3c609b1d0f6"><div class="ttname"><a href="classMs_1_1Chord.html#a02e4f95c54c60b6851abb3c609b1d0f6">Ms::Chord::add</a></div><div class="ttdeci">Q_INVOKABLE void add(Ms::Element *) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00513">chord.cpp:513</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a33b64f9292f5e20eb55a8013e977b722"><div class="ttname"><a href="classMs_1_1Chord.html#a33b64f9292f5e20eb55a8013e977b722">Ms::Chord::computeUp</a></div><div class="ttdeci">void computeUp() override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00876">chord.cpp:876</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_aa8c81e3444c2166a739fb31ca1bffe4e"><div class="ttname"><a href="classMs_1_1Element.html#aa8c81e3444c2166a739fb31ca1bffe4e">Ms::Element::isUserModified</a></div><div class="ttdeci">virtual bool isUserModified() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l01881">element.cpp:1881</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html"><div class="ttname"><a href="classMs_1_1Tremolo.html">Ms::Tremolo</a></div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00039">tremolo.h:39</a></div></div>
<div class="ttc" id="stemslash_8h_html"><div class="ttname"><a href="stemslash_8h.html">stemslash.h</a></div></div>
<div class="ttc" id="namespaceMs_html_a1066451ad9dc9959bedb76978f4f30c8a0679273e201afd0bf57af3961f8a23b8"><div class="ttname"><a href="namespaceMs.html#a1066451ad9dc9959bedb76978f4f30c8a0679273e201afd0bf57af3961f8a23b8">Ms::SelectType::SINGLE</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aaf02e3bace32fb436790d4fbe5d62875"><div class="ttname"><a href="classMs_1_1Chord.html#aaf02e3bace32fb436790d4fbe5d62875">Ms::Chord::noteHeadWidth</a></div><div class="ttdeci">qreal noteHeadWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00366">chord.cpp:366</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_a123168fe235332a63c716e041fc3ddd5"><div class="ttname"><a href="classMs_1_1TDuration.html#a123168fe235332a63c716e041fc3ddd5">Ms::TDuration::type</a></div><div class="ttdeci">DurationType type() const</div><div class="ttdef"><b>Definition:</b> <a href="durationtype_8h_source.html#l00048">durationtype.h:48</a></div></div>
<div class="ttc" id="classMs_1_1Shape_html_aae937632bf13592c1c4e9138083cdea8"><div class="ttname"><a href="classMs_1_1Shape.html#aae937632bf13592c1c4e9138083cdea8">Ms::Shape::intersects</a></div><div class="ttdeci">bool intersects(const QRectF &amp;rr) const</div><div class="ttdef"><b>Definition:</b> <a href="shape_8cpp_source.html#l00256">shape.cpp:256</a></div></div>
<div class="ttc" id="namespaceMs_html_a78fee580cd83f1fa65bea18b7a33ee3a"><div class="ttname"><a href="namespaceMs.html#a78fee580cd83f1fa65bea18b7a33ee3a">Ms::updatePercussionNotes</a></div><div class="ttdeci">static void updatePercussionNotes(Chord *c, const Drumset *drumset)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01706">chord.cpp:1706</a></div></div>
<div class="ttc" id="namespaceMs_html_a55c58e0e93a543f7ad29ebe885051671ae1f2d5134ed2543d38a0de9751cf75d9"><div class="ttname"><a href="namespaceMs.html#a55c58e0e93a543f7ad29ebe885051671ae1f2d5134ed2543d38a0de9751cf75d9">Ms::AccidentalRole::AUTO</a></div></div>
<div class="ttc" id="click_8h_html_a23377ea277c7aef62f6cf3c640f7155c"><div class="ttname"><a href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a></div><div class="ttdeci">static const double tick[]</div><div class="ttdef"><b>Definition:</b> <a href="click_8h_source.html#l00525">click.h:525</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_ac4addea17875a3cb35d0f57e09b50773"><div class="ttname"><a href="classMs_1_1StaffType.html#ac4addea17875a3cb35d0f57e09b50773">Ms::StaffType::genDurations</a></div><div class="ttdeci">bool genDurations() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00366">stafftype.h:366</a></div></div>
<div class="ttc" id="classMs_1_1TabDurationSymbol_html_a35280c41b657f4ec954c07c521e64454"><div class="ttname"><a href="classMs_1_1TabDurationSymbol.html#a35280c41b657f4ec954c07c521e64454">Ms::TabDurationSymbol::setDuration</a></div><div class="ttdeci">void setDuration(TDuration::DurationType type, int dots, const StaffType *tab)</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00448">stafftype.h:448</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_ae0ffb4991a51dd2715b6a7104f4caca3"><div class="ttname"><a href="classMs_1_1StaffType.html#ae0ffb4991a51dd2715b6a7104f4caca3">Ms::StaffType::stepOffset</a></div><div class="ttdeci">int stepOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00292">stafftype.h:292</a></div></div>
<div class="ttc" id="classMs_1_1Articulation_html_ac1d6030e32f81a1e34b001fd23cb9fd5"><div class="ttname"><a href="classMs_1_1Articulation.html#ac1d6030e32f81a1e34b001fd23cb9fd5">Ms::Articulation::subtype</a></div><div class="ttdeci">int subtype() const override</div><div class="ttdef"><b>Definition:</b> <a href="articulation_8cpp_source.html#l00074">articulation.cpp:74</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a501f54373f115942906156cd4d17e7d1"><div class="ttname"><a href="classMs_1_1Chord.html#a501f54373f115942906156cd4d17e7d1">Ms::Chord::upLine</a></div><div class="ttdeci">int upLine() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00143">chord.cpp:143</a></div></div>
<div class="ttc" id="classMs_1_1Spatium_html_ab21fa50b8ec92de51fb08a2365770422"><div class="ttname"><a href="classMs_1_1Spatium.html#ab21fa50b8ec92de51fb08a2365770422">Ms::Spatium::val</a></div><div class="ttdeci">constexpr qreal val() const</div><div class="ttdef"><b>Definition:</b> <a href="spatium_8h_source.html#l00032">spatium.h:32</a></div></div>
<div class="ttc" id="classMs_1_1Shape_html_aaf147d607f2bf5e6fc8a6ed1cb019ef7"><div class="ttname"><a href="classMs_1_1Shape.html#aaf147d607f2bf5e6fc8a6ed1cb019ef7">Ms::Shape::add</a></div><div class="ttdeci">void add(const Shape &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="shape_8h_source.html#l00057">shape.h:57</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a127560a527e2a5c4f59003a28e95e618"><div class="ttname"><a href="classMs_1_1Chord.html#a127560a527e2a5c4f59003a28e95e618">Ms::Chord::reset</a></div><div class="ttdeci">void reset() override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02821">chord.cpp:2821</a></div></div>
<div class="ttc" id="structMs_1_1LedgerLineData_html_a6679c7fddddebc542fe64e466c8df349"><div class="ttname"><a href="structMs_1_1LedgerLineData.html#a6679c7fddddebc542fe64e466c8df349">Ms::LedgerLineData::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00059">chord.cpp:59</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aa035b495357473c043b6857af648dc1a"><div class="ttname"><a href="classMs_1_1Chord.html#aa035b495357473c043b6857af648dc1a">Ms::Chord::scanElements</a></div><div class="ttdeci">void scanElements(void *data, void(*func)(void *, Element *), bool all=true) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01187">chord.cpp:1187</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eaf2681fbbf073a3545d84861314e6f9d3"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaf2681fbbf073a3545d84861314e6f9d3">Ms::Sid::accidentalDistance</a></div></div>
<div class="ttc" id="classMs_1_1Beam_html_affab6e5059fcaefb7b25c31fd2d0e6feae1f2d5134ed2543d38a0de9751cf75d9"><div class="ttname"><a href="classMs_1_1Beam.html#affab6e5059fcaefb7b25c31fd2d0e6feae1f2d5134ed2543d38a0de9751cf75d9">Ms::Beam::Mode::AUTO</a></div></div>
<div class="ttc" id="classMs_1_1Stem_html_af0f2327127f571dfe3c07a8565a31a5c"><div class="ttname"><a href="classMs_1_1Stem.html#af0f2327127f571dfe3c07a8565a31a5c">Ms::Stem::userLen</a></div><div class="ttdeci">qreal userLen() const</div><div class="ttdef"><b>Definition:</b> <a href="stem_8h_source.html#l00062">stem.h:62</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_af45a9aadd8ee7ec2943a1ecc4ab9d0e3"><div class="ttname"><a href="classMs_1_1StaffType.html#af45a9aadd8ee7ec2943a1ecc4ab9d0e3">Ms::StaffType::onLines</a></div><div class="ttdeci">bool onLines() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00370">stafftype.h:370</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a43dfad32ea3c1f8e2b56e810cd7bfa6e"><div class="ttname"><a href="classMs_1_1Note.html#a43dfad32ea3c1f8e2b56e810cd7bfa6e">Ms::Note::headWidth</a></div><div class="ttdeci">qreal headWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l00959">note.cpp:959</a></div></div>
<div class="ttc" id="classMs_1_1SysStaff_html"><div class="ttname"><a href="classMs_1_1SysStaff.html">Ms::SysStaff</a></div><div class="ttdoc">One staff in a System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00047">system.h:47</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_aebe714f6dc759dbf09ffcda4491952fd"><div class="ttname"><a href="classMs_1_1Note.html#aebe714f6dc759dbf09ffcda4491952fd">Ms::Note::headHeight</a></div><div class="ttdeci">qreal headHeight() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l01009">note.cpp:1009</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a52f094713df92026a78c26f5a1bb894d"><div class="ttname"><a href="classMs_1_1ChordRest.html#a52f094713df92026a78c26f5a1bb894d">Ms::ChordRest::nextElement</a></div><div class="ttdeci">virtual Element * nextElement() override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l01091">chordrest.cpp:1091</a></div></div>
<div class="ttc" id="namespaceMs_html_a4fd0ad4ad911c317136de2bdf5e40234"><div class="ttname"><a href="namespaceMs.html#a4fd0ad4ad911c317136de2bdf5e40234">Ms::hookAdjustment</a></div><div class="ttdeci">qreal hookAdjustment(QString font, int hooks, bool up, bool small)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01278">chord.cpp:1278</a></div></div>
<div class="ttc" id="libmscore_2utils_8h_html"><div class="ttname"><a href="libmscore_2utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a0049832d4191b3ce02446efa09127610"><div class="ttname"><a href="classMs_1_1Element.html#a0049832d4191b3ce02446efa09127610">Ms::Element::part</a></div><div class="ttdeci">Part * part() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00379">element.cpp:379</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_af47aefd8b662abf70a13344dc31bad07"><div class="ttname"><a href="classMs_1_1Chord.html#af47aefd8b662abf70a13344dc31bad07">Ms::Chord::maxHeadWidth</a></div><div class="ttdeci">qreal maxHeadWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00678">chord.cpp:678</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_ac277b6d652a8c274e66baf5908ec320c"><div class="ttname"><a href="classMs_1_1Staff.html#ac277b6d652a8c274e66baf5908ec320c">Ms::Staff::middleLine</a></div><div class="ttdeci">int middleLine(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l00945">staff.cpp:945</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_af06982dd365f177a7101a32043edf665"><div class="ttname"><a href="classMs_1_1Chord.html#af06982dd365f177a7101a32043edf665">Ms::Chord::graceIndex</a></div><div class="ttdeci">int graceIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00154">chord.h:154</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a2ce32f0f61ef4c72ae6e823dc2c88d4d"><div class="ttname"><a href="classMs_1_1ChordRest.html#a2ce32f0f61ef4c72ae6e823dc2c88d4d">Ms::ChordRest::writeBeam</a></div><div class="ttdeci">void writeBeam(XmlWriter &amp;xml) const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00954">chordrest.cpp:954</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a65914fc17e1f2ae2fa262d87da8df73e"><div class="ttname"><a href="classMs_1_1Chord.html#a65914fc17e1f2ae2fa262d87da8df73e">Ms::Chord::getNoteEventLists</a></div><div class="ttdeci">QList&lt; NoteEventList &gt; getNoteEventLists()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03697">chord.cpp:3697</a></div></div>
<div class="ttc" id="classMs_1_1System_html_ad93df8d8b2f2fb6d8d88c1d4b590156c"><div class="ttname"><a href="classMs_1_1System.html#ad93df8d8b2f2fb6d8d88c1d4b590156c">Ms::System::staffYpage</a></div><div class="ttdeci">qreal staffYpage(int staffIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="system_8cpp_source.html#l01287">system.cpp:1287</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a91fe4d3fdb635187c867f35d021df546"><div class="ttname"><a href="classMs_1_1Chord.html#a91fe4d3fdb635187c867f35d021df546">Ms::Chord::noStem</a></div><div class="ttdeci">bool noStem() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00190">chord.h:190</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a82f1da46bf6de670332f5d73f7cab739"><div class="ttname"><a href="classMs_1_1Chord.html#a82f1da46bf6de670332f5d73f7cab739">Ms::Chord::prevSegmentElement</a></div><div class="ttdeci">Element * prevSegmentElement() override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03325">chord.cpp:3325</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_afde517eb0b39a5f649e25fc929038e7a"><div class="ttname"><a href="classMs_1_1Segment.html#afde517eb0b39a5f649e25fc929038e7a">Ms::Segment::dotPosX</a></div><div class="ttdeci">qreal dotPosX(int staffIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00182">segment.h:182</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a36c27cbff08f33c7785e001bee88381b"><div class="ttname"><a href="classMs_1_1ChordRest.html#a36c27cbff08f33c7785e001bee88381b">Ms::ChordRest::propertyDefault</a></div><div class="ttdeci">virtual QVariant propertyDefault(Pid) const override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00893">chordrest.cpp:893</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ab6d9f107efd82271221360d272035288"><div class="ttname"><a href="classMs_1_1Chord.html#ab6d9f107efd82271221360d272035288">Ms::Chord::tremoloChordType</a></div><div class="ttdeci">TremoloChordType tremoloChordType() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03137">chord.cpp:3137</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a9f84e65ea1cc200227a75b058ab8e8d8"><div class="ttname"><a href="classMs_1_1Segment.html#a9f84e65ea1cc200227a75b058ab8e8d8">Ms::Segment::nextChordRest</a></div><div class="ttdeci">ChordRest * nextChordRest(int track, bool backwards=false) const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00414">segment.cpp:414</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a84bd01b468c9242adb4ae7bd6b5e4918">Ms::Pid::STEM_DIRECTION</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a06cc027fe14db0cf896f02931356ae24"><div class="ttname"><a href="classMs_1_1Element.html#a06cc027fe14db0cf896f02931356ae24">Ms::Element::pagePos</a></div><div class="ttdeci">virtual QPointF pagePos() const</div><div class="ttdoc">position in page coordinates </div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00443">element.cpp:443</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a2a2dbb3c57df09b6f783254bbab05ce4"><div class="ttname"><a href="classMs_1_1Note.html#a2a2dbb3c57df09b6f783254bbab05ce4">Ms::Note::setTrack</a></div><div class="ttdeci">void setTrack(int val) override</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l02298">note.cpp:2298</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a41438f8c28ffb2eb06d55de8360c1969"><div class="ttname"><a href="classMs_1_1Element.html#a41438f8c28ffb2eb06d55de8360c1969">Ms::Element::setVisible</a></div><div class="ttdeci">virtual void setVisible(bool f)</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00222">element.h:222</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aa12e8a4e0020687474a80459043815d0"><div class="ttname"><a href="classMs_1_1Chord.html#aa12e8a4e0020687474a80459043815d0">Ms::Chord::layoutArticulations3</a></div><div class="ttdeci">void layoutArticulations3(Slur *s)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03656">chord.cpp:3656</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_af55548ca2196d3f5025ef9b7600cd0b4"><div class="ttname"><a href="classMs_1_1StaffType.html#af55548ca2196d3f5025ef9b7600cd0b4">Ms::StaffType::yoffset</a></div><div class="ttdeci">Spatium yoffset() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00307">stafftype.h:307</a></div></div>
<div class="ttc" id="structMs_1_1LedgerLineData_html_a63b3647107d7d7977e4976243f4c23e9"><div class="ttname"><a href="structMs_1_1LedgerLineData.html#a63b3647107d7d7977e4976243f4c23e9">Ms::LedgerLineData::minX</a></div><div class="ttdeci">qreal minX</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00060">chord.cpp:60</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea8b0781893fb75fbe6f54ebfb2c7d5ad2"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8b0781893fb75fbe6f54ebfb2c7d5ad2">Ms::Sid::MinTieLength</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9ea84e4213ee54478574ea15a166ea10152"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea84e4213ee54478574ea15a166ea10152">Ms::ElementType::MEASURE</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_a8c0beed9ea316d14a8f7285fb8accf3f"><div class="ttname"><a href="classMs_1_1Tremolo.html#a8c0beed9ea316d14a8f7285fb8accf3f">Ms::Tremolo::subtype</a></div><div class="ttdeci">int subtype() const override</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00060">tremolo.h:60</a></div></div>
<div class="ttc" id="namespaceMs_html_a6b5aa179fb8d7a11ec316c01a2fdf6e1a6583855a84bb2092bdedabd25e5bc4e7"><div class="ttname"><a href="namespaceMs.html#a6b5aa179fb8d7a11ec316c01a2fdf6e1a6583855a84bb2092bdedabd25e5bc4e7">Ms::CapellaType::SLUR</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a34fcc408905091e3b2cb6d74720585a0"><div class="ttname"><a href="classMs_1_1Note.html#a34fcc408905091e3b2cb6d74720585a0">Ms::Note::read</a></div><div class="ttdeci">void read(XmlReader &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l01334">note.cpp:1334</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_afbc508a91ce6aa696f2f6e33bd350bd8"><div class="ttname"><a href="classMs_1_1Element.html#afbc508a91ce6aa696f2f6e33bd350bd8">Ms::Element::pageX</a></div><div class="ttdeci">qreal pageX() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00530">element.cpp:530</a></div></div>
<div class="ttc" id="namespaceMs_html_a2d43ff9c26edae64d956fd7a345356b4a70e9ff3e9bf71a399ba1421840228f40"><div class="ttname"><a href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a70e9ff3e9bf71a399ba1421840228f40">Ms::ArticulationAnchor::BOTTOM_STAFF</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a9a43b3386cfcf71a997b2d5f30e90b7d"><div class="ttname"><a href="classMs_1_1Note.html#a9a43b3386cfcf71a997b2d5f30e90b7d">Ms::Note::unisonIndex</a></div><div class="ttdeci">int unisonIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l03421">note.cpp:3421</a></div></div>
<div class="ttc" id="articulation_8h_html"><div class="ttname"><a href="articulation_8h.html">articulation.h</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a365e5013395d4a660672ad8fff61a864"><div class="ttname"><a href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">Ms::Score::undoRemoveElement</a></div><div class="ttdeci">void undoRemoveElement(Element *element)</div><div class="ttdef"><b>Definition:</b> <a href="edit_8cpp_source.html#l05115">edit.cpp:5115</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eabea6fc43d2ca4d8deeb3317c146f5aa5"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eabea6fc43d2ca4d8deeb3317c146f5aa5">Ms::Sid::smallStaffMag</a></div></div>
<div class="ttc" id="classMs_1_1TabDurationSymbol_html_a038aa9b1d1c0373fca0325d9528d7347"><div class="ttname"><a href="classMs_1_1TabDurationSymbol.html#a038aa9b1d1c0373fca0325d9528d7347">Ms::TabDurationSymbol::layout2</a></div><div class="ttdeci">void layout2()</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8cpp_source.html#l00940">stafftype.cpp:940</a></div></div>
<div class="ttc" id="namespaceMs_html_a580f85ffcff35b12462cbfb60a8728b7"><div class="ttname"><a href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">Ms::toChordRest</a></div><div class="ttdeci">static ChordRest * toChordRest(ScoreElement *e)</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00427">scoreElement.h:427</a></div></div>
<div class="ttc" id="classMs_1_1Fraction_html_ac3244c876739eef5fa17e93e053bc599"><div class="ttname"><a href="classMs_1_1Fraction.html#ac3244c876739eef5fa17e93e053bc599">Ms::Fraction::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2fraction_8h_source.html#l00077">fraction.h:77</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a6fc9cb237164df7cecb329f33d1a81c4"><div class="ttname"><a href="classMs_1_1ChordRest.html#a6fc9cb237164df7cecb329f33d1a81c4">Ms::ChordRest::removeMarkings</a></div><div class="ttdeci">virtual void removeMarkings(bool keepTremolo=false)</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l01349">chordrest.cpp:1349</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ae09938e55d32b1e62c0b0c4d85dcb812"><div class="ttname"><a href="classMs_1_1Chord.html#ae09938e55d32b1e62c0b0c4d85dcb812">Ms::Chord::pagePos</a></div><div class="ttdeci">QPointF pagePos() const override</div><div class="ttdoc">position in page coordinates </div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01797">chord.cpp:1797</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a009f2fac102fdf6803cee68ed95d0c4f"><div class="ttname"><a href="classMs_1_1Staff.html#a009f2fac102fdf6803cee68ed95d0c4f">Ms::Staff::bottomLine</a></div><div class="ttdeci">int bottomLine(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l00955">staff.cpp:955</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_af124a72ad48a794523039afbcdd9e695"><div class="ttname"><a href="classMs_1_1TDuration.html#af124a72ad48a794523039afbcdd9e695">Ms::TDuration::dots</a></div><div class="ttdeci">int dots() const</div><div class="ttdef"><b>Definition:</b> <a href="durationtype_8h_source.html#l00080">durationtype.h:80</a></div></div>
<div class="ttc" id="classMs_1_1EditData_html_a59817d1195a8384c45ca1321baf39725"><div class="ttname"><a href="classMs_1_1EditData.html#a59817d1195a8384c45ca1321baf39725">Ms::EditData::dropElement</a></div><div class="ttdeci">Element * dropElement</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00143">element.h:143</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a19157e811d0d2a0e3c94dc844039ba2f"><div class="ttname"><a href="classMs_1_1Element.html#a19157e811d0d2a0e3c94dc844039ba2f">Ms::Element::pos</a></div><div class="ttdeci">virtual const QPointF pos() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00243">element.h:243</a></div></div>
<div class="ttc" id="namespaceMs_html_aa793e7d1cf7b4a3a8f4950c659655dd3a696b031073e74bf2cb98e5ef201d4aa3"><div class="ttname"><a href="namespaceMs.html#aa793e7d1cf7b4a3a8f4950c659655dd3a696b031073e74bf2cb98e5ef201d4aa3">Ms::MidiType::UNKNOWN</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_a82740f62ec5e31066d69677550d15fd3"><div class="ttname"><a href="classMs_1_1Tremolo.html#a82740f62ec5e31066d69677550d15fd3">Ms::Tremolo::write</a></div><div class="ttdeci">void write(XmlWriter &amp;xml) const override</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8cpp_source.html#l00537">tremolo.cpp:537</a></div></div>
<div class="ttc" id="classMs_1_1XmlWriter_html_afb51750cf3661499da4a824113a780e1"><div class="ttname"><a href="classMs_1_1XmlWriter.html#afb51750cf3661499da4a824113a780e1">Ms::XmlWriter::tag</a></div><div class="ttdeci">void tag(Pid id, void *data, void *defaultVal)</div></div>
<div class="ttc" id="classMs_1_1Score_html_ad637cc26e200b7ed86f0419d3ce64f3a"><div class="ttname"><a href="classMs_1_1Score.html#ad637cc26e200b7ed86f0419d3ce64f3a">Ms::Score::styleP</a></div><div class="ttdeci">qreal styleP(Sid idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00896">score.h:896</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_aceb5535e999d246f947ec39bc3ee9287"><div class="ttname"><a href="classMs_1_1Tremolo.html#aceb5535e999d246f947ec39bc3ee9287">Ms::Tremolo::isBuzzRoll</a></div><div class="ttdeci">bool isBuzzRoll() const</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00094">tremolo.h:94</a></div></div>
<div class="ttc" id="segment_8h_html"><div class="ttname"><a href="segment_8h.html">segment.h</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_adb609dbbd1f11ba96c09c01d49fa63bd"><div class="ttname"><a href="classMs_1_1Note.html#adb609dbbd1f11ba96c09c01d49fa63bd">Ms::Note::pitch</a></div><div class="ttdeci">int pitch() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00361">note.h:361</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a6802d9faa8168c8425b8dcb3d11d2edb"><div class="ttname"><a href="classMs_1_1ChordRest.html#a6802d9faa8168c8425b8dcb3d11d2edb">Ms::ChordRest::actualDurationType</a></div><div class="ttdeci">const TDuration actualDurationType() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00123">chordrest.h:123</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aaebd760ff6afd96e0e52e1329903c1e2"><div class="ttname"><a href="classMs_1_1Chord.html#aaebd760ff6afd96e0e52e1329903c1e2">Ms::Chord::_stem</a></div><div class="ttdeci">Stem * _stem</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00059">chord.h:59</a></div></div>
<div class="ttc" id="classMs_1_1System_html_a51fa420463d9aadfbdc0839fb781ff1e"><div class="ttname"><a href="classMs_1_1System.html#a51fa420463d9aadfbdc0839fb781ff1e">Ms::System::staff</a></div><div class="ttdeci">SysStaff * staff(int staffIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00148">system.h:148</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a6f0c62a523ac6a2c445118fb472d2434"><div class="ttname"><a href="classMs_1_1Chord.html#a6f0c62a523ac6a2c445118fb472d2434">Ms::Chord::propertyDefault</a></div><div class="ttdeci">QVariant propertyDefault(Pid) const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02770">chord.cpp:2770</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_a1f3e57f97fb721dca79f75d6611f394c"><div class="ttname"><a href="classMs_1_1StaffType.html#a1f3e57f97fb721dca79f75d6611f394c">Ms::StaffType::lines</a></div><div class="ttdeci">int lines() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00290">stafftype.h:290</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a60dda023bb2ac14cc6625ab7b5d711b7"><div class="ttname"><a href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">Ms::Chord::graceNotes</a></div><div class="ttdeci">const QVector&lt; Chord * &gt; &amp; graceNotes() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00148">chord.h:148</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a574cec05d2711e9ed02e8ddd9e4d0123"><div class="ttname"><a href="classMs_1_1Chord.html#a574cec05d2711e9ed02e8ddd9e4d0123">Ms::Chord::read</a></div><div class="ttdeci">void read(XmlReader &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01041">chord.cpp:1041</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a4ae6e7e095b8f672951ffc30f980c45d"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a4ae6e7e095b8f672951ffc30f980c45d">Ms::ScoreElement::writeProperty</a></div><div class="ttdeci">void writeProperty(XmlWriter &amp;xml, Pid id) const</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8cpp_source.html#l00403">scoreElement.cpp:403</a></div></div>
<div class="ttc" id="classMs_1_1Beam_html"><div class="ttname"><a href="classMs_1_1Beam.html">Ms::Beam</a></div><div class="ttdef"><b>Definition:</b> <a href="beam_8h_source.html#l00037">beam.h:37</a></div></div>
<div class="ttc" id="namespaceMs_html_aad3918cfddca91d981504ae55c0f19b0a94e94133f4bdc1794c6b647b8ea134d0"><div class="ttname"><a href="namespaceMs.html#aad3918cfddca91d981504ae55c0f19b0a94e94133f4bdc1794c6b647b8ea134d0">Ms::StaffGroup::STANDARD</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eac694e96ba92f954edbc6a0c810e98aff"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eac694e96ba92f954edbc6a0c810e98aff">Ms::Sid::dotNoteDistance</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ad11d82b99c9fa25362378d6ae31d1f97"><div class="ttname"><a href="classMs_1_1Chord.html#ad11d82b99c9fa25362378d6ae31d1f97">Ms::Chord::dotPosX</a></div><div class="ttdeci">qreal dotPosX() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02719">chord.cpp:2719</a></div></div>
<div class="ttc" id="classMs_1_1Slur_html"><div class="ttname"><a href="classMs_1_1Slur.html">Ms::Slur</a></div><div class="ttdef"><b>Definition:</b> <a href="slur_8h_source.html#l00054">slur.h:54</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a6a038bc3ad9aaffdb60c449c731c3ffc"><div class="ttname"><a href="classMs_1_1Chord.html#a6a038bc3ad9aaffdb60c449c731c3ffc">Ms::Chord::removeMarkings</a></div><div class="ttdeci">void removeMarkings(bool keepTremolo=false) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02948">chord.cpp:2948</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a015e1e0a27a32eef6070e3fc45a682fe"><div class="ttname"><a href="classMs_1_1Note.html#a015e1e0a27a32eef6070e3fc45a682fe">Ms::Note::mirror</a></div><div class="ttdeci">bool mirror() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00409">note.h:409</a></div></div>
<div class="ttc" id="classMs_1_1DurationElement_html_abd480ba4d052d040db56e1e504cf2596"><div class="ttname"><a href="classMs_1_1DurationElement.html#abd480ba4d052d040db56e1e504cf2596">Ms::DurationElement::ticks</a></div><div class="ttdeci">virtual Fraction ticks() const</div><div class="ttdef"><b>Definition:</b> <a href="duration_8h_source.html#l00057">duration.h:57</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a643e00aa9abd778e85588e422a2622d2"><div class="ttname"><a href="classMs_1_1Chord.html#a643e00aa9abd778e85588e422a2622d2">Ms::Chord::setGraceIndex</a></div><div class="ttdeci">void setGraceIndex(int val)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00155">chord.h:155</a></div></div>
<div class="ttc" id="hook_8h_html"><div class="ttname"><a href="hook_8h.html">hook.h</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eaaf668183ce217ba1f9c8494595cd5d3f"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaaf668183ce217ba1f9c8494595cd5d3f">Ms::Sid::beamWidth</a></div></div>
<div class="ttc" id="structMs_1_1LedgerLineData_html_a1d5cea4e9162e1cf889e48f5c818e433"><div class="ttname"><a href="structMs_1_1LedgerLineData.html#a1d5cea4e9162e1cf889e48f5c818e433">Ms::LedgerLineData::maxX</a></div><div class="ttdeci">qreal maxX</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00060">chord.cpp:60</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a150ff91201b81186627a78f2a6ad03d5"><div class="ttname"><a href="classMs_1_1Chord.html#a150ff91201b81186627a78f2a6ad03d5">Ms::Chord::lastElementBeforeSegment</a></div><div class="ttdeci">Element * lastElementBeforeSegment()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03286">chord.cpp:3286</a></div></div>
<div class="ttc" id="classMs_1_1Skyline_html_aeb121365aa19908fc8a2f00c6c593078"><div class="ttname"><a href="classMs_1_1Skyline.html#aeb121365aa19908fc8a2f00c6c593078">Ms::Skyline::add</a></div><div class="ttdeci">void add(const Shape &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="skyline_8cpp_source.html#l00098">skyline.cpp:98</a></div></div>
<div class="ttc" id="sym_8h_html"><div class="ttname"><a href="sym_8h.html">sym.h</a></div></div>
<div class="ttc" id="classMs_1_1NoteEventList_html"><div class="ttname"><a href="classMs_1_1NoteEventList.html">Ms::NoteEventList</a></div><div class="ttdef"><b>Definition:</b> <a href="noteevent_8h_source.html#l00053">noteevent.h:53</a></div></div>
<div class="ttc" id="classMs_1_1XmlReader_html_a7711a261ee2243237d7f055c99bc1d96"><div class="ttname"><a href="classMs_1_1XmlReader.html#a7711a261ee2243237d7f055c99bc1d96">Ms::XmlReader::unknown</a></div><div class="ttdeci">void unknown()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2xmlreader_8cpp_source.html#l00203">xmlreader.cpp:203</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_aa038eaaa0da98e2d9f88b8c9267d0d24"><div class="ttname"><a href="classMs_1_1Note.html#aa038eaaa0da98e2d9f88b8c9267d0d24">Ms::Note::bboxXShift</a></div><div class="ttdeci">qreal bboxXShift() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l00969">note.cpp:969</a></div></div>
<div class="ttc" id="noteevent_8h_html"><div class="ttname"><a href="noteevent_8h.html">noteevent.h</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a6a063f005375c9b61c53cf49ebc14623"><div class="ttname"><a href="classMs_1_1Element.html#a6a063f005375c9b61c53cf49ebc14623">Ms::Element::rxpos</a></div><div class="ttdeci">qreal &amp; rxpos()</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00249">element.h:249</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ac6710dc304e8f163b23b002ea1000b00"><div class="ttname"><a href="classMs_1_1Score.html#ac6710dc304e8f163b23b002ea1000b00">Ms::Score::deselect</a></div><div class="ttdeci">void deselect(Element *obj)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l03023">score.cpp:3023</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a0d74c6da05f4744a4dcdf7b08b5eb33f"><div class="ttname"><a href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">Ms::Chord::segment</a></div><div class="ttdeci">Segment * segment() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02993">chord.cpp:2993</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_afec9ec067383f911d6f625039e8b8fc2"><div class="ttname"><a href="classMs_1_1Segment.html#afec9ec067383f911d6f625039e8b8fc2">Ms::Segment::lastInPrevSegments</a></div><div class="ttdeci">Element * lastInPrevSegments(int activeStaff)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l01951">segment.cpp:1951</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_ac1ee1ce30118d3a7aa965f297c76bd28"><div class="ttname"><a href="classMs_1_1Measure.html#ac1ee1ce30118d3a7aa965f297c76bd28">Ms::Measure::setHasVoices</a></div><div class="ttdeci">void setHasVoices(int staffIdx, bool v)</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l00305">measure.cpp:305</a></div></div>
<div class="ttc" id="classMs_1_1Spanner_html_a664e7111acb5a8345be95707e2be283f"><div class="ttname"><a href="classMs_1_1Spanner.html#a664e7111acb5a8345be95707e2be283f">Ms::Spanner::startElement</a></div><div class="ttdeci">Element * startElement() const</div><div class="ttdef"><b>Definition:</b> <a href="spanner_8h_source.html#l00227">spanner.h:227</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_a155f860b5e7432aa09cc9ab741c96d32"><div class="ttname"><a href="classMs_1_1StaffType.html#a155f860b5e7432aa09cc9ab741c96d32">Ms::StaffType::userMag</a></div><div class="ttdeci">qreal userMag() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00299">stafftype.h:299</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ab3227faba09a745523ba6748d9f94ab5"><div class="ttname"><a href="classMs_1_1Element.html#ab3227faba09a745523ba6748d9f94ab5">Ms::Element::undoChangeProperty</a></div><div class="ttdeci">virtual void undoChangeProperty(Pid id, const QVariant &amp;, PropertyFlags ps) override</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l01330">element.cpp:1330</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a6fecc25db6bf6cbbb22c730832ee7648"><div class="ttname"><a href="classMs_1_1Chord.html#a6fecc25db6bf6cbbb22c730832ee7648">Ms::Chord::layoutPitched</a></div><div class="ttdeci">void layoutPitched()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01834">chord.cpp:1834</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ae05cf93a2d8078f40e79da811017deb4"><div class="ttname"><a href="classMs_1_1Chord.html#ae05cf93a2d8078f40e79da811017deb4">Ms::Chord::setScore</a></div><div class="ttdeci">void setScore(Score *s) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01257">chord.cpp:1257</a></div></div>
<div class="ttc" id="classMs_1_1NoteHead_html_a1d3e8faf3d3bc1d89d9d3485acde69d1a6a94b8d56da1b6f881b076e10170e9a2"><div class="ttname"><a href="classMs_1_1NoteHead.html#a1d3e8faf3d3bc1d89d9d3485acde69d1a6a94b8d56da1b6f881b076e10170e9a2">Ms::NoteHead::Group::HEAD_NORMAL</a></div></div>
<div class="ttc" id="classMs_1_1TabDurationSymbol_html_a7ce50f35a747ada7f0d705669077b0da"><div class="ttname"><a href="classMs_1_1TabDurationSymbol.html#a7ce50f35a747ada7f0d705669077b0da">Ms::TabDurationSymbol::layout</a></div><div class="ttdeci">void layout() override</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8cpp_source.html#l00875">stafftype.cpp:875</a></div></div>
<div class="ttc" id="classMs_1_1XmlWriter_html_ae0325cf8d1fc68e75ad12d447f7babcd"><div class="ttname"><a href="classMs_1_1XmlWriter.html#ae0325cf8d1fc68e75ad12d447f7babcd">Ms::XmlWriter::stag</a></div><div class="ttdeci">void stag(const QString &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2xmlwriter_8cpp_source.html#l00073">xmlwriter.cpp:73</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a30c056051bbce9e867a512b8cbc1f912"><div class="ttname"><a href="classMs_1_1Element.html#a30c056051bbce9e867a512b8cbc1f912">Ms::Element::y</a></div><div class="ttdeci">virtual qreal y() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00245">element.h:245</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a4c0205b5940976cc9f7cb9eb543fbc08"><div class="ttname"><a href="classMs_1_1ChordRest.html#a4c0205b5940976cc9f7cb9eb543fbc08">Ms::ChordRest::durationType</a></div><div class="ttdeci">const TDuration durationType() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00120">chordrest.h:120</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a9f375d79304c4cec5b45ea883c9efc86"><div class="ttname"><a href="classMs_1_1Element.html#a9f375d79304c4cec5b45ea883c9efc86">Ms::Element::spatium</a></div><div class="ttdeci">qreal spatium() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00132">element.cpp:132</a></div></div>
<div class="ttc" id="mscore_8h_html_a7b14c16d0b45fd100ee97e74cfd907c0"><div class="ttname"><a href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a></div><div class="ttdeci">#define VOICES</div><div class="ttdef"><b>Definition:</b> <a href="mscore_8h_source.html#l00074">mscore.h:74</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_aa7720211c662c6f2a41a4f145059502c"><div class="ttname"><a href="classMs_1_1StaffType.html#aa7720211c662c6f2a41a4f145059502c">Ms::StaffType::small</a></div><div class="ttdeci">bool small() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00300">stafftype.h:300</a></div></div>
<div class="ttc" id="classMs_1_1Tie_html_aeae1a802f5f92e98dad3e07a40baa932"><div class="ttname"><a href="classMs_1_1Tie.html#aeae1a802f5f92e98dad3e07a40baa932">Ms::Tie::calculateDirection</a></div><div class="ttdeci">void calculateDirection()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2tie_8cpp_source.html#l00559">tie.cpp:559</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a80ed0f7976fe33bbb8c4ccef2a28226d"><div class="ttname"><a href="classMs_1_1Note.html#a80ed0f7976fe33bbb8c4ccef2a28226d">Ms::Note::lastElementBeforeSegment</a></div><div class="ttdeci">virtual Element * lastElementBeforeSegment()</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l03310">note.cpp:3310</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a86bcbc446dea8eeec80bd81505fd77bd"><div class="ttname"><a href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">Ms::Chord::setTremolo</a></div><div class="ttdeci">void setTremolo(Tremolo *t)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00456">chord.cpp:456</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_a23cf430a9d6e8ad39d064e21183c06b8"><div class="ttname"><a href="classMs_1_1Tremolo.html#a23cf430a9d6e8ad39d064e21183c06b8">Ms::Tremolo::durationType</a></div><div class="ttdeci">TDuration durationType() const</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00086">tremolo.h:86</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a462cb55471b8080c92b7b47a52867144"><div class="ttname"><a href="classMs_1_1Chord.html#a462cb55471b8080c92b7b47a52867144">Ms::Chord::minAbsStemLength</a></div><div class="ttdeci">qreal minAbsStemLength() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01444">chord.cpp:1444</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_accf66d981db70ac1bd843ca5e03330a1"><div class="ttname"><a href="classMs_1_1Segment.html#accf66d981db70ac1bd843ca5e03330a1">Ms::Segment::segmentType</a></div><div class="ttdeci">static SegmentType segmentType(ElementType type)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00749">segment.cpp:749</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_a5f699dd041973be93c8bef472927ee5f"><div class="ttname"><a href="classMs_1_1TDuration.html#a5f699dd041973be93c8bef472927ee5f">Ms::TDuration::fraction</a></div><div class="ttdeci">Fraction fraction() const</div><div class="ttdef"><b>Definition:</b> <a href="durationtype_8cpp_source.html#l00400">durationtype.cpp:400</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_a7e98943cb86fb69bc5e59024f3d880fd"><div class="ttname"><a href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">Ms::Tremolo::twoNotes</a></div><div class="ttdeci">bool twoNotes() const</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00095">tremolo.h:95</a></div></div>
<div class="ttc" id="structMs_1_1LedgerLineData_html_a7f8a27bbe81d4c6e934754e049a438af"><div class="ttname"><a href="structMs_1_1LedgerLineData.html#a7f8a27bbe81d4c6e934754e049a438af">Ms::LedgerLineData::accidental</a></div><div class="ttdeci">bool accidental</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00062">chord.cpp:62</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a6ba0ad4dad0b5de65db725a10fc64278"><div class="ttname"><a href="classMs_1_1Element.html#a6ba0ad4dad0b5de65db725a10fc64278">Ms::Element::addToSkyline</a></div><div class="ttdeci">bool addToSkyline() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00463">element.h:463</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_ab9810191075c3ba102d90f1e427c8803"><div class="ttname"><a href="classMs_1_1StaffType.html#ab9810191075c3ba102d90f1e427c8803">Ms::StaffType::isTabStaff</a></div><div class="ttdeci">bool isTabStaff() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00406">stafftype.h:406</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_ab204303b66d4dfb1177b7b44e28f615e"><div class="ttname"><a href="classMs_1_1StaffType.html#ab204303b66d4dfb1177b7b44e28f615e">Ms::StaffType::chordStemPosBeam</a></div><div class="ttdeci">QPointF chordStemPosBeam(const Chord *) const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8cpp_source.html#l00598">stafftype.cpp:598</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_ad9263bf173856b77421e83a48a7bf68caedb942968b04a93a934e1e7300694ed5"><div class="ttname"><a href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68caedb942968b04a93a934e1e7300694ed5">Ms::TDuration::DurationType::V_EIGHTH</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a136eb39ecfa4096dc41df49e135a5ce7"><div class="ttname"><a href="classMs_1_1Chord.html#a136eb39ecfa4096dc41df49e135a5ce7">Ms::Chord::graceNotesBefore</a></div><div class="ttdeci">QVector&lt; Chord * &gt; graceNotesBefore() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03017">chord.cpp:3017</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_ae8d236c87bd0001434557efb501c13fc"><div class="ttname"><a href="classMs_1_1StaffType.html#ae8d236c87bd0001434557efb501c13fc">Ms::StaffType::stemless</a></div><div class="ttdeci">bool stemless() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00315">stafftype.h:315</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a4c0e30bba76a1838189fa6ab117122ca"><div class="ttname"><a href="classMs_1_1Note.html#a4c0e30bba76a1838189fa6ab117122ca">Ms::Note::setChord</a></div><div class="ttdeci">void setChord(Chord *a)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00430">note.h:430</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a5e7d34f4cfd7e05b6d1b61b2f44a2e42"><div class="ttname"><a href="classMs_1_1Measure.html#a5e7d34f4cfd7e05b6d1b61b2f44a2e42">Ms::Measure::stemless</a></div><div class="ttdeci">bool stemless(int staffIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l02538">measure.cpp:2538</a></div></div>
<div class="ttc" id="classMs_1_1LedgerLine_html_a8ef8a7098d17bc07ee5a8d06ec81270d"><div class="ttname"><a href="classMs_1_1LedgerLine.html#a8ef8a7098d17bc07ee5a8d06ec81270d">Ms::LedgerLine::next</a></div><div class="ttdeci">LedgerLine * next() const</div><div class="ttdef"><b>Definition:</b> <a href="ledgerline_8h_source.html#l00055">ledgerline.h:55</a></div></div>
<div class="ttc" id="classMs_1_1StringData_html_aae089ceff91360aa295a4378bd288383"><div class="ttname"><a href="classMs_1_1StringData.html#aae089ceff91360aa295a4378bd288383">Ms::StringData::fretChords</a></div><div class="ttdeci">void fretChords(Chord *chord) const</div><div class="ttdef"><b>Definition:</b> <a href="stringdata_8cpp_source.html#l00153">stringdata.cpp:153</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ace8797d2ee2406c3c6a58f011e6b3e04"><div class="ttname"><a href="classMs_1_1Chord.html#ace8797d2ee2406c3c6a58f011e6b3e04">Ms::Chord::selectedNote</a></div><div class="ttdeci">Note * selectedNote() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00957">chord.cpp:957</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_aa6cc928d538e75e4bde3865d515af09e"><div class="ttname"><a href="classMs_1_1StaffType.html#aa6cc928d538e75e4bde3865d515af09e">Ms::StaffType::minimStyle</a></div><div class="ttdeci">TablatureMinimStyle minimStyle() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00368">stafftype.h:368</a></div></div>
<div class="ttc" id="classMs_1_1StemSlash_html"><div class="ttname"><a href="classMs_1_1StemSlash.html">Ms::StemSlash</a></div><div class="ttdoc">used for grace notes of type acciaccatura </div><div class="ttdef"><b>Definition:</b> <a href="stemslash_8h_source.html#l00026">stemslash.h:26</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655a35723f4687aebe8d09700c508026291d"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a35723f4687aebe8d09700c508026291d">Ms::Pid::BEAM_MODE</a></div></div>
<div class="ttc" id="classMs_1_1AccidentalState_html"><div class="ttname"><a href="classMs_1_1AccidentalState.html">Ms::AccidentalState</a></div><div class="ttdef"><b>Definition:</b> <a href="key_8h_source.html#l00137">key.h:137</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_aed272c2a7398d2dae1f6e5316ce9c505"><div class="ttname"><a href="classMs_1_1ChordRest.html#aed272c2a7398d2dae1f6e5316ce9c505">Ms::ChordRest::scanElements</a></div><div class="ttdeci">virtual void scanElements(void *data, void(*func)(void *, Element *), bool all=true) override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00124">chordrest.cpp:124</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a5d2e88d92e61f9deac60d8b3ab48de6f"><div class="ttname"><a href="classMs_1_1Chord.html#a5d2e88d92e61f9deac60d8b3ab48de6f">Ms::Chord::nextSegmentElement</a></div><div class="ttdeci">Element * nextSegmentElement() override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03306">chord.cpp:3306</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_abcffe190c5e3a72320316d1c8e05700a"><div class="ttname"><a href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">Ms::Tremolo::chord2</a></div><div class="ttdeci">Chord * chord2() const</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00084">tremolo.h:84</a></div></div>
<div class="ttc" id="namespaceMs_html_af5e4ec7a183fe9ea39bfb81888efbde2ae039fd845669d8f1ba177be951be17c8"><div class="ttname"><a href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2ae039fd845669d8f1ba177be951be17c8">Ms::IconType::ACCIACCATURA</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_af8d6f832ec77d99584221063031d36ba"><div class="ttname"><a href="classMs_1_1ChordRest.html#af8d6f832ec77d99584221063031d36ba">Ms::ChordRest::line</a></div><div class="ttdeci">int line() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00100">chordrest.h:100</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a238e845d7b6a1e04230d35934cd00a74"><div class="ttname"><a href="classMs_1_1Score.html#a238e845d7b6a1e04230d35934cd00a74">Ms::Score::createPlayEvents</a></div><div class="ttdeci">void createPlayEvents(Chord *)</div><div class="ttdef"><b>Definition:</b> <a href="rendermidi_8cpp_source.html#l02168">rendermidi.cpp:2168</a></div></div>
<div class="ttc" id="classMs_1_1Hook_html_a10253da01951c36f62fa9ab428ff28b4"><div class="ttname"><a href="classMs_1_1Hook.html#a10253da01951c36f62fa9ab428ff28b4">Ms::Hook::setHookType</a></div><div class="ttdeci">void setHookType(int v)</div><div class="ttdef"><b>Definition:</b> <a href="hook_8cpp_source.html#l00035">hook.cpp:35</a></div></div>
<div class="ttc" id="namespaceMs_html_a4ddd02afd2f797a6a269ddce7466a4d6ae1f2d5134ed2543d38a0de9751cf75d9"><div class="ttname"><a href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6ae1f2d5134ed2543d38a0de9751cf75d9">Ms::Direction::AUTO</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_ad9263bf173856b77421e83a48a7bf68ca05e8f1c139e16d278117c17e7fc13ef6"><div class="ttname"><a href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68ca05e8f1c139e16d278117c17e7fc13ef6">Ms::TDuration::DurationType::V_QUARTER</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_a1a40800649c217eaaaa2a0dbb82f8e35"><div class="ttname"><a href="classMs_1_1StaffType.html#a1a40800649c217eaaaa2a0dbb82f8e35">Ms::StaffType::group</a></div><div class="ttdeci">StaffGroup group() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00281">stafftype.h:281</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_ab13ef528a7691f666a38dbc85ed84fb3"><div class="ttname"><a href="classMs_1_1ChordRest.html#ab13ef528a7691f666a38dbc85ed84fb3">Ms::ChordRest::accessibleExtraInfo</a></div><div class="ttdeci">virtual QString accessibleExtraInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l01180">chordrest.cpp:1180</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a83b52654e7177b6ab649f8da843f28a5"><div class="ttname"><a href="classMs_1_1Chord.html#a83b52654e7177b6ab649f8da843f28a5">Ms::Chord::layoutArpeggio2</a></div><div class="ttdeci">void layoutArpeggio2()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02534">chord.cpp:2534</a></div></div>
<div class="ttc" id="namespaceMs_html_a00e5c648c84154926f4a68381ac9b401adc55b7d8d01602c06924ca667f4d423a"><div class="ttname"><a href="namespaceMs.html#a00e5c648c84154926f4a68381ac9b401adc55b7d8d01602c06924ca667f4d423a">Ms::VISIBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="inspectorAmbitus_8cpp_source.html#l00021">inspectorAmbitus.cpp:21</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a04a1b9c2e9db98787c7d81aff906b336"><div class="ttname"><a href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">Ms::Chord::tremolo</a></div><div class="ttdeci">Tremolo * tremolo() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00138">chord.h:138</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_a5c8edcd1dcd113c55d1a682cf422c26e"><div class="ttname"><a href="classMs_1_1StaffType.html#a5c8edcd1dcd113c55d1a682cf422c26e">Ms::StaffType::physStringToYOffset</a></div><div class="ttdeci">qreal physStringToYOffset(int strg) const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8cpp_source.html#l00826">stafftype.cpp:826</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a4d110ef401e1ecf0338442919917224d"><div class="ttname"><a href="classMs_1_1Chord.html#a4d110ef401e1ecf0338442919917224d">Ms::Chord::layoutSpanners</a></div><div class="ttdeci">void layoutSpanners()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02580">chord.cpp:2580</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a52b30fdd589beba5b760a561a50ac601"><div class="ttname"><a href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">Ms::Element::parent</a></div><div class="ttdeci">Element * parent() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00199">element.h:199</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_afcabc1e16d9a86233f01f052ff8b0295"><div class="ttname"><a href="classMs_1_1Chord.html#afcabc1e16d9a86233f01f052ff8b0295">Ms::Chord::defaultStemLength</a></div><div class="ttdeci">qreal defaultStemLength() const</div><div class="ttdoc">Get the default stem length for this chord. </div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01320">chord.cpp:1320</a></div></div>
<div class="ttc" id="namespaceMs_html_a28863123e439c88c35086eb7dd963c9aa45d886b842022787183a308e0200d336"><div class="ttname"><a href="namespaceMs.html#a28863123e439c88c35086eb7dd963c9aa45d886b842022787183a308e0200d336">Ms::CapellaNoteObjectType::CHORD</a></div></div>
<div class="ttc" id="classMs_1_1Fraction_html"><div class="ttname"><a href="classMs_1_1Fraction.html">Ms::Fraction</a></div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2fraction_8h_source.html#l00046">fraction.h:46</a></div></div>
<div class="ttc" id="navigate_8h_html"><div class="ttname"><a href="navigate_8h.html">navigate.h</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_aa6f61c1efe6d552049ee902f28632243"><div class="ttname"><a href="classMs_1_1ChordRest.html#aa6f61c1efe6d552049ee902f28632243">Ms::ChordRest::isGraceAfter</a></div><div class="ttdeci">bool isGraceAfter() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00934">chordrest.cpp:934</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a5f1d010c61f361c3310fd22cd9f65d88"><div class="ttname"><a href="classMs_1_1Element.html#a5f1d010c61f361c3310fd22cd9f65d88">Ms::Element::ipos</a></div><div class="ttdeci">const QPointF &amp; ipos() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00242">element.h:242</a></div></div>
<div class="ttc" id="namespaceMs_html_a24593d5bc01ac95fdbec3d354d258894a7884fad7b22d960efd4e9d84e61e7fe0"><div class="ttname"><a href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894a7884fad7b22d960efd4e9d84e61e7fe0">Ms::SegmentType::ChordRest</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9ea4fc7c674d2aacbcda1284deb756f8490"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea4fc7c674d2aacbcda1284deb756f8490">Ms::ElementType::HOOK</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_ae9e872e395ceb99e383a6ef53ceb9848"><div class="ttname"><a href="classMs_1_1ChordRest.html#ae9e872e395ceb99e383a6ef53ceb9848">Ms::ChordRest::up</a></div><div class="ttdeci">bool up() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00108">chordrest.h:108</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a97575ef0255cb4b9cde48b6c8730a00f"><div class="ttname"><a href="classMs_1_1Note.html#a97575ef0255cb4b9cde48b6c8730a00f">Ms::Note::removeSpannerBack</a></div><div class="ttdeci">bool removeSpannerBack(Spanner *e)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00490">note.h:490</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a9c4de13b592b3e0cc6a2398641da99ed"><div class="ttname"><a href="classMs_1_1Measure.html#a9c4de13b592b3e0cc6a2398641da99ed">Ms::Measure::system</a></div><div class="ttdeci">System * system() const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8h_source.html#l00120">measure.h:120</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9eacd465f695982b126e418243260f60f9b"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eacd465f695982b126e418243260f60f9b">Ms::ElementType::ACCIDENTAL</a></div></div>
<div class="ttc" id="classMs_1_1Arpeggio_html_a207a3e62783e69c3ccefc853ccda508b"><div class="ttname"><a href="classMs_1_1Arpeggio.html#a207a3e62783e69c3ccefc853ccda508b">Ms::Arpeggio::read</a></div><div class="ttdeci">void read(XmlReader &amp;e) override</div><div class="ttdef"><b>Definition:</b> <a href="arpeggio_8cpp_source.html#l00087">arpeggio.cpp:87</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a34bb3c54117e0a1b7ca0c632c19a0bd7"><div class="ttname"><a href="classMs_1_1Chord.html#a34bb3c54117e0a1b7ca0c632c19a0bd7">Ms::Chord::downNote</a></div><div class="ttdeci">Note * downNote() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00106">chord.cpp:106</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_af3dd6e9c85cfb18b93cfbd1d30328362"><div class="ttname"><a href="classMs_1_1Chord.html#af3dd6e9c85cfb18b93cfbd1d30328362">Ms::Chord::setSlash</a></div><div class="ttdeci">void setSlash(bool flag, bool stemless)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02843">chord.cpp:2843</a></div></div>
<div class="ttc" id="namespaceMs_html_af5e4ec7a183fe9ea39bfb81888efbde2a4f51b3dfd7d5aa76dcac592ed95e3370"><div class="ttname"><a href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a4f51b3dfd7d5aa76dcac592ed95e3370">Ms::IconType::GRACE16_AFTER</a></div></div>
<div class="ttc" id="xml_8h_html"><div class="ttname"><a href="xml_8h.html">xml.h</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_ad9263bf173856b77421e83a48a7bf68cadf948dbd00eed85b0f5327e7e196023e"><div class="ttname"><a href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68cadf948dbd00eed85b0f5327e7e196023e">Ms::TDuration::DurationType::V_16TH</a></div></div>
<div class="ttc" id="namespaceMs_html_a2d43ff9c26edae64d956fd7a345356b4a45d886b842022787183a308e0200d336"><div class="ttname"><a href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a45d886b842022787183a308e0200d336">Ms::ArticulationAnchor::CHORD</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea0df76b86312f88711f9d40f201d31a08"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea0df76b86312f88711f9d40f201d31a08">Ms::Sid::propertyDistanceStem</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655a80cddb587c5f541d794c078f09764733"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a80cddb587c5f541d794c078f09764733">Ms::Pid::NO_STEM</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aadbf45e4cc8747dd4bbdf585c5fdddb7"><div class="ttname"><a href="classMs_1_1Chord.html#aadbf45e4cc8747dd4bbdf585c5fdddb7">Ms::Chord::stemPos</a></div><div class="ttdeci">QPointF stemPos() const override</div><div class="ttdoc">page coordinates </div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00393">chord.cpp:393</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a9263c16f6d004ee4fce1ae6633fd022d"><div class="ttname"><a href="classMs_1_1ChordRest.html#a9263c16f6d004ee4fce1ae6633fd022d">Ms::ChordRest::shape</a></div><div class="ttdeci">virtual Shape shape() const override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l01255">chordrest.cpp:1255</a></div></div>
<div class="ttc" id="chordline_8h_html"><div class="ttname"><a href="chordline_8h.html">chordline.h</a></div></div>
<div class="ttc" id="classMs_1_1Spanner_html_ad6858aab488742d20c542d35ac7bf7f1"><div class="ttname"><a href="classMs_1_1Spanner.html#ad6858aab488742d20c542d35ac7bf7f1">Ms::Spanner::endCR</a></div><div class="ttdeci">ChordRest * endCR()</div><div class="ttdef"><b>Definition:</b> <a href="spanner_8cpp_source.html#l00815">spanner.cpp:815</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_acd0212299411535e59cdb0a4d1c6a73f"><div class="ttname"><a href="classMs_1_1Chord.html#acd0212299411535e59cdb0a4d1c6a73f">Ms::Chord::nextElement</a></div><div class="ttdeci">Element * nextElement() override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03154">chord.cpp:3154</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_aa7757f6d62dc28447706ee8eb12da5ec"><div class="ttname"><a href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">Ms::Element::setParent</a></div><div class="ttdeci">void setParent(Element *e)</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00200">element.h:200</a></div></div>
<div class="ttc" id="measure_8h_html"><div class="ttname"><a href="measure_8h.html">measure.h</a></div><div class="ttdoc">Definition of class Measure. </div></div>
<div class="ttc" id="classMs_1_1Chord_html_ab446d5ec17c723bb50077547e4789885"><div class="ttname"><a href="classMs_1_1Chord.html#ab446d5ec17c723bb50077547e4789885">Ms::Chord::nextTiedChord</a></div><div class="ttdeci">Chord * nextTiedChord(bool backwards=false, bool sameSize=true)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03095">chord.cpp:3095</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ada06a8f84e26de36b4273d278b04a343"><div class="ttname"><a href="classMs_1_1Chord.html#ada06a8f84e26de36b4273d278b04a343">Ms::Chord::upPos</a></div><div class="ttdeci">qreal upPos() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01149">chord.cpp:1149</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9eace00c7704ec09c488a4557c123a23119"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eace00c7704ec09c488a4557c123a23119">Ms::ElementType::CHORDLINE</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a9103d7e3ecf91f604d7bfd8a529ef09d"><div class="ttname"><a href="classMs_1_1ChordRest.html#a9103d7e3ecf91f604d7bfd8a529ef09d">Ms::ChordRest::beamMode</a></div><div class="ttdeci">Beam::Mode beamMode() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00091">chordrest.h:91</a></div></div>
<div class="ttc" id="namespaceMs_html_a9b94748a1c466ed6e89f2c80e57b644b"><div class="ttname"><a href="namespaceMs.html#a9b94748a1c466ed6e89f2c80e57b644b">Ms::staff2track</a></div><div class="ttdeci">int staff2track(int staffIdx)</div><div class="ttdef"><b>Definition:</b> <a href="mscore_8h_source.html#l00077">mscore.h:77</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a965327598f61fdc8b3b8f4160dfa13c8"><div class="ttname"><a href="classMs_1_1Element.html#a965327598f61fdc8b3b8f4160dfa13c8">Ms::Element::screenReaderInfo</a></div><div class="ttdeci">virtual QString screenReaderInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00504">element.h:504</a></div></div>
<div class="ttc" id="namespaceMs_html_a175bedec052e1c2fd09257ffde43d847aac3aa8aad78d6744cebe7c0413e8112d"><div class="ttname"><a href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847aac3aa8aad78d6744cebe7c0413e8112d">Ms::SelectionFilterType::GLISSANDO</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a36da47af8aac2c422a2bc3eb91f8ac4f"><div class="ttname"><a href="classMs_1_1Element.html#a36da47af8aac2c422a2bc3eb91f8ac4f">Ms::Element::read</a></div><div class="ttdeci">virtual void read(XmlReader &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00803">element.cpp:803</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eaa3cb4b3e95327d8961cf69f040d60f4d"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaa3cb4b3e95327d8961cf69f040d60f4d">Ms::Sid::shortenStem</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a74445d56eed54f6c4d22c5ba301a531f"><div class="ttname"><a href="classMs_1_1Staff.html#a74445d56eed54f6c4d22c5ba301a531f">Ms::Staff::lineDistance</a></div><div class="ttdeci">qreal lineDistance(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l01554">staff.cpp:1554</a></div></div>
<div class="ttc" id="classMs_1_1Drumset_html_a0c116c7a1faa14e7d3f5b583561f5245"><div class="ttname"><a href="classMs_1_1Drumset.html#a0c116c7a1faa14e7d3f5b583561f5245">Ms::Drumset::isValid</a></div><div class="ttdeci">bool isValid(int pitch) const</div><div class="ttdef"><b>Definition:</b> <a href="drumset_8h_source.html#l00072">drumset.h:72</a></div></div>
<div class="ttc" id="namespaceMs_html_a2d43ff9c26edae64d956fd7a345356b4ae5ac5a74975d63c6e0f6d27d26e860cc"><div class="ttname"><a href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4ae5ac5a74975d63c6e0f6d27d26e860cc">Ms::ArticulationAnchor::TOP_CHORD</a></div></div>
<div class="ttc" id="classMs_1_1Drumset_html_a57e943db32934a5f5b85f56d6cc5dc47"><div class="ttname"><a href="classMs_1_1Drumset.html#a57e943db32934a5f5b85f56d6cc5dc47">Ms::Drumset::noteHead</a></div><div class="ttdeci">NoteHead::Group noteHead(int pitch) const</div><div class="ttdef"><b>Definition:</b> <a href="drumset_8h_source.html#l00073">drumset.h:73</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html"><div class="ttname"><a href="classMs_1_1Chord.html">Ms::Chord</a></div><div class="ttdoc">Graphic representation of a chord. </div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00055">chord.h:55</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a75f4c6582156c012aa0e95c68603a871"><div class="ttname"><a href="classMs_1_1Chord.html#a75f4c6582156c012aa0e95c68603a871">Ms::Chord::Chord</a></div><div class="ttdeci">Chord(Score *s=0)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00213">chord.cpp:213</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a884bf81982c8c302cbdf79ea567c3ced"><div class="ttname"><a href="classMs_1_1Element.html#a884bf81982c8c302cbdf79ea567c3ced">Ms::Element::setTrack</a></div><div class="ttdeci">virtual void setTrack(int val)</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00352">element.h:352</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_ad248bef7f25a4fe152ce281372a24d3f"><div class="ttname"><a href="classMs_1_1Staff.html#ad248bef7f25a4fe152ce281372a24d3f">Ms::Staff::staffType</a></div><div class="ttdeci">const StaffType * staffType(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l01010">staff.cpp:1010</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_aff6734454edd84c11694f21802162925"><div class="ttname"><a href="classMs_1_1StaffType.html#aff6734454edd84c11694f21802162925">Ms::StaffType::chordStemPos</a></div><div class="ttdeci">QPointF chordStemPos(const Chord *) const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8cpp_source.html#l00580">stafftype.cpp:580</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a638691b3520258aed47a5f3d2b67ad24"><div class="ttname"><a href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">Ms::Score::undo</a></div><div class="ttdeci">void undo(UndoCommand *, EditData *=0) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l03746">score.cpp:3746</a></div></div>
<div class="ttc" id="classMs_1_1ChordLine_html_a994a352fdc212032d2f31c32243ef78d"><div class="ttname"><a href="classMs_1_1ChordLine.html#a994a352fdc212032d2f31c32243ef78d">Ms::ChordLine::read</a></div><div class="ttdeci">void read(XmlReader &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="chordline_8cpp_source.html#l00143">chordline.cpp:143</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_abd781d11186d1951028a0efaf6d5cf5a"><div class="ttname"><a href="classMs_1_1Element.html#abd781d11186d1951028a0efaf6d5cf5a">Ms::Element::width</a></div><div class="ttdeci">virtual qreal width() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00280">element.h:280</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea15e392eb08b81f6ec367d10ee6ae4f9e"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea15e392eb08b81f6ec367d10ee6ae4f9e">Ms::Sid::noteBarDistance</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a3f7d846cb9ebf231bc0afd9d52835bdf"><div class="ttname"><a href="classMs_1_1Chord.html#a3f7d846cb9ebf231bc0afd9d52835bdf">Ms::Chord::write</a></div><div class="ttdeci">void write(XmlWriter &amp;xml) const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00976">chord.cpp:976</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a9ba14767335dea9274a6e42b4bca2452"><div class="ttname"><a href="classMs_1_1Chord.html#a9ba14767335dea9274a6e42b4bca2452">Ms::Chord::articulations</a></div><div class="ttdeci">QVector&lt; Articulation * &gt; &amp; articulations()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00204">chord.h:204</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a70883d048b0884821ac779d9ab168151"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">Ms::ScoreElement::score</a></div><div class="ttdeci">Score * score() const</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00189">scoreElement.h:189</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a4e9ad4c47081dec0aebcd2aea96b309f"><div class="ttname"><a href="classMs_1_1Segment.html#a4e9ad4c47081dec0aebcd2aea96b309f">Ms::Segment::element</a></div><div class="ttdeci">Element * element(int track) const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00424">segment.cpp:424</a></div></div>
<div class="ttc" id="classMs_1_1Symbol_html_a70daf1a52e84fcbb1ae34929859ced94"><div class="ttname"><a href="classMs_1_1Symbol.html#a70daf1a52e84fcbb1ae34929859ced94">Ms::Symbol::write</a></div><div class="ttdeci">void write(XmlWriter &amp;xml) const override</div><div class="ttdef"><b>Definition:</b> <a href="symbol_8cpp_source.html#l00097">symbol.cpp:97</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ad1de1c246a7f35e5b63781630e3c7d58"><div class="ttname"><a href="classMs_1_1Score.html#ad1de1c246a7f35e5b63781630e3c7d58">Ms::Score::staff</a></div><div class="ttdeci">Staff * staff(int n) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00657">score.h:657</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a550c9abf9f41513672b152651e4c6a95"><div class="ttname"><a href="classMs_1_1Chord.html#a550c9abf9f41513672b152651e4c6a95">Ms::Chord::cmdUpdateNotes</a></div><div class="ttdeci">void cmdUpdateNotes(AccidentalState *)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01732">chord.cpp:1732</a></div></div>
<div class="ttc" id="namespaceMs_html_aad3918cfddca91d981504ae55c0f19b0"><div class="ttname"><a href="namespaceMs.html#aad3918cfddca91d981504ae55c0f19b0">Ms::StaffGroup</a></div><div class="ttdeci">StaffGroup</div><div class="ttdef"><b>Definition:</b> <a href="mscore_8h_source.html#l00186">mscore.h:186</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a8c27ddfb0004417dd89b655e3480a6a0"><div class="ttname"><a href="classMs_1_1Segment.html#a8c27ddfb0004417dd89b655e3480a6a0">Ms::Segment::next1</a></div><div class="ttdeci">Segment * next1() const</div><div class="ttdoc">return next Segment, dont stop searching at end of Measure </div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00223">segment.cpp:223</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9ea9cdd0897168a5685d46386930d13dbe4"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea9cdd0897168a5685d46386930d13dbe4">Ms::ElementType::LEDGER_LINE</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_ae13b24ceed9d3561f107f7e3ea72de44"><div class="ttname"><a href="classMs_1_1ChordRest.html#ae13b24ceed9d3561f107f7e3ea72de44">Ms::ChordRest::_up</a></div><div class="ttdeci">bool _up</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00062">chordrest.h:62</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ad2edc025a393651b7cd3d8c1b4404c8b"><div class="ttname"><a href="classMs_1_1Chord.html#ad2edc025a393651b7cd3d8c1b4404c8b">Ms::Chord::layout</a></div><div class="ttdeci">void layout() override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01820">chord.cpp:1820</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ae0820abe69d5138d69187901f2a4ac2c"><div class="ttname"><a href="classMs_1_1Chord.html#ae0820abe69d5138d69187901f2a4ac2c">Ms::Chord::ledgerLines</a></div><div class="ttdeci">LedgerLine * ledgerLines()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00112">chord.h:112</a></div></div>
<div class="ttc" id="classMs_1_1Beam_html_a5f566745948af534def31a1777d18ebf"><div class="ttname"><a href="classMs_1_1Beam.html#a5f566745948af534def31a1777d18ebf">Ms::Beam::up</a></div><div class="ttdeci">bool up() const</div><div class="ttdef"><b>Definition:</b> <a href="beam_8h_source.html#l00120">beam.h:120</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9ea2295e0750a84297532f2a8197bb76b5e"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea2295e0750a84297532f2a8197bb76b5e">Ms::ElementType::STEM</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ab28ffe83fb1064fb3c2a6fa648bca688"><div class="ttname"><a href="classMs_1_1Element.html#ab28ffe83fb1064fb3c2a6fa648bca688">Ms::Element::triggerLayout</a></div><div class="ttdeci">virtual void triggerLayout() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l01908">element.cpp:1908</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a7ef00364bfc818f5ae0741af4589449a"><div class="ttname"><a href="classMs_1_1ChordRest.html#a7ef00364bfc818f5ae0741af4589449a">Ms::ChordRest::isBefore</a></div><div class="ttdeci">bool isBefore(const ChordRest *) const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l01361">chordrest.cpp:1361</a></div></div>
<div class="ttc" id="namespaceMs_html_ad1b3e57dfd5b26a280bf2ebde66b9d5aa665b68be9b2bb1fe1ce8498a85da8064"><div class="ttname"><a href="namespaceMs.html#ad1b3e57dfd5b26a280bf2ebde66b9d5aa665b68be9b2bb1fe1ce8498a85da8064">Ms::Tid::LH_GUITAR_FINGERING</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a07a0b52e5f58941bd85ca307455e62c6"><div class="ttname"><a href="classMs_1_1Segment.html#a07a0b52e5f58941bd85ca307455e62c6">Ms::Segment::prev1</a></div><div class="ttdeci">Segment * prev1() const</div><div class="ttdoc">return previous Segment, dont stop searching at Measure begin </div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00330">segment.cpp:330</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a6a1e59c49777e28459d2270981fc97df"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a6a1e59c49777e28459d2270981fc97df">Ms::ScoreElement::setScore</a></div><div class="ttdeci">virtual void setScore(Score *s)</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00191">scoreElement.h:191</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a11c815063edf5abc1bff515e11b03a2b"><div class="ttname"><a href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">Ms::ChordRest::staffMove</a></div><div class="ttdeci">int staffMove() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00116">chordrest.h:116</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a185fc7776084b28c2f33003434729ffe"><div class="ttname"><a href="classMs_1_1Chord.html#a185fc7776084b28c2f33003434729ffe">Ms::Chord::layoutStem1</a></div><div class="ttdeci">void layoutStem1() override</div><div class="ttdoc">Layout _stem and _stemSlash. </div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01496">chord.cpp:1496</a></div></div>
<div class="ttc" id="classMs_1_1TabDurationSymbol_html"><div class="ttname"><a href="classMs_1_1TabDurationSymbol.html">Ms::TabDurationSymbol</a></div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00428">stafftype.h:428</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ab35c14f602fd1936a0f223df94639f37"><div class="ttname"><a href="classMs_1_1Score.html#ab35c14f602fd1936a0f223df94639f37">Ms::Score::setPlaylistDirty</a></div><div class="ttdeci">virtual void setPlaylistDirty()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l00735">score.cpp:735</a></div></div>
<div class="ttc" id="classMs_1_1Arpeggio_html"><div class="ttname"><a href="classMs_1_1Arpeggio.html">Ms::Arpeggio</a></div><div class="ttdef"><b>Definition:</b> <a href="arpeggio_8h_source.html#l00030">arpeggio.h:30</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_abe158a1edb003070a8844814b2998e7a"><div class="ttname"><a href="classMs_1_1Chord.html#abe158a1edb003070a8844814b2998e7a">Ms::Chord::undoUnlink</a></div><div class="ttdeci">void undoUnlink() override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00310">chord.cpp:310</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_aba0cce6921c0cca20dbd41197e4e58d9"><div class="ttname"><a href="classMs_1_1ChordRest.html#aba0cce6921c0cca20dbd41197e4e58d9">Ms::ChordRest::_crossMeasureTDur</a></div><div class="ttdeci">TDuration _crossMeasureTDur</div><div class="ttdoc">the total Duration type of the combined notes </div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00068">chordrest.h:68</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_af7d952577507bd43a7c5368805af6491"><div class="ttname"><a href="classMs_1_1ChordRest.html#af7d952577507bd43a7c5368805af6491">Ms::ChordRest::undoUnlink</a></div><div class="ttdeci">virtual void undoUnlink() override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00100">chordrest.cpp:100</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_ab7c270434babde33fa3682feb21d68ca"><div class="ttname"><a href="classMs_1_1Tremolo.html#ab7c270434babde33fa3682feb21d68ca">Ms::Tremolo::read</a></div><div class="ttdeci">void read(XmlReader &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8cpp_source.html#l00552">tremolo.cpp:552</a></div></div>
<div class="ttc" id="classMs_1_1SelectionFilter_html_a2df3f78bf495c4a87f235d6ac75f4e43"><div class="ttname"><a href="classMs_1_1SelectionFilter.html#a2df3f78bf495c4a87f235d6ac75f4e43">Ms::SelectionFilter::canSelect</a></div><div class="ttdeci">bool canSelect(const Element *) const</div><div class="ttdef"><b>Definition:</b> <a href="select_8cpp_source.html#l00386">select.cpp:386</a></div></div>
<div class="ttc" id="classMs_1_1Hook_html_a8665fd50a02d599919a52644bc87e2ab"><div class="ttname"><a href="classMs_1_1Hook.html#a8665fd50a02d599919a52644bc87e2ab">Ms::Hook::layout</a></div><div class="ttdeci">void layout() override</div><div class="ttdef"><b>Definition:</b> <a href="hook_8cpp_source.html#l00067">hook.cpp:67</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a1dad93f0591eb31f69854e8f141b051e"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a1dad93f0591eb31f69854e8f141b051e">Ms::ScoreElement::linkTo</a></div><div class="ttdeci">void linkTo(ScoreElement *)</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8cpp_source.html#l00538">scoreElement.cpp:538</a></div></div>
<div class="ttc" id="namespaceMs_html_af5e4ec7a183fe9ea39bfb81888efbde2ae80cb44d4b8a0b53e5156a914e54f062"><div class="ttname"><a href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2ae80cb44d4b8a0b53e5156a914e54f062">Ms::IconType::GRACE4</a></div></div>
<div class="ttc" id="classMs_1_1XmlReader_html_a2fa825cb5155311203dae047b695a6ed"><div class="ttname"><a href="classMs_1_1XmlReader.html#a2fa825cb5155311203dae047b695a6ed">Ms::XmlReader::readInt</a></div><div class="ttdeci">int readInt()</div><div class="ttdef"><b>Definition:</b> <a href="xml_8h_source.html#l00129">xml.h:129</a></div></div>
<div class="ttc" id="namespaceMs_html_a02cda2a18206af7dc3efbd0db9142e22a8b4ed667c4c4cfec1e5bf403f1b5b089"><div class="ttname"><a href="namespaceMs.html#a02cda2a18206af7dc3efbd0db9142e22a8b4ed667c4c4cfec1e5bf403f1b5b089">Ms::ElementFlag::MOVABLE</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a20ed4485cac6a24338453d5ce2048297"><div class="ttname"><a href="classMs_1_1Chord.html#a20ed4485cac6a24338453d5ce2048297">Ms::Chord::chordMag</a></div><div class="ttdeci">qreal chordMag() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02969">chord.cpp:2969</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a369f7689a1a21e8b0aa07e5bbacb3d76"><div class="ttname"><a href="classMs_1_1Score.html#a369f7689a1a21e8b0aa07e5bbacb3d76">Ms::Score::styleB</a></div><div class="ttdeci">bool styleB(Sid idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00898">score.h:898</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ad85cf645f375f12d682c28243dedf029"><div class="ttname"><a href="classMs_1_1Note.html#ad85cf645f375f12d682c28243dedf029">Ms::Note::spannerFor</a></div><div class="ttdeci">const QVector&lt; Spanner * &gt; &amp; spannerFor() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00486">note.h:486</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aa7666a2f4db2c35a828a90a013fbadc6"><div class="ttname"><a href="classMs_1_1Chord.html#aa7666a2f4db2c35a828a90a013fbadc6">Ms::Chord::upString</a></div><div class="ttdeci">int upString() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00164">chord.cpp:164</a></div></div>
<div class="ttc" id="classMs_1_1Drumset_html_a19e7739fa57e35a79928fa58766d9c5a"><div class="ttname"><a href="classMs_1_1Drumset.html#a19e7739fa57e35a79928fa58766d9c5a">Ms::Drumset::line</a></div><div class="ttdeci">int line(int pitch) const</div><div class="ttdef"><b>Definition:</b> <a href="drumset_8h_source.html#l00075">drumset.h:75</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a2a2ce2358cc23529d8f038a940062e62"><div class="ttname"><a href="classMs_1_1Element.html#a2a2ce2358cc23529d8f038a940062e62">Ms::Element::setPos</a></div><div class="ttdeci">void setPos(qreal x, qreal y)</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00246">element.h:246</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_ab58bb2c64cfe98ac2da35e4d1fde492e"><div class="ttname"><a href="classMs_1_1StaffType.html#ab58bb2c64cfe98ac2da35e4d1fde492e">Ms::StaffType::stemThrough</a></div><div class="ttdeci">bool stemThrough() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00373">stafftype.h:373</a></div></div>
<div class="ttc" id="namespaceMs_html_a704a7cd3b8260ca95e9a99bbabe800c3a84e4213ee54478574ea15a166ea10152"><div class="ttname"><a href="namespaceMs.html#a704a7cd3b8260ca95e9a99bbabe800c3a84e4213ee54478574ea15a166ea10152">Ms::TablatureSymbolRepeat::MEASURE</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a5a39e1a7e07ba8e10101dd970dcb04d9"><div class="ttname"><a href="classMs_1_1Chord.html#a5a39e1a7e07ba8e10101dd970dcb04d9">Ms::Chord::stemPosBeam</a></div><div class="ttdeci">QPointF stemPosBeam() const override</div><div class="ttdoc">page coordinates </div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00418">chord.cpp:418</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_adc6b9aa10c0b149eea492432ceeb3ce3"><div class="ttname"><a href="classMs_1_1ChordRest.html#adc6b9aa10c0b149eea492432ceeb3ce3">Ms::ChordRest::setDurationType</a></div><div class="ttdeci">void setDurationType(TDuration::DurationType t)</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00661">chordrest.cpp:661</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a14581354d9bfc2c39c7dafbed79403da"><div class="ttname"><a href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">Ms::Element::staff</a></div><div class="ttdeci">Staff * staff() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00276">element.cpp:276</a></div></div>
<div class="ttc" id="classMs_1_1RemoveElement_html"><div class="ttname"><a href="classMs_1_1RemoveElement.html">Ms::RemoveElement</a></div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00571">undo.h:571</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_aa1bfaad0745fdce188743b73821e0692"><div class="ttname"><a href="classMs_1_1Element.html#aa1bfaad0745fdce188743b73821e0692">Ms::Element::point</a></div><div class="ttdeci">qreal point(const Spatium sp) const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00430">element.h:430</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ae92c92e55132a776b975e3755b38ff14"><div class="ttname"><a href="classMs_1_1Chord.html#ae92c92e55132a776b975e3755b38ff14">Ms::Chord::setNoteType</a></div><div class="ttdeci">void setNoteType(NoteType t)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00179">chord.h:179</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_afafd30fd179d67a4f488d619e28fa416"><div class="ttname"><a href="classMs_1_1Chord.html#afafd30fd179d67a4f488d619e28fa416">Ms::Chord::_endsGlissando</a></div><div class="ttdeci">bool _endsGlissando</div><div class="ttdoc">true if this chord is the ending point of a glissando (needed for layout) </div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00065">chord.h:65</a></div></div>
<div class="ttc" id="classMs_1_1LedgerLine_html_a6784a680197432e2cb49ea50eba790cf"><div class="ttname"><a href="classMs_1_1LedgerLine.html#a6784a680197432e2cb49ea50eba790cf">Ms::LedgerLine::setNext</a></div><div class="ttdeci">void setNext(LedgerLine *l)</div><div class="ttdef"><b>Definition:</b> <a href="ledgerline_8h_source.html#l00056">ledgerline.h:56</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a260e9896d5323993e2ba87c40f60d5ce"><div class="ttname"><a href="classMs_1_1ChordRest.html#a260e9896d5323993e2ba87c40f60d5ce">Ms::ChordRest::small</a></div><div class="ttdeci">bool small() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00112">chordrest.h:112</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a25393ae057902ac7b96cbddfcb6c2bed"><div class="ttname"><a href="classMs_1_1Chord.html#a25393ae057902ac7b96cbddfcb6c2bed">Ms::Chord::arpeggio</a></div><div class="ttdeci">Arpeggio * arpeggio() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00137">chord.h:137</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_afe0530ec07045553559ded6c16d5dd6c"><div class="ttname"><a href="classMs_1_1Chord.html#afe0530ec07045553559ded6c16d5dd6c">Ms::Chord::crossMeasureSetup</a></div><div class="ttdeci">void crossMeasureSetup(bool on) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02494">chord.cpp:2494</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_ac3715cb6c5477152068cfedb5ce12124"><div class="ttname"><a href="classMs_1_1ChordRest.html#ac3715cb6c5477152068cfedb5ce12124">Ms::ChordRest::_beam</a></div><div class="ttdeci">Beam * _beam</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00060">chordrest.h:60</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a44c16323c852e23c783b8d7362cc9c6a"><div class="ttname"><a href="classMs_1_1Element.html#a44c16323c852e23c783b8d7362cc9c6a">Ms::Element::propertyId</a></div><div class="ttdeci">virtual Pid propertyId(const QStringRef &amp;xmlName) const override</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l01387">element.cpp:1387</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a31f5e22d38f84ff52c512857c52dd668"><div class="ttname"><a href="classMs_1_1Element.html#a31f5e22d38f84ff52c512857c52dd668">Ms::Element::tag</a></div><div class="ttdeci">uint tag() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00458">element.h:458</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_aabf6157f4dbda5a9b86a9c4cae8c167f"><div class="ttname"><a href="classMs_1_1Selection.html#aabf6157f4dbda5a9b86a9c4cae8c167f">Ms::Selection::elements</a></div><div class="ttdeci">const QList&lt; Element * &gt; &amp; elements() const</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00189">select.h:189</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a80aa5db67223dff29e9113f23865b62b"><div class="ttname"><a href="classMs_1_1Staff.html#a80aa5db67223dff29e9113f23865b62b">Ms::Staff::mag</a></div><div class="ttdeci">qreal mag(const StaffType *) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l00830">staff.cpp:830</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a7b344ea7b12893001b693d782d19a081"><div class="ttname"><a href="classMs_1_1ChordRest.html#a7b344ea7b12893001b693d782d19a081">Ms::ChordRest::vStaffIdx</a></div><div class="ttdeci">virtual int vStaffIdx() const override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00118">chordrest.h:118</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_aebf61ce48548d4c61db23b0d94e184ae"><div class="ttname"><a href="classMs_1_1Score.html#aebf61ce48548d4c61db23b0d94e184ae">Ms::Score::noteHeadWidth</a></div><div class="ttdeci">qreal noteHeadWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01163">score.h:1163</a></div></div>
<div class="ttc" id="classMs_1_1ChordLine_html"><div class="ttname"><a href="classMs_1_1ChordLine.html">Ms::ChordLine</a></div><div class="ttdoc">bezier line attached to top note of a chord implements fall, doit, plop, bend </div><div class="ttdef"><b>Definition:</b> <a href="chordline_8h_source.html#l00034">chordline.h:34</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655a5d15377f29d4bca438ef8a339555af95"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a5d15377f29d4bca438ef8a339555af95">Ms::Pid::HEAD_GROUP</a></div></div>
<div class="ttc" id="classMs_1_1Stem_html_aadcbdc10cbafbc7486be0092097fae12"><div class="ttname"><a href="classMs_1_1Stem.html#aadcbdc10cbafbc7486be0092097fae12">Ms::Stem::lineWidth</a></div><div class="ttdeci">qreal lineWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="stem_8h_source.html#l00065">stem.h:65</a></div></div>
<div class="ttc" id="classMs_1_1XmlWriter_html_a1002621a3dc238212f19d2e345ca3a72"><div class="ttname"><a href="classMs_1_1XmlWriter.html#a1002621a3dc238212f19d2e345ca3a72">Ms::XmlWriter::etag</a></div><div class="ttdeci">void etag()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2xmlwriter_8cpp_source.html#l00113">xmlwriter.cpp:113</a></div></div>
<div class="ttc" id="classMs_1_1XmlWriter_html"><div class="ttname"><a href="classMs_1_1XmlWriter.html">Ms::XmlWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="xml_8h_source.html#l00219">xml.h:219</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a47a641f4c229f43d67ed5154fdebc05c"><div class="ttname"><a href="classMs_1_1ChordRest.html#a47a641f4c229f43d67ed5154fdebc05c">Ms::ChordRest::type</a></div><div class="ttdeci">virtual ElementType type() const =0</div></div>
<div class="ttc" id="structMs_1_1LedgerLineData_html"><div class="ttname"><a href="structMs_1_1LedgerLineData.html">Ms::LedgerLineData</a></div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00058">chord.cpp:58</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea2699e0ac7f36e1099d48db3e5706992f"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea2699e0ac7f36e1099d48db3e5706992f">Ms::Sid::tremoloDistance</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a1397cfb5140978e6cd9aa294ade7d738"><div class="ttname"><a href="classMs_1_1Element.html#a1397cfb5140978e6cd9aa294ade7d738">Ms::Element::rypos</a></div><div class="ttdeci">qreal &amp; rypos()</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00250">element.h:250</a></div></div>
<div class="ttc" id="classMs_1_1Instrument_html_a1632d4bf3af6b96e024ae13be290099d"><div class="ttname"><a href="classMs_1_1Instrument.html#a1632d4bf3af6b96e024ae13be290099d">Ms::Instrument::useDrumset</a></div><div class="ttdeci">bool useDrumset() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2instrument_8h_source.html#l00312">instrument.h:312</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_aaa31b11917139c63c6dc4a46f939b95f"><div class="ttname"><a href="classMs_1_1Note.html#aaa31b11917139c63c6dc4a46f939b95f">Ms::Note::headBodyWidth</a></div><div class="ttdeci">qreal headBodyWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l00947">note.cpp:947</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a7e2a07630dad78f0911a16be88e16729"><div class="ttname"><a href="classMs_1_1Note.html#a7e2a07630dad78f0911a16be88e16729">Ms::Note::spannerBack</a></div><div class="ttdeci">const QVector&lt; Spanner * &gt; &amp; spannerBack() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00487">note.h:487</a></div></div>
<div class="ttc" id="classMs_1_1Shape_html_a51535d0e5b819152b44f47f98925e1e7"><div class="ttname"><a href="classMs_1_1Shape.html#a51535d0e5b819152b44f47f98925e1e7">Ms::Shape::translated</a></div><div class="ttdeci">Shape translated(const QPointF &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="shape_8cpp_source.html#l00063">shape.cpp:63</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ab4986d1b4f0d45b8e84cf52c46885c36"><div class="ttname"><a href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">Ms::Element::track</a></div><div class="ttdeci">int track() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00351">element.h:351</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a3a1b3c9e57686405465b91c1be322ad7"><div class="ttname"><a href="classMs_1_1Chord.html#a3a1b3c9e57686405465b91c1be322ad7">Ms::Chord::_graceIndex</a></div><div class="ttdeci">int _graceIndex</div><div class="ttdoc">if this is a grace note, index in parent list </div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00067">chord.h:67</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ab55444ce64fe9284fb906079d80e506c"><div class="ttname"><a href="classMs_1_1Chord.html#ab55444ce64fe9284fb906079d80e506c">Ms::Chord::underBeam</a></div><div class="ttdeci">bool underBeam() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01632">chord.cpp:1632</a></div></div>
<div class="ttc" id="classMs_1_1Tie_html"><div class="ttname"><a href="classMs_1_1Tie.html">Ms::Tie</a></div><div class="ttdoc">a Tie has a Note as startElement/endElement </div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2tie_8h_source.html#l00060">tie.h:60</a></div></div>
<div class="ttc" id="classMs_1_1SlurTieSegment_html_afabd534baeefa0cfef3c7ff829fd8ad0"><div class="ttname"><a href="classMs_1_1SlurTieSegment.html#afabd534baeefa0cfef3c7ff829fd8ad0">Ms::SlurTieSegment::shape</a></div><div class="ttdeci">virtual Shape shape() const override</div><div class="ttdef"><b>Definition:</b> <a href="slurtie_8h_source.html#l00112">slurtie.h:112</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a8079a2be644aa231ba874647bbd871fd"><div class="ttname"><a href="classMs_1_1Note.html#a8079a2be644aa231ba874647bbd871fd">Ms::Note::removeSpannerFor</a></div><div class="ttdeci">bool removeSpannerFor(Spanner *e)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00492">note.h:492</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ead3a95911641db612363b3985d386e7f7"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ead3a95911641db612363b3985d386e7f7">Ms::Sid::ledgerLineLength</a></div></div>
<div class="ttc" id="classMs_1_1NoteHead_html_a1d3e8faf3d3bc1d89d9d3485acde69d1aba9822c671c314db3077fcdf1f5be589"><div class="ttname"><a href="classMs_1_1NoteHead.html#a1d3e8faf3d3bc1d89d9d3485acde69d1aba9822c671c314db3077fcdf1f5be589">Ms::NoteHead::Group::HEAD_SLASH</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a196e4e5aa0d92ec749b24c7a132601ef"><div class="ttname"><a href="classMs_1_1Chord.html#a196e4e5aa0d92ec749b24c7a132601ef">Ms::Chord::_spaceLw</a></div><div class="ttdeci">qreal _spaceLw</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00074">chord.h:74</a></div></div>
<div class="ttc" id="classMs_1_1Spanner_html"><div class="ttname"><a href="classMs_1_1Spanner.html">Ms::Spanner</a></div><div class="ttdoc">Virtual base class for slurs, ties, lines etc. </div><div class="ttdef"><b>Definition:</b> <a href="spanner_8h_source.html#l00123">spanner.h:123</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_af3fbc117c926f4bc9bd5f0ee3e8ad478"><div class="ttname"><a href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">Ms::Tremolo::chord1</a></div><div class="ttdeci">Chord * chord1() const</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00083">tremolo.h:83</a></div></div>
<div class="ttc" id="classMs_1_1XmlWriter_html_aeef558c426437cf25fc276c6a17b1732"><div class="ttname"><a href="classMs_1_1XmlWriter.html#aeef558c426437cf25fc276c6a17b1732">Ms::XmlWriter::tagE</a></div><div class="ttdeci">void tagE(const QString &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2xmlwriter_8cpp_source.html#l00141">xmlwriter.cpp:141</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a1a35e7598d783204faa93ba261b5909d"><div class="ttname"><a href="classMs_1_1Chord.html#a1a35e7598d783204faa93ba261b5909d">Ms::Chord::upNote</a></div><div class="ttdeci">Note * upNote() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00069">chord.cpp:69</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ad55c1e54b156996f2b1d211c31eb7df9"><div class="ttname"><a href="classMs_1_1Note.html#ad55c1e54b156996f2b1d211c31eb7df9">Ms::Note::bboxRightPos</a></div><div class="ttdeci">qreal bboxRightPos() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l00936">note.cpp:936</a></div></div>
<div class="ttc" id="namespaceMs_html_a175bedec052e1c2fd09257ffde43d847a9b5778b423deab938ac37574ae543e56"><div class="ttname"><a href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a9b5778b423deab938ac37574ae543e56">Ms::SelectionFilterType::FINGERING</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655a6a216efc529825c60a4a4c0bc99ad77f"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a6a216efc529825c60a4a4c0bc99ad77f">Ms::Pid::PLAY</a></div></div>
<div class="ttc" id="namespaceMs_html_a69c5ea87fc52569247ed58849a2512e9"><div class="ttname"><a href="namespaceMs.html#a69c5ea87fc52569247ed58849a2512e9">Ms::accidental</a></div><div class="ttdeci">static Accidental * accidental(QXmlStreamReader &amp;e, Score *score)</div><div class="ttdoc">Parse the /score-partwise/part/measure/note/accidental node. </div><div class="ttdef"><b>Definition:</b> <a href="importmxmlnotepitch_8cpp_source.html#l00030">importmxmlnotepitch.cpp:30</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ae4f2f3a774def87e608afd55ef29b3e9"><div class="ttname"><a href="classMs_1_1Element.html#ae4f2f3a774def87e608afd55ef29b3e9">Ms::Element::selected</a></div><div class="ttdeci">bool selected() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00218">element.h:218</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea6cab9c4033c932954a7f137baa8e00c7"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea6cab9c4033c932954a7f137baa8e00c7">Ms::Sid::propertyDistanceHead</a></div></div>
<div class="ttc" id="classMs_1_1XmlReader_html"><div class="ttname"><a href="classMs_1_1XmlReader.html">Ms::XmlReader</a></div><div class="ttdef"><b>Definition:</b> <a href="xml_8h_source.html#l00069">xml.h:69</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_afbd51224c47d00551983d1b25f3c6f39"><div class="ttname"><a href="classMs_1_1Element.html#afbd51224c47d00551983d1b25f3c6f39">Ms::Element::setFlag</a></div><div class="ttdeci">void setFlag(ElementFlag f, bool v)</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00214">element.h:214</a></div></div>
<div class="ttc" id="note_8h_html"><div class="ttname"><a href="note_8h.html">note.h</a></div><div class="ttdoc">Definition of classes Note and NoteHead. </div></div>
<div class="ttc" id="chord_8h_html"><div class="ttname"><a href="chord_8h.html">chord.h</a></div><div class="ttdoc">Definition of classes Chord, HelpLine and NoteList. </div></div>
<div class="ttc" id="classMs_1_1Chord_html_ae34ff1ba2d1a4a8df6366dd1f24345bd"><div class="ttname"><a href="classMs_1_1Chord.html#ae34ff1ba2d1a4a8df6366dd1f24345bd">Ms::Chord::_notes</a></div><div class="ttdeci">std::vector&lt; Note * &gt; _notes</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00056">chord.h:56</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ad0d02a12648d15876d220b494b63ba0e"><div class="ttname"><a href="classMs_1_1Chord.html#ad0d02a12648d15876d220b494b63ba0e">Ms::Chord::_stemSlash</a></div><div class="ttdeci">StemSlash * _stemSlash</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00061">chord.h:61</a></div></div>
<div class="ttc" id="namespaceMs_html_a8886182157e4e29202c1b22bbdc76ecb"><div class="ttname"><a href="namespaceMs.html#a8886182157e4e29202c1b22bbdc76ecb">Ms::toSpannerSegment</a></div><div class="ttdeci">static SpannerSegment * toSpannerSegment(ScoreElement *e)</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00475">scoreElement.h:475</a></div></div>
<div class="ttc" id="stringdata_8h_html"><div class="ttname"><a href="stringdata_8h.html">stringdata.h</a></div></div>
<div class="ttc" id="classMs_1_1MScore_html_a8ced5e60a13414aea24dc6d2259c554d"><div class="ttname"><a href="classMs_1_1MScore.html#a8ced5e60a13414aea24dc6d2259c554d">Ms::MScore::useFallbackFont</a></div><div class="ttdeci">static bool useFallbackFont</div><div class="ttdef"><b>Definition:</b> <a href="mscore_8h_source.html#l00364">mscore.h:364</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a480cf37fc1ac8fe3b97381dd8035552e"><div class="ttname"><a href="classMs_1_1Chord.html#a480cf37fc1ac8fe3b97381dd8035552e">Ms::Chord::noteType</a></div><div class="ttdeci">NoteType noteType() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00178">chord.h:178</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_a8573023e9149c33b1dc28e8e841e21ca"><div class="ttname"><a href="classMs_1_1StaffType.html#a8573023e9149c33b1dc28e8e841e21ca">Ms::StaffType::lineDistance</a></div><div class="ttdeci">Spatium lineDistance() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00294">stafftype.h:294</a></div></div>
<div class="ttc" id="classMs_1_1Fingering_html"><div class="ttname"><a href="classMs_1_1Fingering.html">Ms::Fingering</a></div><div class="ttdef"><b>Definition:</b> <a href="fingering_8h_source.html#l00024">fingering.h:24</a></div></div>
<div class="ttc" id="namespaceMs_html_af5e4ec7a183fe9ea39bfb81888efbde2a041a6576108c698d49d54b7603d34271"><div class="ttname"><a href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a041a6576108c698d49d54b7603d34271">Ms::IconType::GRACE32</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_ad9263bf173856b77421e83a48a7bf68ca68a1baf6d6e825773e6dc8cdaf7b1dba"><div class="ttname"><a href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68ca68a1baf6d6e825773e6dc8cdaf7b1dba">Ms::TDuration::DurationType::V_WHOLE</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a20163c8fc284ff06c00570f4fd26fb7a"><div class="ttname"><a href="classMs_1_1Chord.html#a20163c8fc284ff06c00570f4fd26fb7a">Ms::Chord::sortNotes</a></div><div class="ttdeci">void sortNotes()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03081">chord.cpp:3081</a></div></div>
<div class="ttc" id="classMs_1_1Tie_html_acf72f934562e0b3b45f9e8984d0dd970"><div class="ttname"><a href="classMs_1_1Tie.html#acf72f934562e0b3b45f9e8984d0dd970">Ms::Tie::layoutFor</a></div><div class="ttdeci">TieSegment * layoutFor(System *)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2tie_8cpp_source.html#l00640">tie.cpp:640</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a8958a6a6eae050f1d0edb09eecc5ee80"><div class="ttname"><a href="classMs_1_1Chord.html#a8958a6a6eae050f1d0edb09eecc5ee80">Ms::Chord::getProperty</a></div><div class="ttdeci">QVariant getProperty(Pid propertyId) const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02755">chord.cpp:2755</a></div></div>
<div class="ttc" id="namespaceMs_html_a6b5aa179fb8d7a11ec316c01a2fdf6e1a61a96ffcb251bb9bf0abf8fec19d0ea8"><div class="ttname"><a href="namespaceMs.html#a6b5aa179fb8d7a11ec316c01a2fdf6e1a61a96ffcb251bb9bf0abf8fec19d0ea8">Ms::CapellaType::TEXT</a></div></div>
<div class="ttc" id="classMs_1_1Instrument_html_a212a6cb5bd1c9382df7ef53a92f3d9db"><div class="ttname"><a href="classMs_1_1Instrument.html#a212a6cb5bd1c9382df7ef53a92f3d9db">Ms::Instrument::stringData</a></div><div class="ttdeci">const StringData * stringData() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2instrument_8h_source.html#l00333">instrument.h:333</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html"><div class="ttname"><a href="classMs_1_1StaffType.html">Ms::StaffType</a></div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00177">stafftype.h:177</a></div></div>
<div class="ttc" id="classMs_1_1Beam_html_affab6e5059fcaefb7b25c31fd2d0e6feab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="classMs_1_1Beam.html#affab6e5059fcaefb7b25c31fd2d0e6feab50339a10e1de285ac99d4c3990b8693">Ms::Beam::Mode::NONE</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_ad9263bf173856b77421e83a48a7bf68cac5f539d8ae1a90e7d2c1489ae20048dc"><div class="ttname"><a href="classMs_1_1TDuration.html#ad9263bf173856b77421e83a48a7bf68cac5f539d8ae1a90e7d2c1489ae20048dc">Ms::TDuration::DurationType::V_HALF</a></div></div>
<div class="ttc" id="system_8h_html"><div class="ttname"><a href="system_8h.html">system.h</a></div><div class="ttdoc">Definition of classes SysStaff and System. </div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a193dcef0255ba5fd669c04fc1beb8963"><div class="ttname"><a href="classMs_1_1ChordRest.html#a193dcef0255ba5fd669c04fc1beb8963">Ms::ChordRest::nextSegmentElement</a></div><div class="ttdeci">virtual Element * nextSegmentElement() override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l01166">chordrest.cpp:1166</a></div></div>
<div class="ttc" id="mscore_8h_html"><div class="ttname"><a href="mscore_8h.html">mscore.h</a></div></div>
<div class="ttc" id="classMs_1_1Articulation_html_a3eb46109267882cfca14ea94f1aab632"><div class="ttname"><a href="classMs_1_1Articulation.html#a3eb46109267882cfca14ea94f1aab632">Ms::Articulation::up</a></div><div class="ttdeci">bool up() const</div><div class="ttdef"><b>Definition:</b> <a href="articulation_8h_source.html#l00110">articulation.h:110</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea08475dd564889172f649102407b793ee"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea08475dd564889172f649102407b793ee">Ms::Sid::propertyDistance</a></div></div>
<div class="ttc" id="namespaceMs_html_a1d19008c03cb6d496010a5451a9a5e71a2200becb80f0019c4a2ccecec350d0db"><div class="ttname"><a href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71a2200becb80f0019c4a2ccecec350d0db">Ms::CrossMeasure::SECOND</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_abd73f16e79d341245a0b408b68b1298b"><div class="ttname"><a href="classMs_1_1Chord.html#abd73f16e79d341245a0b408b68b1298b">Ms::Chord::prevElement</a></div><div class="ttdeci">Element * prevElement() override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03242">chord.cpp:3242</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_afa6b543d5f66f5e9c6b216bddf9c4afd"><div class="ttname"><a href="classMs_1_1Chord.html#afa6b543d5f66f5e9c6b216bddf9c4afd">Ms::Chord::hook</a></div><div class="ttdeci">Hook * hook() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00165">chord.h:165</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ac66fa59296b4aafe704d271383c67b50"><div class="ttname"><a href="classMs_1_1Note.html#ac66fa59296b4aafe704d271383c67b50">Ms::Note::noteheadCenterX</a></div><div class="ttdeci">qreal noteheadCenterX() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l00980">note.cpp:980</a></div></div>
<div class="ttc" id="namespaceMs_html_a166cb7869869e9a2da70f6e7807b3f36"><div class="ttname"><a href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36">Ms::TremoloChordType</a></div><div class="ttdeci">TremoloChordType</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00038">chord.h:38</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9eae1a1c6cbb6e3b95d0bc07d0da312c272"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9eae1a1c6cbb6e3b95d0bc07d0da312c272">Ms::ElementType::GLISSANDO_SEGMENT</a></div></div>
<div class="ttc" id="namespaceMs_html_a602ef082ffbbe2c4b11e2375cc4aa794aeab244836adffdeef9573f36a3baba75"><div class="ttname"><a href="namespaceMs.html#a602ef082ffbbe2c4b11e2375cc4aa794aeab244836adffdeef9573f36a3baba75">Ms::SymId::noteheadBlack</a></div></div>
<div class="ttc" id="classMs_1_1SlurTie_html_a603f4e019fb851cdebd3520941e325ab"><div class="ttname"><a href="classMs_1_1SlurTie.html#a603f4e019fb851cdebd3520941e325ab">Ms::SlurTie::up</a></div><div class="ttdeci">bool up() const</div><div class="ttdef"><b>Definition:</b> <a href="slurtie_8h_source.html#l00147">slurtie.h:147</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a58158af60d26094dea8eb778222e6d44"><div class="ttname"><a href="classMs_1_1Chord.html#a58158af60d26094dea8eb778222e6d44">Ms::Chord::readProperties</a></div><div class="ttdeci">bool readProperties(XmlReader &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01055">chord.cpp:1055</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_af32bfc79ddc9bb0c30b72de0e8f3eed6"><div class="ttname"><a href="classMs_1_1ChordRest.html#af32bfc79ddc9bb0c30b72de0e8f3eed6">Ms::ChordRest::beam</a></div><div class="ttdeci">virtual Beam * beam() const final</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00094">chordrest.h:94</a></div></div>
<div class="ttc" id="classMs_1_1SlurSegment_html"><div class="ttname"><a href="classMs_1_1SlurSegment.html">Ms::SlurSegment</a></div><div class="ttdoc">a single segment of slur; also used for Tie </div><div class="ttdef"><b>Definition:</b> <a href="slur_8h_source.html#l00025">slur.h:25</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a7788567e5b88177802f3941cfb1dda11"><div class="ttname"><a href="classMs_1_1Chord.html#a7788567e5b88177802f3941cfb1dda11">Ms::Chord::layout2</a></div><div class="ttdeci">void layout2()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01658">chord.cpp:1658</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a9f91ce44289781c10fbaab9f5867d387"><div class="ttname"><a href="classMs_1_1Element.html#a9f91ce44289781c10fbaab9f5867d387">Ms::Element::visible</a></div><div class="ttdeci">bool visible() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00221">element.h:221</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ab7797a988fe44529744004d9544fc7af"><div class="ttname"><a href="classMs_1_1Element.html#ab7797a988fe44529744004d9544fc7af">Ms::Element::onTabStaff</a></div><div class="ttdeci">bool onTabStaff() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00298">element.cpp:298</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ab44f03e5f7f0e72cccf3be5d218de402"><div class="ttname"><a href="classMs_1_1Note.html#ab44f03e5f7f0e72cccf3be5d218de402">Ms::Note::disconnectTiedNotes</a></div><div class="ttdeci">void disconnectTiedNotes()</div><div class="ttdef"><b>Definition:</b> <a href="note_8cpp_source.html#l03439">note.cpp:3439</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea08ccce115f7a209d8b31c159d08ac4b5"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea08ccce115f7a209d8b31c159d08ac4b5">Ms::Sid::shortStemProgression</a></div></div>
<div class="ttc" id="namespaceMs_html_a05776eecab3e8f84c45f571328f47a14"><div class="ttname"><a href="namespaceMs.html#a05776eecab3e8f84c45f571328f47a14">Ms::prevChordRest</a></div><div class="ttdeci">ChordRest * prevChordRest(ChordRest *cr, bool skipGrace)</div><div class="ttdef"><b>Definition:</b> <a href="navigate_8cpp_source.html#l00117">navigate.cpp:117</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a6071a1241456ef93c8a06c62269090a7"><div class="ttname"><a href="classMs_1_1Chord.html#a6071a1241456ef93c8a06c62269090a7">Ms::Chord::isGrace</a></div><div class="ttdeci">bool isGrace() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00180">chord.h:180</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_afe64864ef4d506a2f678f3a130b09f71"><div class="ttname"><a href="classMs_1_1StaffType.html#afe64864ef4d506a2f678f3a130b09f71">Ms::StaffType::numOfTabLedgerLines</a></div><div class="ttdeci">int numOfTabLedgerLines(int string) const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8cpp_source.html#l00774">stafftype.cpp:774</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a6ef9e26b4ec9e2de85f48e73dda1d1aa"><div class="ttname"><a href="classMs_1_1Score.html#a6ef9e26b4ec9e2de85f48e73dda1d1aa">Ms::Score::selectionFilter</a></div><div class="ttdeci">SelectionFilter &amp; selectionFilter()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00832">score.h:832</a></div></div>
<div class="ttc" id="classMs_1_1TabDurationSymbol_html_ad9ba46ad3db2deb9f9bb69735d07e347"><div class="ttname"><a href="classMs_1_1TabDurationSymbol.html#ad9ba46ad3db2deb9f9bb69735d07e347">Ms::TabDurationSymbol::setRepeat</a></div><div class="ttdeci">void setRepeat(bool val)</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00453">stafftype.h:453</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a8fb5d95337507f05b0ae6c70a4dc9a78"><div class="ttname"><a href="classMs_1_1Chord.html#a8fb5d95337507f05b0ae6c70a4dc9a78">Ms::Chord::findNote</a></div><div class="ttdeci">Note * findNote(int pitch, int skip=0) const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02612">chord.cpp:2612</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ae6537c2f627d64a0a1cfe5fe925063f7"><div class="ttname"><a href="classMs_1_1Chord.html#ae6537c2f627d64a0a1cfe5fe925063f7">Ms::Chord::_playEventType</a></div><div class="ttdeci">PlayEventType _playEventType</div><div class="ttdoc">play events were modified by user </div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00072">chord.h:72</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aa1c65a7f3a3704de2d1a3e0b8d6c1b64"><div class="ttname"><a href="classMs_1_1Chord.html#aa1c65a7f3a3704de2d1a3e0b8d6c1b64">Ms::Chord::toGraceAfter</a></div><div class="ttdeci">void toGraceAfter()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03123">chord.cpp:3123</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655ac6e6dc18b53b4c2681394b9d8aefcec7"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655ac6e6dc18b53b4c2681394b9d8aefcec7">Ms::Pid::FIXED</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a6f4204d12e78c77052520492ae4416cd"><div class="ttname"><a href="classMs_1_1Element.html#a6f4204d12e78c77052520492ae4416cd">Ms::Element::setGenerated</a></div><div class="ttdeci">void setGenerated(bool val)</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00235">element.h:235</a></div></div>
<div class="ttc" id="classMs_1_1DurationElement_html_a5eae2d4a8a4a01245e2a18d97ee7988a"><div class="ttname"><a href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">Ms::DurationElement::tuplet</a></div><div class="ttdeci">Tuplet * tuplet() const</div><div class="ttdef"><b>Definition:</b> <a href="duration_8h_source.html#l00050">duration.h:50</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html"><div class="ttname"><a href="classMs_1_1Staff.html">Ms::Staff</a></div><div class="ttdoc">Global staff data not directly related to drawing. </div><div class="ttdef"><b>Definition:</b> <a href="staff_8h_source.html#l00063">staff.h:63</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a48aafab3949759f1893250ac7d71d2ae"><div class="ttname"><a href="classMs_1_1Chord.html#a48aafab3949759f1893250ac7d71d2ae">Ms::Chord::accessibleExtraInfo</a></div><div class="ttdeci">QString accessibleExtraInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03344">chord.cpp:3344</a></div></div>
<div class="ttc" id="lyrics_8h_html"><div class="ttname"><a href="lyrics_8h.html">lyrics.h</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a8b3be86196659c2e0fb6ed86256cb0fe"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a8b3be86196659c2e0fb6ed86256cb0fe">Ms::ScoreElement::readProperty</a></div><div class="ttdeci">bool readProperty(const QStringRef &amp;, XmlReader &amp;, Pid)</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8cpp_source.html#l00386">scoreElement.cpp:386</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a88d1556bac485bde9b2d6ae3c1e6bd77"><div class="ttname"><a href="classMs_1_1Score.html#a88d1556bac485bde9b2d6ae3c1e6bd77">Ms::Score::undoAddElement</a></div><div class="ttdeci">void undoAddElement(Element *element)</div><div class="ttdef"><b>Definition:</b> <a href="edit_8cpp_source.html#l04406">edit.cpp:4406</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a1c4c00c6b1052c6c122f5fc665ec8a20"><div class="ttname"><a href="classMs_1_1Segment.html#a1c4c00c6b1052c6c122f5fc665ec8a20">Ms::Segment::next</a></div><div class="ttdeci">Segment * next() const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00085">segment.h:85</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a68b1fd6dd0a9d1bb28c7746b37bd8157"><div class="ttname"><a href="classMs_1_1Chord.html#a68b1fd6dd0a9d1bb28c7746b37bd8157">Ms::Chord::remove</a></div><div class="ttdeci">Q_INVOKABLE void remove(Ms::Element *) override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00603">chord.cpp:603</a></div></div>
<div class="ttc" id="namespaceMs_html_a166cb7869869e9a2da70f6e7807b3f36a75c61ce112260a5572614c6b23e96829"><div class="ttname"><a href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36a75c61ce112260a5572614c6b23e96829">Ms::TremoloChordType::TremoloSingle</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a660983b43143b9a1aa6d883e39d0fc81"><div class="ttname"><a href="classMs_1_1Chord.html#a660983b43143b9a1aa6d883e39d0fc81">Ms::Chord::stemPosX</a></div><div class="ttdeci">qreal stemPosX() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00379">chord.cpp:379</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ad4608ce52672a6b42930af320d9de2ef"><div class="ttname"><a href="classMs_1_1Element.html#ad4608ce52672a6b42930af320d9de2ef">Ms::Element::rtick</a></div><div class="ttdeci">virtual Fraction rtick() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00336">element.cpp:336</a></div></div>
<div class="ttc" id="slur_8h_html"><div class="ttname"><a href="slur_8h.html">slur.h</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a2f39b6dcebfe8d621c3ac82cbce6a159"><div class="ttname"><a href="classMs_1_1ChordRest.html#a2f39b6dcebfe8d621c3ac82cbce6a159">Ms::ChordRest::beams</a></div><div class="ttdeci">int beams() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00095">chordrest.h:95</a></div></div>
<div class="ttc" id="classMs_1_1TextBase_html_a26aa5eb322375f093ff39146890478d4"><div class="ttname"><a href="classMs_1_1TextBase.html#a26aa5eb322375f093ff39146890478d4">Ms::TextBase::tid</a></div><div class="ttdeci">Tid tid() const</div><div class="ttdef"><b>Definition:</b> <a href="textbase_8h_source.html#l00388">textbase.h:388</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a6f850cd0581c46bee4661210b7a7777c"><div class="ttname"><a href="classMs_1_1Element.html#a6f850cd0581c46bee4661210b7a7777c">Ms::Element::x</a></div><div class="ttdeci">virtual qreal x() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00244">element.h:244</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a834c480b1e0de160c0696778c9088a14"><div class="ttname"><a href="classMs_1_1Chord.html#a834c480b1e0de160c0696778c9088a14">Ms::Chord::downLine</a></div><div class="ttdeci">int downLine() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00148">chord.cpp:148</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_adb0e0d60086c88bf8f663bd36c49bbd6"><div class="ttname"><a href="classMs_1_1Tremolo.html#adb0e0d60086c88bf8f663bd36c49bbd6">Ms::Tremolo::layout</a></div><div class="ttdeci">void layout() override</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8cpp_source.html#l00482">tremolo.cpp:482</a></div></div>
<div class="ttc" id="namespaceMs_html_a2410ba6b8645516fa7f4e2446551da5bab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="namespaceMs.html#a2410ba6b8645516fa7f4e2446551da5bab50339a10e1de285ac99d4c3990b8693">Ms::TablatureMinimStyle::NONE</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a3dbb763c3cd4ec05d202d03115abe1d5"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a3dbb763c3cd4ec05d202d03115abe1d5">Ms::ScoreElement::type</a></div><div class="ttdeci">virtual ElementType type() const =0</div></div>
<div class="ttc" id="classMs_1_1Element_html_aedd1f66a4881665f277bc30fefe765b2"><div class="ttname"><a href="classMs_1_1Element.html#aedd1f66a4881665f277bc30fefe765b2">Ms::Element::flag</a></div><div class="ttdeci">bool flag(ElementFlag f) const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00216">element.h:216</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ac6de5396245de170e0755ff569862fd8"><div class="ttname"><a href="classMs_1_1Chord.html#ac6de5396245de170e0755ff569862fd8">Ms::Chord::addLedgerLines</a></div><div class="ttdeci">void addLedgerLines()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00694">chord.cpp:694</a></div></div>
<div class="ttc" id="classMs_1_1Articulation_html_a9f8bcd782a86f98c168bca5cddf08306"><div class="ttname"><a href="classMs_1_1Articulation.html#a9f8bcd782a86f98c168bca5cddf08306">Ms::Articulation::setUp</a></div><div class="ttdeci">void setUp(bool val)</div><div class="ttdef"><b>Definition:</b> <a href="articulation_8cpp_source.html#l00089">articulation.cpp:89</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a31164d5f203926c37f06a5ae8832793d"><div class="ttname"><a href="classMs_1_1ChordRest.html#a31164d5f203926c37f06a5ae8832793d">Ms::ChordRest::_crossMeasure</a></div><div class="ttdeci">CrossMeasure _crossMeasure</div><div class="ttdoc">0: no cross-measure modification; 1: 1st note of a mod.; -1: 2nd note </div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00067">chordrest.h:67</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eac4ccd46e43603bcdaced30856a7b9034"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eac4ccd46e43603bcdaced30856a7b9034">Ms::Sid::ArpeggioNoteDistance</a></div></div>
<div class="ttc" id="classMs_1_1Shape_html_ac4685ed835d615eb01d0e5ee6093be6ca33a39bc3e14d74d001f9ddfc981a302e"><div class="ttname"><a href="classMs_1_1Shape.html#ac4685ed835d615eb01d0e5ee6093be6ca33a39bc3e14d74d001f9ddfc981a302e">Ms::Shape::SPACING_GENERAL</a></div><div class="ttdef"><b>Definition:</b> <a href="shape_8h_source.html#l00046">shape.h:46</a></div></div>
<div class="ttc" id="classMs_1_1Symbol_html_a18cdf55bf00a27df92cf4938f9683bef"><div class="ttname"><a href="classMs_1_1Symbol.html#a18cdf55bf00a27df92cf4938f9683bef">Ms::Symbol::read</a></div><div class="ttdeci">void read(XmlReader &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="symbol_8cpp_source.html#l00111">symbol.cpp:111</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_aaa704d32c5e4253d54d722276f507e2d"><div class="ttname"><a href="classMs_1_1ChordRest.html#aaa704d32c5e4253d54d722276f507e2d">Ms::ChordRest::measure</a></div><div class="ttdeci">virtual Measure * measure() const =0</div></div>
<div class="ttc" id="classMs_1_1Part_html_a6cae82662abe64d683dff09b3c7874f8"><div class="ttname"><a href="classMs_1_1Part.html#a6cae82662abe64d683dff09b3c7874f8">Ms::Part::instrument</a></div><div class="ttdeci">Instrument * instrument(Fraction={ -1, 1 })</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2part_8cpp_source.html#l00334">part.cpp:334</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655a1b8a8605d2ff5670a215e55c6645e0d9"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a1b8a8605d2ff5670a215e55c6645e0d9">Ms::Pid::OFFSET</a></div></div>
<div class="ttc" id="classMs_1_1DurationElement_html_a3791beed710457022daf6619f31a1eeb"><div class="ttname"><a href="classMs_1_1DurationElement.html#a3791beed710457022daf6619f31a1eeb">Ms::DurationElement::actualTicks</a></div><div class="ttdeci">Fraction actualTicks() const</div><div class="ttdef"><b>Definition:</b> <a href="duration_8cpp_source.html#l00087">duration.cpp:87</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a3c37abb86b5dfb5b16fe74155154bab8"><div class="ttname"><a href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">Ms::Element::staffIdx</a></div><div class="ttdeci">int staffIdx() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00357">element.h:357</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_ac964c37590bb20f1a307477d9e973f13"><div class="ttname"><a href="classMs_1_1Tremolo.html#ac964c37590bb20f1a307477d9e973f13">Ms::Tremolo::localSpatiumChanged</a></div><div class="ttdeci">void localSpatiumChanged(qreal oldValue, qreal newValue) override</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8cpp_source.html#l00165">tremolo.cpp:165</a></div></div>
<div class="ttc" id="namespaceMs_html_a602ef082ffbbe2c4b11e2375cc4aa794a5ee0e29ffc169dce11cf7b40b5d0903a"><div class="ttname"><a href="namespaceMs.html#a602ef082ffbbe2c4b11e2375cc4aa794a5ee0e29ffc169dce11cf7b40b5d0903a">Ms::SymId::articMarcatoAbove</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_ac50a2989556e5cd55b71ca4c98067492"><div class="ttname"><a href="classMs_1_1ChordRest.html#ac50a2989556e5cd55b71ca4c98067492">Ms::ChordRest::setTrack</a></div><div class="ttdeci">virtual void setTrack(int val) override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00995">chordrest.cpp:995</a></div></div>
<div class="ttc" id="classMs_1_1Shape_html_a317e21df057a3f52374e2ae9c487c361"><div class="ttname"><a href="classMs_1_1Shape.html#a317e21df057a3f52374e2ae9c487c361">Ms::Shape::minVerticalDistance</a></div><div class="ttdeci">qreal minVerticalDistance(const Shape &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="shape_8cpp_source.html#l00106">shape.cpp:106</a></div></div>
<div class="ttc" id="drumset_8h_html"><div class="ttname"><a href="drumset_8h.html">drumset.h</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9ea141d482ba54ffebf46888e52db8db725"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea141d482ba54ffebf46888e52db8db725">Ms::ElementType::TIE_SEGMENT</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ad46a1fa8985b3d3897101b295a7a5d3e"><div class="ttname"><a href="classMs_1_1Element.html#ad46a1fa8985b3d3897101b295a7a5d3e">Ms::Element::shape</a></div><div class="ttdeci">virtual Shape shape() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00290">element.h:290</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_a8c3babe2c79455987254d9d809c109b9"><div class="ttname"><a href="classMs_1_1StaffType.html#a8c3babe2c79455987254d9d809c109b9">Ms::StaffType::chordStemPosX</a></div><div class="ttdeci">qreal chordStemPosX(const Chord *) const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00402">stafftype.h:402</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a085dc30a4daa69c394cd0031221d33dc"><div class="ttname"><a href="classMs_1_1Chord.html#a085dc30a4daa69c394cd0031221d33dc">Ms::Chord::layoutArticulations</a></div><div class="ttdeci">void layoutArticulations()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03426">chord.cpp:3426</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_aa16f7cda08b815e078d628c491f6709a"><div class="ttname"><a href="classMs_1_1ChordRest.html#aa16f7cda08b815e078d628c491f6709a">Ms::ChordRest::writeProperties</a></div><div class="ttdeci">virtual void writeProperties(XmlWriter &amp;xml) const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00144">chordrest.cpp:144</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html"><div class="ttname"><a href="classMs_1_1TDuration.html">Ms::TDuration</a></div><div class="ttdef"><b>Definition:</b> <a href="durationtype_8h_source.html#l00028">durationtype.h:28</a></div></div>
<div class="ttc" id="classMs_1_1Drumset_html"><div class="ttname"><a href="classMs_1_1Drumset.html">Ms::Drumset</a></div><div class="ttdef"><b>Definition:</b> <a href="drumset_8h_source.html#l00068">drumset.h:68</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_ae31dc0de799c1e206af979e65bf837ab"><div class="ttname"><a href="classMs_1_1Staff.html#ae31dc0de799c1e206af979e65bf837ab">Ms::Staff::part</a></div><div class="ttdeci">Part * part() const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8h_source.html#l00122">staff.h:122</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a8a5728af14a2e7b599dabe6df851858d"><div class="ttname"><a href="classMs_1_1Chord.html#a8a5728af14a2e7b599dabe6df851858d">Ms::Chord::layoutStem</a></div><div class="ttdeci">void layoutStem()</div><div class="ttdoc">Layout chord tremolo stem and hook. </div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01533">chord.cpp:1533</a></div></div>
<div class="ttc" id="classMs_1_1ElementList_html_ace6e9dd48aaec6c43014153b4697d9e3"><div class="ttname"><a href="classMs_1_1ElementList.html#ace6e9dd48aaec6c43014153b4697d9e3">Ms::ElementList::remove</a></div><div class="ttdeci">bool remove(Element *)</div><div class="ttdoc">Remove el from the list. Return true on success. </div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00816">element.cpp:816</a></div></div>
<div class="ttc" id="classMs_1_1Drumset_html_aba68558b6c961c97ae76fa3e05598c2b"><div class="ttname"><a href="classMs_1_1Drumset.html#aba68558b6c961c97ae76fa3e05598c2b">Ms::Drumset::stemDirection</a></div><div class="ttdeci">Direction stemDirection(int pitch) const</div><div class="ttdef"><b>Definition:</b> <a href="drumset_8h_source.html#l00077">drumset.h:77</a></div></div>
<div class="ttc" id="namespaceMs_html_a7517990a2c1db0b183c312178db72ef3"><div class="ttname"><a href="namespaceMs.html#a7517990a2c1db0b183c312178db72ef3">Ms::noteIsBefore</a></div><div class="ttdeci">static bool noteIsBefore(const Note *n1, const Note *n2)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03054">chord.cpp:3054</a></div></div>
<div class="ttc" id="libmscore_2style_8h_html"><div class="ttname"><a href="libmscore_2style_8h.html">style.h</a></div></div>
<div class="ttc" id="namespaceMs_html_a1d19008c03cb6d496010a5451a9a5e71ab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71ab50339a10e1de285ac99d4c3990b8693">Ms::CrossMeasure::NONE</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a488cf820c912a7eb8fd1d4f80cb74e7a"><div class="ttname"><a href="classMs_1_1ChordRest.html#a488cf820c912a7eb8fd1d4f80cb74e7a">Ms::ChordRest::remove</a></div><div class="ttdeci">virtual void remove(Element *)</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00772">chordrest.cpp:772</a></div></div>
<div class="ttc" id="stafftype_8h_html_a463cf6778b863ac76f2698f5a08b9e7d"><div class="ttname"><a href="stafftype_8h.html#a463cf6778b863ac76f2698f5a08b9e7d">STAFFTYPE_TAB_DEFAULTDOTDIST_X</a></div><div class="ttdeci">#define STAFFTYPE_TAB_DEFAULTDOTDIST_X</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00038">stafftype.h:38</a></div></div>
<div class="ttc" id="classMs_1_1Arpeggio_html_ab53225de392b4269ee0329a6ad0e046d"><div class="ttname"><a href="classMs_1_1Arpeggio.html#ab53225de392b4269ee0329a6ad0e046d">Ms::Arpeggio::layout</a></div><div class="ttdeci">void layout() override</div><div class="ttdef"><b>Definition:</b> <a href="arpeggio_8cpp_source.html#l00134">arpeggio.cpp:134</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8c67e283f1d018f9b2061d285ba877ce">Ms::Sid::minNoteDistance</a></div></div>
<div class="ttc" id="classMs_1_1Fingering_html_ab204d8fc9e7842c1798326888039c13f"><div class="ttname"><a href="classMs_1_1Fingering.html#ab204d8fc9e7842c1798326888039c13f">Ms::Fingering::layoutType</a></div><div class="ttdeci">ElementType layoutType()</div><div class="ttdef"><b>Definition:</b> <a href="fingering_8cpp_source.html#l00057">fingering.cpp:57</a></div></div>
<div class="ttc" id="namespaceMs_html_a166cb7869869e9a2da70f6e7807b3f36a8e6aa6d38452bfd6de56b1d80dc45d8e"><div class="ttname"><a href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36a8e6aa6d38452bfd6de56b1d80dc45d8e">Ms::TremoloChordType::TremoloFirstNote</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a779aba8a88583ef97133c2bfb901edcb"><div class="ttname"><a href="classMs_1_1Chord.html#a779aba8a88583ef97133c2bfb901edcb">Ms::Chord::_hook</a></div><div class="ttdeci">Hook * _hook</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00060">chord.h:60</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a75e2a78efa5ef9ea261ac75009def7fc"><div class="ttname"><a href="classMs_1_1Chord.html#a75e2a78efa5ef9ea261ac75009def7fc">Ms::Chord::setNoStem</a></div><div class="ttdeci">void setNoStem(bool val)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00191">chord.h:191</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9ea45d886b842022787183a308e0200d336"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea45d886b842022787183a308e0200d336">Ms::ElementType::CHORD</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_ac0189828ce7ef909320a45aa6f9a8644"><div class="ttname"><a href="classMs_1_1StaffType.html#ac0189828ce7ef909320a45aa6f9a8644">Ms::StaffType::chordStemLength</a></div><div class="ttdeci">qreal chordStemLength(const Chord *) const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8cpp_source.html#l00610">stafftype.cpp:610</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_a2535725d2eb2060f255dda68d6d62d8a"><div class="ttname"><a href="classMs_1_1TDuration.html#a2535725d2eb2060f255dda68d6d62d8a">Ms::TDuration::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="durationtype_8h_source.html#l00049">durationtype.h:49</a></div></div>
<div class="ttc" id="classMs_1_1SysStaff_html_a707b63d183a730d81ff37aa45a22814c"><div class="ttname"><a href="classMs_1_1SysStaff.html#a707b63d183a730d81ff37aa45a22814c">Ms::SysStaff::skyline</a></div><div class="ttdeci">const Skyline &amp; skyline() const</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00076">system.h:76</a></div></div>
<div class="ttc" id="classMs_1_1TDuration_html_a11652d3de9232ccf4fb664758fecfaf3"><div class="ttname"><a href="classMs_1_1TDuration.html#a11652d3de9232ccf4fb664758fecfaf3">Ms::TDuration::hooks</a></div><div class="ttdeci">int hooks() const</div><div class="ttdef"><b>Definition:</b> <a href="durationtype_8cpp_source.html#l00204">durationtype.cpp:204</a></div></div>
<div class="ttc" id="key_8h_html"><div class="ttname"><a href="key_8h.html">key.h</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_af6cfd36f9d571c4d7bbc93f474483ded"><div class="ttname"><a href="classMs_1_1ChordRest.html#af6cfd36f9d571c4d7bbc93f474483ded">Ms::ChordRest::el</a></div><div class="ttdeci">ElementList &amp; el()</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00149">chordrest.h:149</a></div></div>
<div class="ttc" id="namespaceMs_html_a6d8f7f5dbb7c772d54ef4d15a61bb668"><div class="ttname"><a href="namespaceMs.html#a6d8f7f5dbb7c772d54ef4d15a61bb668">Ms::track2voice</a></div><div class="ttdeci">int track2voice(int track)</div><div class="ttdef"><b>Definition:</b> <a href="mscore_8h_source.html#l00079">mscore.h:79</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a2c1a9c099f5bd7aa4889202975aa8b02"><div class="ttname"><a href="classMs_1_1ChordRest.html#a2c1a9c099f5bd7aa4889202975aa8b02">Ms::ChordRest::setSmall</a></div><div class="ttdeci">void setSmall(bool val)</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00389">chordrest.cpp:389</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a07ee676c61ad4e0e32d49142c7aa1b4e"><div class="ttname"><a href="classMs_1_1Chord.html#a07ee676c61ad4e0e32d49142c7aa1b4e">Ms::Chord::type</a></div><div class="ttdeci">ElementType type() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00100">chord.h:100</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_afefde3d20b28b136ba09ca9fa91a9c29"><div class="ttname"><a href="classMs_1_1Chord.html#afefde3d20b28b136ba09ca9fa91a9c29">Ms::Chord::_tremolo</a></div><div class="ttdeci">Tremolo * _tremolo</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00064">chord.h:64</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655a9b9c17e13f0e3dc9860a26e08b59b2a7"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655a9b9c17e13f0e3dc9860a26e08b59b2a7">Ms::Pid::SMALL</a></div></div>
<div class="ttc" id="classMs_1_1Instrument_html"><div class="ttname"><a href="classMs_1_1Instrument.html">Ms::Instrument</a></div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2instrument_8h_source.html#l00257">instrument.h:257</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_ae2030e1febd41fe2fff7e8f56a75b424"><div class="ttname"><a href="classMs_1_1Staff.html#ae2030e1febd41fe2fff7e8f56a75b424">Ms::Staff::invisible</a></div><div class="ttdeci">bool invisible(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l01563">staff.cpp:1563</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_aef64b1d3c29d7fcb81061bf5bece921a"><div class="ttname"><a href="classMs_1_1ChordRest.html#aef64b1d3c29d7fcb81061bf5bece921a">Ms::ChordRest::isGraceBefore</a></div><div class="ttdeci">bool isGraceBefore() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00922">chordrest.cpp:922</a></div></div>
<div class="ttc" id="beam_8h_html"><div class="ttname"><a href="beam_8h.html">beam.h</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a69e9ec83b46d8fbe7e1f1812b5067a22"><div class="ttname"><a href="classMs_1_1ChordRest.html#a69e9ec83b46d8fbe7e1f1812b5067a22">Ms::ChordRest::setProperty</a></div><div class="ttdeci">virtual bool setProperty(Pid propertyId, const QVariant &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00863">chordrest.cpp:863</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_aa5068302dd057f7cd18cdf561b75d18f"><div class="ttname"><a href="classMs_1_1Note.html#aa5068302dd057f7cd18cdf561b75d18f">Ms::Note::string</a></div><div class="ttdeci">int string() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00399">note.h:399</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_aef76600b52257b418be50efb1cf2e702"><div class="ttname"><a href="classMs_1_1Tremolo.html#aef76600b52257b418be50efb1cf2e702">Ms::Tremolo::setDurationType</a></div><div class="ttdeci">void setDurationType(TDuration d)</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00087">tremolo.h:87</a></div></div>
<div class="ttc" id="namespaceMs_html_a2b067d41bac5aceb3682836a79939376"><div class="ttname"><a href="namespaceMs.html#a2b067d41bac5aceb3682836a79939376">Ms::toDurationList</a></div><div class="ttdeci">std::vector&lt; TDuration &gt; toDurationList(Fraction l, bool useDots, int maxDots, bool printRestRemains)</div><div class="ttdef"><b>Definition:</b> <a href="durationtype_8cpp_source.html#l00504">durationtype.cpp:504</a></div></div>
<div class="ttc" id="namespaceMs_html_a704a7cd3b8260ca95e9a99bbabe800c3afa177138f94a7ea01f549b1aa7893d03"><div class="ttname"><a href="namespaceMs.html#a704a7cd3b8260ca95e9a99bbabe800c3afa177138f94a7ea01f549b1aa7893d03">Ms::TablatureSymbolRepeat::SYSTEM</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html_af8652425c81c8cd73578895c1617e436"><div class="ttname"><a href="classMs_1_1StaffType.html#af8652425c81c8cd73578895c1617e436">Ms::StaffType::isDrumStaff</a></div><div class="ttdeci">bool isDrumStaff() const</div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00407">stafftype.h:407</a></div></div>
<div class="ttc" id="classMs_1_1Shape_html_a13e2bf27745a27442dae0382fcfd9197"><div class="ttname"><a href="classMs_1_1Shape.html#a13e2bf27745a27442dae0382fcfd9197">Ms::Shape::addHorizontalSpacing</a></div><div class="ttdeci">void addHorizontalSpacing(HorizontalSpacingType type, qreal left, qreal right)</div><div class="ttdef"><b>Definition:</b> <a href="shape_8cpp_source.html#l00025">shape.cpp:25</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ad6580a129c87fa819e2e615e79b36939"><div class="ttname"><a href="classMs_1_1Chord.html#ad6580a129c87fa819e2e615e79b36939">Ms::Chord::_stemDirection</a></div><div class="ttdeci">Direction _stemDirection</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00069">chord.h:69</a></div></div>
<div class="ttc" id="namespaceMs_html_a175bedec052e1c2fd09257ffde43d847a0dc5c02ab9adfa308008caeaa39d0ea3"><div class="ttname"><a href="namespaceMs.html#a175bedec052e1c2fd09257ffde43d847a0dc5c02ab9adfa308008caeaa39d0ea3">Ms::SelectionFilterType::ARPEGGIO</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_acc7b8669972325c93c8bc7c819a94b28"><div class="ttname"><a href="classMs_1_1ChordRest.html#acc7b8669972325c93c8bc7c819a94b28">Ms::ChordRest::setCrossMeasure</a></div><div class="ttdeci">void setCrossMeasure(CrossMeasure val)</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00153">chordrest.h:153</a></div></div>
<div class="ttc" id="classMs_1_1System_html"><div class="ttname"><a href="classMs_1_1System.html">Ms::System</a></div><div class="ttdoc">One row of measures for all instruments; a complete piece of the timeline. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00089">system.h:89</a></div></div>
<div class="ttc" id="classMs_1_1Score_html"><div class="ttname"><a href="classMs_1_1Score.html">Ms::Score</a></div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00396">score.h:396</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a4c94c4e5f74c1f4ef7a80961204466b7"><div class="ttname"><a href="classMs_1_1Chord.html#a4c94c4e5f74c1f4ef7a80961204466b7">Ms::Chord::rightEdge</a></div><div class="ttdeci">qreal rightEdge() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00444">chord.cpp:444</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_aaa90bc751111ad8ec041e2004321fbfe"><div class="ttname"><a href="classMs_1_1Element.html#aaa90bc751111ad8ec041e2004321fbfe">Ms::Element::reset</a></div><div class="ttdeci">virtual void reset() override</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00252">element.cpp:252</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_aa8125d376017d1808b2ab0211dd7937c"><div class="ttname"><a href="classMs_1_1Chord.html#aa8125d376017d1808b2ab0211dd7937c">Ms::Chord::centerX</a></div><div class="ttdeci">qreal centerX() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l01168">chord.cpp:1168</a></div></div>
<div class="ttc" id="stem_8h_html"><div class="ttname"><a href="stem_8h.html">stem.h</a></div></div>
<div class="ttc" id="namespaceMs_html_a3ca11c21f2fe66a8c8efc1bf0d75ccf2a06b9281e396db002010bde1de57262eb"><div class="ttname"><a href="namespaceMs.html#a3ca11c21f2fe66a8c8efc1bf0d75ccf2a06b9281e396db002010bde1de57262eb">Ms::PlayEventType::Auto</a></div></div>
<div class="ttc" id="namespaceMs_html_aa0f871cf8181cec31d68d20a39010655"><div class="ttname"><a href="namespaceMs.html#aa0f871cf8181cec31d68d20a39010655">Ms::Pid</a></div><div class="ttdeci">Pid</div><div class="ttdef"><b>Definition:</b> <a href="property_8h_source.html#l00061">property.h:61</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a2a8ba8af6817e602c27c154e93542028"><div class="ttname"><a href="classMs_1_1Element.html#a2a8ba8af6817e602c27c154e93542028">Ms::Element::height</a></div><div class="ttdeci">virtual qreal height() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00278">element.h:278</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a251d5169092a1437befbec204fa0efe9"><div class="ttname"><a href="classMs_1_1Measure.html#a251d5169092a1437befbec204fa0efe9">Ms::Measure::last</a></div><div class="ttdeci">Ms::Segment * last() const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8h_source.html#l00153">measure.h:153</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a83c622459f10fe64a40627bd2c8dc42b"><div class="ttname"><a href="classMs_1_1Element.html#a83c622459f10fe64a40627bd2c8dc42b">Ms::Element::staffType</a></div><div class="ttdeci">const StaffType * staffType() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00288">element.cpp:288</a></div></div>
<div class="ttc" id="namespaceMs_html_af5e4ec7a183fe9ea39bfb81888efbde2a0753b2cda2bb413db134fa6acc0b60c2"><div class="ttname"><a href="namespaceMs.html#af5e4ec7a183fe9ea39bfb81888efbde2a0753b2cda2bb413db134fa6acc0b60c2">Ms::IconType::GRACE16</a></div></div>
<div class="ttc" id="namespaceMs_html_a2d43ff9c26edae64d956fd7a345356b4a14128c7820edf23278fe5ab9517285d4"><div class="ttname"><a href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4a14128c7820edf23278fe5ab9517285d4">Ms::ArticulationAnchor::TOP_STAFF</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a1a4d5789b71d29fd2e7c05311638aa7b"><div class="ttname"><a href="classMs_1_1Staff.html#a1a4d5789b71d29fd2e7c05311638aa7b">Ms::Staff::lines</a></div><div class="ttdeci">int lines(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l01535">staff.cpp:1535</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a1277a12746bf12af5cbf79d95ada6a21"><div class="ttname"><a href="classMs_1_1ChordRest.html#a1277a12746bf12af5cbf79d95ada6a21">Ms::ChordRest::drop</a></div><div class="ttdeci">virtual Element * drop(EditData &amp;) override</div><div class="ttdoc">Handle a dropped element at canvas relative pos of given element type and subtype. </div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00407">chordrest.cpp:407</a></div></div>
<div class="ttc" id="classMs_1_1Instrument_html_ac377dcee9176d06151474454b0f3c265"><div class="ttname"><a href="classMs_1_1Instrument.html#ac377dcee9176d06151474454b0f3c265">Ms::Instrument::drumset</a></div><div class="ttdeci">const Drumset * drumset() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2instrument_8h_source.html#l00310">instrument.h:310</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_adc45b084165da6ceb3afa7913d6a3feb"><div class="ttname"><a href="classMs_1_1Element.html#adc45b084165da6ceb3afa7913d6a3feb">Ms::Element::symWidth</a></div><div class="ttdeci">qreal symWidth(SymId id) const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l01569">element.cpp:1569</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ab32fb40d856ad1e61019bb204be33f27"><div class="ttname"><a href="classMs_1_1Chord.html#ab32fb40d856ad1e61019bb204be33f27">Ms::Chord::_noteType</a></div><div class="ttdeci">NoteType _noteType</div><div class="ttdoc">mark grace notes: acciaccatura and appoggiatura </div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00070">chord.h:70</a></div></div>
<div class="ttc" id="namespaceMs_html_a2c92ce0204176ede1ab86e2f44ae6b9ea23a12f67f614b5518c7f1c2465bf95e3"><div class="ttname"><a href="namespaceMs.html#a2c92ce0204176ede1ab86e2f44ae6b9ea23a12f67f614b5518c7f1c2465bf95e3">Ms::ElementType::IMAGE</a></div></div>
<div class="ttc" id="classMs_1_1NoteHead_html_a1d3e8faf3d3bc1d89d9d3485acde69d1"><div class="ttname"><a href="classMs_1_1NoteHead.html#a1d3e8faf3d3bc1d89d9d3485acde69d1">Ms::NoteHead::Group</a></div><div class="ttdeci">Group</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00073">note.h:73</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea2c725c51bee6a640df19c3f6df6a4a39"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea2c725c51bee6a640df19c3f6df6a4a39">Ms::Sid::shortestStem</a></div></div>
<div class="ttc" id="classMs_1_1Slur_html_a91dfda36c3326fba994057fc99166dc6"><div class="ttname"><a href="classMs_1_1Slur.html#a91dfda36c3326fba994057fc99166dc6">Ms::Slur::backSegment</a></div><div class="ttdeci">SlurSegment * backSegment()</div><div class="ttdef"><b>Definition:</b> <a href="slur_8h_source.html#l00072">slur.h:72</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a25ce8bb520ebfc30dabda01530a61d89"><div class="ttname"><a href="classMs_1_1Staff.html#a25ce8bb520ebfc30dabda01530a61d89">Ms::Staff::showLedgerLines</a></div><div class="ttdeci">bool showLedgerLines(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l01180">staff.cpp:1180</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a3ae68f5da280c53fd1d329f20601818b"><div class="ttname"><a href="classMs_1_1Element.html#a3ae68f5da280c53fd1d329f20601818b">Ms::Element::layout</a></div><div class="ttdeci">virtual void layout()</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00370">element.h:370</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_adc4d7b66745fbb0335dc73f0c3996994"><div class="ttname"><a href="classMs_1_1Element.html#adc4d7b66745fbb0335dc73f0c3996994">Ms::Element::bbox</a></div><div class="ttdeci">virtual const QRectF &amp; bbox() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00276">element.h:276</a></div></div>
<div class="ttc" id="tuplet_8h_html"><div class="ttname"><a href="tuplet_8h.html">tuplet.h</a></div></div>
<div class="ttc" id="classMs_1_1Articulation_html_a5d0484b76c9b7660e31ea3beb06670da"><div class="ttname"><a href="classMs_1_1Articulation.html#a5d0484b76c9b7660e31ea3beb06670da">Ms::Articulation::layoutCloseToNote</a></div><div class="ttdeci">bool layoutCloseToNote() const</div><div class="ttdef"><b>Definition:</b> <a href="articulation_8cpp_source.html#l00289">articulation.cpp:289</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea6ddf2c55b0a7ea98059dc9d6320ebf8f"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea6ddf2c55b0a7ea98059dc9d6320ebf8f">Ms::Sid::smallNoteMag</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a5ea14351e92562c2439ac0a357c38f93"><div class="ttname"><a href="classMs_1_1ChordRest.html#a5ea14351e92562c2439ac0a357c38f93">Ms::ChordRest::add</a></div><div class="ttdeci">virtual void add(Element *)</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00749">chordrest.cpp:749</a></div></div>
<div class="ttc" id="classMs_1_1SpannerSegment_html"><div class="ttname"><a href="classMs_1_1SpannerSegment.html">Ms::SpannerSegment</a></div><div class="ttdoc">parent: System </div><div class="ttdef"><b>Definition:</b> <a href="spanner_8h_source.html#l00035">spanner.h:35</a></div></div>
<div class="ttc" id="classMs_1_1Fraction_html_ac96ad0e3adbd7cac5e8f7264702178ff"><div class="ttname"><a href="classMs_1_1Fraction.html#ac96ad0e3adbd7cac5e8f7264702178ff">Ms::Fraction::numerator</a></div><div class="ttdeci">int numerator() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2fraction_8h_source.html#l00062">fraction.h:62</a></div></div>
<div class="ttc" id="namespaceMs_html_a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051"><div class="ttname"><a href="namespaceMs.html#a7358b681a67b5524ff31ae9ec8e72322a1e23852820b9154316c7c06e2b7ba051">Ms::NoteType::NORMAL</a></div></div>
<div class="ttc" id="namespaceMs_html_a166cb7869869e9a2da70f6e7807b3f36af24d38ace0aa2b2391d8dd2e313a88ac"><div class="ttname"><a href="namespaceMs.html#a166cb7869869e9a2da70f6e7807b3f36af24d38ace0aa2b2391d8dd2e313a88ac">Ms::TremoloChordType::TremoloSecondNote</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_aa8d9ee5c08abea6855480d2f208a0c80"><div class="ttname"><a href="classMs_1_1ChordRest.html#aa8d9ee5c08abea6855480d2f208a0c80">Ms::ChordRest::readProperties</a></div><div class="ttdeci">virtual bool readProperties(XmlReader &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00209">chordrest.cpp:209</a></div></div>
<div class="ttc" id="classMs_1_1Arpeggio_html_a2798d0ef2c067aefb5ec1569477c80a7"><div class="ttname"><a href="classMs_1_1Arpeggio.html#a2798d0ef2c067aefb5ec1569477c80a7">Ms::Arpeggio::span</a></div><div class="ttdeci">int span() const</div><div class="ttdef"><b>Definition:</b> <a href="arpeggio_8h_source.html#l00077">arpeggio.h:77</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a7e623a06766698ff471836eac2f3fa57"><div class="ttname"><a href="classMs_1_1Score.html#a7e623a06766698ff471836eac2f3fa57">Ms::Score::lineMode</a></div><div class="ttdeci">bool lineMode() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01117">score.h:1117</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a9998cf9d72661ff98e5402e1dcfd17b7"><div class="ttname"><a href="classMs_1_1ChordRest.html#a9998cf9d72661ff98e5402e1dcfd17b7">Ms::ChordRest::getProperty</a></div><div class="ttdeci">virtual QVariant getProperty(Pid propertyId) const override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l00848">chordrest.cpp:848</a></div></div>
<div class="ttc" id="staff_8h_html"><div class="ttname"><a href="staff_8h.html">staff.h</a></div><div class="ttdoc">Definition of class Staff. </div></div>
<div class="ttc" id="classMs_1_1LedgerLine_html"><div class="ttname"><a href="classMs_1_1LedgerLine.html">Ms::LedgerLine</a></div><div class="ttdoc">Graphic representation of a ledger line. </div><div class="ttdef"><b>Definition:</b> <a href="ledgerline_8h_source.html#l00031">ledgerline.h:31</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html"><div class="ttname"><a href="classMs_1_1ChordRest.html">Ms::ChordRest</a></div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00049">chordrest.h:49</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_ae23f822657ab2477a8ad0d203e44569f"><div class="ttname"><a href="classMs_1_1Tremolo.html#ae23f822657ab2477a8ad0d203e44569f">Ms::Tremolo::setChords</a></div><div class="ttdeci">void setChords(Chord *c1, Chord *c2)</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00089">tremolo.h:89</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a0244c175e8725eb0d60bc1e4522f672b"><div class="ttname"><a href="classMs_1_1ChordRest.html#a0244c175e8725eb0d60bc1e4522f672b">Ms::ChordRest::prevSegmentElement</a></div><div class="ttdeci">virtual Element * prevSegmentElement() override</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8cpp_source.html#l01175">chordrest.cpp:1175</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a1ebb74b05f781c56e63bbc5ff221d7f3"><div class="ttname"><a href="classMs_1_1ChordRest.html#a1ebb74b05f781c56e63bbc5ff221d7f3">Ms::ChordRest::dots</a></div><div class="ttdeci">int dots() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00129">chordrest.h:129</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ad722c69644a0b646f846edf265f22c0b"><div class="ttname"><a href="classMs_1_1Chord.html#ad722c69644a0b646f846edf265f22c0b">Ms::Chord::_graceNotes</a></div><div class="ttdeci">QVector&lt; Chord * &gt; _graceNotes</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00066">chord.h:66</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_abf55316b1de3db4e71efba968ec280f6"><div class="ttname"><a href="classMs_1_1Selection.html#abf55316b1de3db4e71efba968ec280f6">Ms::Selection::element</a></div><div class="ttdeci">Element * element() const</div><div class="ttdef"><b>Definition:</b> <a href="select_8cpp_source.html#l00148">select.cpp:148</a></div></div>
<div class="ttc" id="namespaceMs_html_a2d43ff9c26edae64d956fd7a345356b4"><div class="ttname"><a href="namespaceMs.html#a2d43ff9c26edae64d956fd7a345356b4">Ms::ArticulationAnchor</a></div><div class="ttdeci">ArticulationAnchor</div><div class="ttdef"><b>Definition:</b> <a href="articulation_8h_source.html#l00033">articulation.h:33</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a33665eb98a19a5561c6b72e4acaec230"><div class="ttname"><a href="classMs_1_1Measure.html#a33665eb98a19a5561c6b72e4acaec230">Ms::Measure::tick2segment</a></div><div class="ttdeci">Segment * tick2segment(const Fraction &amp;tick, SegmentType st=SegmentType::ChordRest)</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l00750">measure.cpp:750</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_ac91b212e92e0840f3ffd4f4751af8a39"><div class="ttname"><a href="classMs_1_1Chord.html#ac91b212e92e0840f3ffd4f4751af8a39">Ms::Chord::drop</a></div><div class="ttdeci">Element * drop(EditData &amp;) override</div><div class="ttdoc">Handle a dropped element at canvas relative pos of given element type and subtype. </div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02631">chord.cpp:2631</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_ac3f0e7cb31d700abc5e1d261e0aab7b1"><div class="ttname"><a href="classMs_1_1ChordRest.html#ac3f0e7cb31d700abc5e1d261e0aab7b1">Ms::ChordRest::_tabDur</a></div><div class="ttdeci">TabDurationSymbol * _tabDur</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00058">chordrest.h:58</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a7298ea80b152246289da660cca217ad1"><div class="ttname"><a href="classMs_1_1Element.html#a7298ea80b152246289da660cca217ad1">Ms::Element::write</a></div><div class="ttdeci">virtual void write(XmlWriter &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00792">element.cpp:792</a></div></div>
<div class="ttc" id="namespaceMs_html_a4ddd02afd2f797a6a269ddce7466a4d6"><div class="ttname"><a href="namespaceMs.html#a4ddd02afd2f797a6a269ddce7466a4d6">Ms::Direction</a></div><div class="ttdeci">Direction</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00352">types.h:352</a></div></div>
<div class="ttc" id="namespaceMs_html_a1d19008c03cb6d496010a5451a9a5e71"><div class="ttname"><a href="namespaceMs.html#a1d19008c03cb6d496010a5451a9a5e71">Ms::CrossMeasure</a></div><div class="ttdeci">CrossMeasure</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00025">chordrest.h:25</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
