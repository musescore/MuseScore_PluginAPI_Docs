<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MuseScore: libmscore/undo.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="musescore_logo_full.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MuseScore
   &#160;<span id="projectnumber">3.6</span>
   </div>
   <div id="projectbrief">Music composition and notation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2509ca22e4b78dc9c1fe9484874b85a6.html">libmscore</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">undo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="undo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//=============================================================================</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//  MuseScore</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//  Music Composition &amp; Notation</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//  Copyright (C) 2002-2016 Werner Schweer</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//  This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//  it under the terms of the GNU General Public License version 2</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//  as published by the Free Software Foundation and appearing in</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//  the file LICENCE.GPL</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//=============================================================================</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> \file</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> Implementation of undo functions.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> The undo system requires calling startUndo() when starting a GUI command</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> and calling endUndo() when ending the command. All changes to a score</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> in response to a GUI command must be undoable/redoable by executing</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> a sequence of low-level undo operations. This sequence is built by the code</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> handling the command, by calling one or more undoOp()&#39;s</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> between startUndo() and endUndo().</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;global/log.h&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="undo_8h.html">undo.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="element_8h.html">element.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="note_8h.html">note.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2score_8h.html">score.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="segment_8h.html">segment.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="measure_8h.html">measure.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="system_8h.html">system.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="select_8h.html">select.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="input_8h.html">input.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="slur_8h.html">slur.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2tie_8h.html">tie.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="clef_8h.html">clef.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="staff_8h.html">staff.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="chord_8h.html">chord.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sig_8h.html">sig.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="key_8h.html">key.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="barline_8h.html">barline.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="volta_8h.html">volta.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tuplet_8h.html">tuplet.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="harmony_8h.html">harmony.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pitchspelling_8h.html">pitchspelling.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2part_8h.html">part.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="beam_8h.html">beam.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dynamic_8h.html">dynamic.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="page_8h.html">page.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="keysig_8h.html">keysig.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2image_8h.html">image.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hairpin_8h.html">hairpin.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rest_8h.html">rest.h</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bend_8h.html">bend.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tremolobar_8h.html">tremolobar.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="articulation_8h.html">articulation.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="noteevent_8h.html">noteevent.h</a>&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="slur_8h.html">slur.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tempotext_8h.html">tempotext.h</a>&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="instrchange_8h.html">instrchange.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="box_8h.html">box.h</a>&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stafftype_8h.html">stafftype.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="accidental_8h.html">accidental.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="layoutbreak_8h.html">layoutbreak.h</a>&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="spanner_8h.html">spanner.h</a>&quot;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sequencer_8h.html">sequencer.h</a>&quot;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="breath_8h.html">breath.h</a>&quot;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fingering_8h.html">fingering.h</a>&quot;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rehearsalmark_8h.html">rehearsalmark.h</a>&quot;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2excerpt_8h.html">excerpt.h</a>&quot;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stafftext_8h.html">stafftext.h</a>&quot;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="chordline_8h.html">chordline.h</a>&quot;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tremolo_8h.html">tremolo.h</a>&quot;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sym_8h.html">sym.h</a>&quot;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libmscore_2utils_8h.html">utils.h</a>&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="glissando_8h.html">glissando.h</a>&quot;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stafflines_8h.html">stafflines.h</a>&quot;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bracket_8h.html">bracket.h</a>&quot;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fret_8h.html">fret.h</a>&quot;</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="textedit_8h.html">textedit.h</a>&quot;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="textline_8h.html">textline.h</a>&quot;</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceMs.html">Ms</a> {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">extern</span> Measure* <a class="code" href="namespaceMs.html#aee57ec45c319c2b3ca450db5b34ca01e">tick2measure</a>(<span class="keywordtype">int</span> <a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">//   updateNoteLines</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">//    compute line position of noteheads after</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">//    clef change</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="namespaceMs.html#aa17fec62ae82f5ceafe5b2f86656724b">   94</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceMs.html#aa17fec62ae82f5ceafe5b2f86656724b">updateNoteLines</a>(<a class="code" href="classMs_1_1Segment.html">Segment</a>* segment, <span class="keywordtype">int</span> track)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="classMs_1_1Staff.html">Staff</a>* staff = segment-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#ad1de1c246a7f35e5b63781630e3c7d58">staff</a>(track / <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keywordflow">if</span> (staff-&gt;<a class="code" href="classMs_1_1Staff.html#a52d10515b122232c1a41e9240dcc4ff7">isDrumStaff</a>(segment-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>()) || staff-&gt;<a class="code" href="classMs_1_1Staff.html#afdd8a358b8e40b9e02bca11e9fbb8829">isTabStaff</a>(segment-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>()))</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Segment.html">Segment</a>* s = segment-&gt;<a class="code" href="classMs_1_1Segment.html#a8c27ddfb0004417dd89b655e3480a6a0">next1</a>(); s; s = s-&gt;<a class="code" href="classMs_1_1Segment.html#a8c27ddfb0004417dd89b655e3480a6a0">next1</a>()) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">if</span> ((s-&gt;segmentType() &amp; (<a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894a4fb26ab17477cfbc62b748034c0de041">SegmentType::Clef</a> | <a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894af69392a2ebed1af02428c867f81fed3f">SegmentType::HeaderClef</a>)) &amp;&amp; s-&gt;element(track) &amp;&amp; !s-&gt;element(track)-&gt;generated())</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">if</span> (!s-&gt;isChordRestType())</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = track; t &lt; track + <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>; ++t) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                  <a class="code" href="classMs_1_1Element.html">Element</a>* e = s-&gt;element(t);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                  <span class="keywordflow">if</span> (e &amp;&amp; e-&gt;isChord()) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                        <a class="code" href="classMs_1_1Chord.html">Chord</a>* chord = toChord(e);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                        <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n : chord-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>())</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                              n-&gt;updateLine();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                        chord-&gt;<a class="code" href="classMs_1_1Chord.html#a20163c8fc284ff06c00570f4fd26fb7a">sortNotes</a>();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                        <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Chord.html">Chord</a>* gc : chord-&gt;<a class="code" href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">graceNotes</a>()) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                              <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* gn : gc-&gt;notes())</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                    gn-&gt;updateLine();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                              gc-&gt;sortNotes();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                              }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                        }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                  }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">//   UndoCommand</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classMs_1_1UndoCommand.html#ad4aec6e8dbb0e92bd2b8be2ebd79b9df">  125</a></span>&#160;<a class="code" href="classMs_1_1UndoCommand.html#ad4aec6e8dbb0e92bd2b8be2ebd79b9df">UndoCommand::~UndoCommand</a>()</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : qAsConst(<a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>))</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keyword">delete</span> c;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">//   UndoCommand::cleanup</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classMs_1_1UndoCommand.html#a0bbdf4bc79885d76228b155599fb46ce">  135</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoCommand.html#a0bbdf4bc79885d76228b155599fb46ce">UndoCommand::cleanup</a>(<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1UndoCommand.html#a42a2038f903e77e6bb5881209b764186">undo</a>)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : qAsConst(<a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>))</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            c-&gt;cleanup(undo);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">//   undo</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="classMs_1_1UndoCommand.html#a42a2038f903e77e6bb5881209b764186">  145</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoCommand.html#a42a2038f903e77e6bb5881209b764186">UndoCommand::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordtype">int</span> n = <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>.size();</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = n-1; i &gt;= 0; --i) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            qCDebug(undoRedo) &lt;&lt; <span class="stringliteral">&quot;&lt;&quot;</span> &lt;&lt; <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>[i]-&gt;name() &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>[i]-&gt;undo(ed);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <a class="code" href="classMs_1_1UndoCommand.html#a861162fe6c105a00dfec5a5b70a690a5">flip</a>(ed);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">//   redo</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="classMs_1_1UndoCommand.html#a7fccbb0cf027a5e3b43176a5e0213f75">  159</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoCommand.html#a7fccbb0cf027a5e3b43176a5e0213f75">UndoCommand::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordtype">int</span> n = <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>.size();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            qCDebug(undoRedo) &lt;&lt; <span class="stringliteral">&quot;&lt;&quot;</span> &lt;&lt; <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>[i]-&gt;name() &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>[i]-&gt;redo(ed);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="classMs_1_1UndoCommand.html#a861162fe6c105a00dfec5a5b70a690a5">flip</a>(ed);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">//   appendChildren</span><span class="comment"></span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">///   Append children of \p other into this UndoCommand.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">///   Ownership over child commands of \p other is</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">///   transferred to this UndoCommand.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"></span><span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classMs_1_1UndoCommand.html#adbc9ce586560a1ca06f83bb38d04c4f0">  176</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoCommand.html#adbc9ce586560a1ca06f83bb38d04c4f0">UndoCommand::appendChildren</a>(<a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* other)</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>.append(other-&gt;<a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      other-&gt;<a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>.clear();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">//   hasFilteredChildren</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classMs_1_1UndoCommand.html#a09b5c550fffd0dfe1e38490c7f0de8e4">  186</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1UndoCommand.html#a09b5c550fffd0dfe1e38490c7f0de8e4">UndoCommand::hasFilteredChildren</a>(<a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">UndoCommand::Filter</a> f, <span class="keyword">const</span> <a class="code" href="classMs_1_1Element.html">Element</a>* target)<span class="keyword"> const</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* cmd : <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">if</span> (cmd-&gt;isFiltered(f, target))</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">//   hasUnfilteredChildren</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classMs_1_1UndoCommand.html#a7131c9beb9c694ef3f0d8235f4e2892a">  199</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1UndoCommand.html#a7131c9beb9c694ef3f0d8235f4e2892a">UndoCommand::hasUnfilteredChildren</a>(<span class="keyword">const</span> std::vector&lt;UndoCommand::Filter&gt;&amp; filters, <span class="keyword">const</span> <a class="code" href="classMs_1_1Element.html">Element</a>* target)<span class="keyword"> const</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* cmd : <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordtype">bool</span> filtered = <span class="keyword">false</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">UndoCommand::Filter</a> f : filters) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                  <span class="keywordflow">if</span> (cmd-&gt;isFiltered(f, target)) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        filtered = <span class="keyword">true</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                  }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">if</span> (!filtered)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">//   filterChildren</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classMs_1_1UndoCommand.html#a850e4c72c907bce1aed4b7d318ddf626">  219</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoCommand.html#a850e4c72c907bce1aed4b7d318ddf626">UndoCommand::filterChildren</a>(<a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">UndoCommand::Filter</a> f, <a class="code" href="classMs_1_1Element.html">Element</a>* target)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      QList&lt;UndoCommand*&gt; acceptedList;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* cmd : qAsConst(<a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>)) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">if</span> (cmd-&gt;isFiltered(f, target))</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                  <span class="keyword">delete</span> cmd;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                  acceptedList.push_back(cmd);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a> = std::move(acceptedList);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">//   unwind</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="classMs_1_1UndoCommand.html#abc893037b5a33408c25552b8579debe4">  235</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoCommand.html#abc893037b5a33408c25552b8579debe4">UndoCommand::unwind</a>()</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">while</span> (!<a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>.empty()) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* c = <a class="code" href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">childList</a>.takeLast();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            qDebug(<span class="stringliteral">&quot;unwind &lt;%s&gt;&quot;</span>, c-&gt;<a class="code" href="classMs_1_1UndoCommand.html#acdd15da86ef5878bc98ef2be084cc4be">name</a>());</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            c-&gt;<a class="code" href="classMs_1_1UndoCommand.html#a42a2038f903e77e6bb5881209b764186">undo</a>(0);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keyword">delete</span> c;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">//   UndoStack</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#aec7075050e47df3c25937101c309a58b">  249</a></span>&#160;<a class="code" href="classMs_1_1UndoStack.html#aec7075050e47df3c25937101c309a58b">UndoStack::UndoStack</a>()</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      curCmd   = 0;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      curIdx   = 0;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      cleanState = 0;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      stateList.push_back(cleanState);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      nextState = 1;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">//   UndoStack</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#a23039eb8444ab68336b894baac9c2968">  262</a></span>&#160;<a class="code" href="classMs_1_1UndoStack.html#a23039eb8444ab68336b894baac9c2968">UndoStack::~UndoStack</a>()</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordtype">int</span> idx = 0;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : qAsConst(list))</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            c-&gt;cleanup(idx++ &lt; curIdx);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      qDeleteAll(list);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">//   beginMacro</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#a02e41c1e3f47216f2f30abcacc48f434">  274</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#a02e41c1e3f47216f2f30abcacc48f434">UndoStack::beginMacro</a>(<a class="code" href="classMs_1_1Score.html">Score</a>* score)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">if</span> (curCmd) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            qWarning(<span class="stringliteral">&quot;already active&quot;</span>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      curCmd = <span class="keyword">new</span> <a class="code" href="classMs_1_1UndoMacro.html">UndoMacro</a>(score);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">//   push</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#aa7194b0d69b582e8964eefdfa6db9e2c">  287</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#aa7194b0d69b582e8964eefdfa6db9e2c">UndoStack::push</a>(<a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* cmd, <a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">if</span> (!curCmd) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="comment">// this can happen for layout() outside of a command (load)</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1ScoreLoad.html#a54ee450c96889165b1dc63e4dc1ea84b">ScoreLoad::loading</a>())</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                  qDebug(<span class="stringliteral">&quot;no active command, UndoStack&quot;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            cmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#a7fccbb0cf027a5e3b43176a5e0213f75">redo</a>(ed);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keyword">delete</span> cmd;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">#ifndef QT_NO_DEBUG</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">if</span> (!strcmp(cmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#acdd15da86ef5878bc98ef2be084cc4be">name</a>(), <span class="stringliteral">&quot;ChangeProperty&quot;</span>)) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="classMs_1_1ChangeProperty.html">ChangeProperty</a>* cp = <span class="keyword">static_cast&lt;</span><a class="code" href="classMs_1_1ChangeProperty.html">ChangeProperty</a>*<span class="keyword">&gt;</span>(cmd);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            qCDebug(undoRedo, <span class="stringliteral">&quot;&lt;%s&gt; id %d %s&quot;</span>, cmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#acdd15da86ef5878bc98ef2be084cc4be">name</a>(), int(cp-&gt;<a class="code" href="classMs_1_1ChangeProperty.html#aef0686f461266c23e7aca1d8c2e1fefe">getId</a>()), <a class="code" href="namespaceMs.html#a648f4838572625fde50cc6fcaf8cac05">propertyName</a>(cp-&gt;<a class="code" href="classMs_1_1ChangeProperty.html#aef0686f461266c23e7aca1d8c2e1fefe">getId</a>()));</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            qCDebug(undoRedo, <span class="stringliteral">&quot;&lt;%s&gt;&quot;</span>, cmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#acdd15da86ef5878bc98ef2be084cc4be">name</a>());</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      curCmd-&gt;appendChild(cmd);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      cmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#a7fccbb0cf027a5e3b43176a5e0213f75">redo</a>(ed);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">//   push1</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#acea099f7ef736bea0b2f70cc6b12e341">  315</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#acea099f7ef736bea0b2f70cc6b12e341">UndoStack::push1</a>(<a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* cmd)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">if</span> (!curCmd) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1ScoreLoad.html#a54ee450c96889165b1dc63e4dc1ea84b">ScoreLoad::loading</a>())</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                  qWarning(<span class="stringliteral">&quot;no active command, UndoStack %p&quot;</span>, <span class="keyword">this</span>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      curCmd-&gt;appendChild(cmd);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">//   remove</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#a742639165e73cdfbe0a41343bc5910c2">  329</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#a742639165e73cdfbe0a41343bc5910c2">UndoStack::remove</a>(<span class="keywordtype">int</span> idx)</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      Q_ASSERT(idx &lt;= curIdx);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      Q_ASSERT(curIdx &gt;= 0);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="comment">// remove redo stack</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">while</span> (list.size() &gt; curIdx) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* cmd = list.takeLast();</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            stateList.pop_back();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            cmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#a0bbdf4bc79885d76228b155599fb46ce">cleanup</a>(<span class="keyword">false</span>);  <span class="comment">// delete elements for which UndoCommand() holds ownership</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keyword">delete</span> cmd;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">//            --curIdx;</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">while</span> (list.size() &gt; idx) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* cmd = list.takeLast();</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            stateList.pop_back();</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            cmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#a0bbdf4bc79885d76228b155599fb46ce">cleanup</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keyword">delete</span> cmd;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      curIdx = idx;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">//   mergeCommands</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#af07644da1c840c9edf403312f8da17d4">  354</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#af07644da1c840c9edf403312f8da17d4">UndoStack::mergeCommands</a>(<span class="keywordtype">int</span> startIdx)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      Q_ASSERT(startIdx &lt;= curIdx);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">if</span> (startIdx &gt;= list.size())</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html">UndoMacro</a>* startMacro = list[startIdx];</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = startIdx + 1; idx &lt; curIdx; ++idx)</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            startMacro-&gt;<a class="code" href="classMs_1_1UndoMacro.html#a5a20087b7049f4d0439deeeb2900a1b0">append</a>(std::move(*list[idx]));</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keyword">remove</span>(startIdx + 1); <span class="comment">// TODO: remove from startIdx to curIdx only</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">//   pop</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#a17cf177da3bfdb238b539b18e9dde836">  372</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#a17cf177da3bfdb238b539b18e9dde836">UndoStack::pop</a>()</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">if</span> (!curCmd) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classMs_1_1ScoreLoad.html#a54ee450c96889165b1dc63e4dc1ea84b">ScoreLoad::loading</a>())</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                  qWarning(<span class="stringliteral">&quot;no active command&quot;</span>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* cmd = curCmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#ad645cbed278b04cea2164006b52c4d8f">removeChild</a>();</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      cmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#a42a2038f903e77e6bb5881209b764186">undo</a>(0);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">//   rollback</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#ae14cb889d0fda8e14d5e7922e786c38e">  387</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#ae14cb889d0fda8e14d5e7922e786c38e">UndoStack::rollback</a>()</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      qDebug(<span class="stringliteral">&quot;==&quot;</span>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      Q_ASSERT(curCmd == 0);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      Q_ASSERT(curIdx &gt; 0);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordtype">int</span> idx = curIdx - 1;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      list[idx]-&gt;unwind();</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keyword">remove</span>(idx);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">//   endMacro</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#a4cb85a93b24d1bd1f04233fefa34798f">  401</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#a4cb85a93b24d1bd1f04233fefa34798f">UndoStack::endMacro</a>(<span class="keywordtype">bool</span> rollback)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">if</span> (curCmd == 0) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            qWarning(<span class="stringliteral">&quot;not active&quot;</span>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">if</span> (rollback)</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keyword">delete</span> curCmd;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="comment">// remove redo stack</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordflow">while</span> (list.size() &gt; curIdx) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                  <a class="code" href="classMs_1_1UndoCommand.html">UndoCommand</a>* cmd = list.takeLast();</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                  stateList.pop_back();</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                  cmd-&gt;<a class="code" href="classMs_1_1UndoCommand.html#a0bbdf4bc79885d76228b155599fb46ce">cleanup</a>(<span class="keyword">false</span>);  <span class="comment">// delete elements for which UndoCommand() holds ownership</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                  <span class="keyword">delete</span> cmd;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                  }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            list.append(curCmd);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            stateList.push_back(nextState++);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            ++curIdx;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      curCmd = 0;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">//   reopen</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#a733105ff8d0961eaa78678373596e963">  428</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#a733105ff8d0961eaa78678373596e963">UndoStack::reopen</a>()</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      qDebug(<span class="stringliteral">&quot;curIdx %d size %d&quot;</span>, curIdx, list.size());</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      Q_ASSERT(curCmd == 0);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      Q_ASSERT(curIdx &gt; 0);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      --curIdx;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      curCmd = list.takeAt(curIdx);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      stateList.erase(stateList.begin() + curIdx);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : curCmd-&gt;commands()) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            qDebug(<span class="stringliteral">&quot;   &lt;%s&gt;&quot;</span>, i-&gt;name());</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">//   setClean</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#a6d06fa10ad7b12d5ebf2aa3f04a257a0">  445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#a6d06fa10ad7b12d5ebf2aa3f04a257a0">UndoStack::setClean</a>()</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      cleanState = state();</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">//   undo</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#a7f2b4316d0eb51dab916e2c3d3f0cc2b">  454</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#a7f2b4316d0eb51dab916e2c3d3f0cc2b">UndoStack::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      qCDebug(undoRedo) &lt;&lt; <span class="stringliteral">&quot;===&quot;</span>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="comment">// Are we currently editing text?</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">if</span> (ed &amp;&amp; ed-&gt;<a class="code" href="classMs_1_1EditData.html#a07230d29679583b1e4e23a7bfa4078ec">element</a> &amp;&amp; ed-&gt;<a class="code" href="classMs_1_1EditData.html#a07230d29679583b1e4e23a7bfa4078ec">element</a>-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a979b6e1bc10cf790e755aa8641feb4cf">isTextBase</a>()) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <a class="code" href="structMs_1_1TextEditData.html">TextEditData</a>* ted = <span class="keyword">static_cast&lt;</span><a class="code" href="structMs_1_1TextEditData.html">TextEditData</a>*<span class="keyword">&gt;</span>(ed-&gt;<a class="code" href="classMs_1_1EditData.html#a0a20233f6c029d8adb7d1e948b9bbaf4">getData</a>(ed-&gt;<a class="code" href="classMs_1_1EditData.html#a07230d29679583b1e4e23a7bfa4078ec">element</a>));</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">if</span> (ted &amp;&amp; ted-&gt;<a class="code" href="structMs_1_1TextEditData.html#a1d929340f302872440735a71abe1fe6c">startUndoIdx</a> == curIdx)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                  <span class="comment">// No edits to undo, so do nothing</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">if</span> (curIdx) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            --curIdx;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            Q_ASSERT(curIdx &gt;= 0);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            list[curIdx]-&gt;undo(ed);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">//   redo</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="classMs_1_1UndoStack.html#a5c50661b1a83d1d55df64eb1e18a0f16">  475</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoStack.html#a5c50661b1a83d1d55df64eb1e18a0f16">UndoStack::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      qCDebug(undoRedo) &lt;&lt; <span class="stringliteral">&quot;===&quot;</span>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">if</span> (canRedo())</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            list[curIdx++]-&gt;redo(ed);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">//   UndoMacro</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="classMs_1_1UndoMacro.html#abc452fc794276f847a4d909931ddbe5f">  486</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1UndoMacro.html#abc452fc794276f847a4d909931ddbe5f">UndoMacro::canRecordSelectedElement</a>(<span class="keyword">const</span> <a class="code" href="classMs_1_1Element.html">Element</a>* e)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">return</span> e-&gt;isNote() || (e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#accef1c91df491a43c54e70474deea60c">isChordRest</a>() &amp;&amp; !e-&gt;isChord()) || (e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a979b6e1bc10cf790e755aa8641feb4cf">isTextBase</a>() &amp;&amp; !e-&gt;isInstrumentName()) || e-&gt;isFretDiagram();</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="classMs_1_1UndoMacro.html#a4e544882dded47ad9419efc7e0b334bd">  491</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoMacro.html#a4e544882dded47ad9419efc7e0b334bd">UndoMacro::fillSelectionInfo</a>(<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html">SelectionInfo</a>&amp; info, <span class="keyword">const</span> <a class="code" href="classMs_1_1Selection.html">Selection</a>&amp; sel)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#add39161aa4b6773b5955d0107af8dfed">staffStart</a> = info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#aaef0e85e3ea853a131c089f70a00a62b">staffEnd</a> = -1;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#ae4c2cd7e94b48ba8f4354e252a8618ac">elements</a>.clear();</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="keywordflow">if</span> (sel.<a class="code" href="classMs_1_1Selection.html#ad758bc5c1eadc3b1d99b4a79f07f60cb">isList</a>()) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : sel.<a class="code" href="classMs_1_1Selection.html#aabf6157f4dbda5a9b86a9c4cae8c167f">elements</a>()) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                  <span class="keywordflow">if</span> (canRecordSelectedElement(e))</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                        info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#ae4c2cd7e94b48ba8f4354e252a8618ac">elements</a>.push_back(e);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                        <span class="comment">// don&#39;t remember selection we are unable to restore</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                        info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#ae4c2cd7e94b48ba8f4354e252a8618ac">elements</a>.clear();</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                  }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sel.<a class="code" href="classMs_1_1Selection.html#a884ac586a99a211a55eab115a2c3d95f">isRange</a>()) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#add39161aa4b6773b5955d0107af8dfed">staffStart</a> = sel.<a class="code" href="classMs_1_1Selection.html#a009257797226b07065d8a225184178b3">staffStart</a>();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#aaef0e85e3ea853a131c089f70a00a62b">staffEnd</a> = sel.<a class="code" href="classMs_1_1Selection.html#a18aa92607a7bc75a64262bbfd2746d51">staffEnd</a>();</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#a34cd5687858c31d0c64be9de28e81bf4">tickStart</a> = sel.<a class="code" href="classMs_1_1Selection.html#ada215e95b1109676666293b2ce2ded59">tickStart</a>();</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#a8b357e9ace20518e919d100f93cd4a2d">tickEnd</a> = sel.<a class="code" href="classMs_1_1Selection.html#a0d08f84e0df5e8ff78176a8832154e51">tickEnd</a>();</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="classMs_1_1UndoMacro.html#a49c46acba01879286e5d86a682653803">  515</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoMacro.html#a49c46acba01879286e5d86a682653803">UndoMacro::applySelectionInfo</a>(<span class="keyword">const</span> <a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html">SelectionInfo</a>&amp; info, <a class="code" href="classMs_1_1Selection.html">Selection</a>&amp; sel)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">if</span> (!info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#ae4c2cd7e94b48ba8f4354e252a8618ac">elements</a>.empty()) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#ae4c2cd7e94b48ba8f4354e252a8618ac">elements</a>)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                  sel.<a class="code" href="classMs_1_1Selection.html#a753b2a15f85c00694be997289b1b9c63">add</a>(e);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#add39161aa4b6773b5955d0107af8dfed">staffStart</a> != -1) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            sel.<a class="code" href="classMs_1_1Selection.html#ab05230fbe37b40766934e7e8a32b689c">setRangeTicks</a>(info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#a34cd5687858c31d0c64be9de28e81bf4">tickStart</a>, info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#a8b357e9ace20518e919d100f93cd4a2d">tickEnd</a>, info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#add39161aa4b6773b5955d0107af8dfed">staffStart</a>, info.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#aaef0e85e3ea853a131c089f70a00a62b">staffEnd</a>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="classMs_1_1UndoMacro.html#ad9ca7b5a0056f92f44d11f78a2a23d3c">  526</a></span>&#160;<a class="code" href="classMs_1_1UndoMacro.html#ad9ca7b5a0056f92f44d11f78a2a23d3c">UndoMacro::UndoMacro</a>(<a class="code" href="classMs_1_1Score.html">Score</a>* s)</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   : undoInputState(s-&gt;inputState()), score(s)</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#a4e544882dded47ad9419efc7e0b334bd">fillSelectionInfo</a>(<a class="code" href="classMs_1_1UndoMacro.html#adcee742b469628e08ce8bb978dea8253">undoSelectionInfo</a>, s-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>());</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="classMs_1_1UndoMacro.html#ad380e22ca3b3db66151d94acb1fd2bcb">  532</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoMacro.html#ad380e22ca3b3db66151d94acb1fd2bcb">UndoMacro::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ab51538cd2a9348bf5528602d099522d4">redoInputState</a> = <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a67a1f22da74237b491206ae705ebb688">inputState</a>();</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#a4e544882dded47ad9419efc7e0b334bd">fillSelectionInfo</a>(<a class="code" href="classMs_1_1UndoMacro.html#a87dd44253f998a87302d67ea1a9502ae">redoSelectionInfo</a>, <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>());</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a3861e93f660f6647290c56dc195f2caf">deselectAll</a>();</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="comment">// Undo for child commands.</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <a class="code" href="classMs_1_1UndoCommand.html#a42a2038f903e77e6bb5881209b764186">UndoCommand::undo</a>(ed);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#abce1515f6d4ed6cad207e57308b0b656">setInputState</a>(<a class="code" href="classMs_1_1UndoMacro.html#af73165790987b12530b95465026e5dbf">undoInputState</a>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1UndoMacro.html#adcee742b469628e08ce8bb978dea8253">undoSelectionInfo</a>.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#a6a4e7cbe90ee64773ab9a7d26c69a84d">isValid</a>()) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a3861e93f660f6647290c56dc195f2caf">deselectAll</a>();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <a class="code" href="classMs_1_1UndoMacro.html#a49c46acba01879286e5d86a682653803">applySelectionInfo</a>(<a class="code" href="classMs_1_1UndoMacro.html#adcee742b469628e08ce8bb978dea8253">undoSelectionInfo</a>, <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>());</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="classMs_1_1UndoMacro.html#a59928192d10105c43042f8150f4a07cb">  548</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoMacro.html#a59928192d10105c43042f8150f4a07cb">UndoMacro::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#af73165790987b12530b95465026e5dbf">undoInputState</a> = <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a67a1f22da74237b491206ae705ebb688">inputState</a>();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#a4e544882dded47ad9419efc7e0b334bd">fillSelectionInfo</a>(<a class="code" href="classMs_1_1UndoMacro.html#adcee742b469628e08ce8bb978dea8253">undoSelectionInfo</a>, <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>());</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a3861e93f660f6647290c56dc195f2caf">deselectAll</a>();</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="comment">// Redo for child commands.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <a class="code" href="classMs_1_1UndoCommand.html#a7fccbb0cf027a5e3b43176a5e0213f75">UndoCommand::redo</a>(ed);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#abce1515f6d4ed6cad207e57308b0b656">setInputState</a>(<a class="code" href="classMs_1_1UndoMacro.html#ab51538cd2a9348bf5528602d099522d4">redoInputState</a>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1UndoMacro.html#a87dd44253f998a87302d67ea1a9502ae">redoSelectionInfo</a>.<a class="code" href="structMs_1_1UndoMacro_1_1SelectionInfo.html#a6a4e7cbe90ee64773ab9a7d26c69a84d">isValid</a>()) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a3861e93f660f6647290c56dc195f2caf">deselectAll</a>();</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <a class="code" href="classMs_1_1UndoMacro.html#a49c46acba01879286e5d86a682653803">applySelectionInfo</a>(<a class="code" href="classMs_1_1UndoMacro.html#a87dd44253f998a87302d67ea1a9502ae">redoSelectionInfo</a>, <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>());</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="classMs_1_1UndoMacro.html#a5a20087b7049f4d0439deeeb2900a1b0">  564</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1UndoMacro.html#a5a20087b7049f4d0439deeeb2900a1b0">UndoMacro::append</a>(<a class="code" href="classMs_1_1UndoMacro.html">UndoMacro</a>&amp;&amp; other)</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="classMs_1_1UndoCommand.html#adbc9ce586560a1ca06f83bb38d04c4f0">appendChildren</a>(&amp;other);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a> == other.<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <a class="code" href="classMs_1_1UndoMacro.html#ab51538cd2a9348bf5528602d099522d4">redoInputState</a> = std::move(other.redoInputState);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="classMs_1_1UndoMacro.html#a87dd44253f998a87302d67ea1a9502ae">redoSelectionInfo</a> = std::move(other.redoSelectionInfo);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">//   CloneVoice</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="classMs_1_1CloneVoice.html#a0281a632827e7dc05db33fddde01c02e">  577</a></span>&#160;<a class="code" href="classMs_1_1CloneVoice.html#a0281a632827e7dc05db33fddde01c02e">CloneVoice::CloneVoice</a>(<a class="code" href="classMs_1_1Segment.html">Segment</a>* _sf, <span class="keyword">const</span> <a class="code" href="classMs_1_1Fraction.html">Fraction</a>&amp; _lTick, <a class="code" href="classMs_1_1Segment.html">Segment</a>* _d, <span class="keywordtype">int</span> _strack, <span class="keywordtype">int</span> _dtrack, <span class="keywordtype">int</span> _otrack, <span class="keywordtype">bool</span> _linked)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      sf      = _sf;          <span class="comment">// first source segment</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      lTick   = _lTick;       <span class="comment">// last tick to clone</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      d       = _d;           <span class="comment">// first destination segment</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      strack  = _strack;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      dtrack  = _dtrack;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      otrack  = _otrack;      <span class="comment">// old source track if -1 delete voice in strack after copy</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      linked  = _linked;      <span class="comment">// if true  add elements in destination segment only</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                              <span class="comment">// if false add elements in every linked staff</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="classMs_1_1CloneVoice.html#a1f987d0f303c266b5f1fcebde0d21af3">  589</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1CloneVoice.html#a1f987d0f303c266b5f1fcebde0d21af3">CloneVoice::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* s = d-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <a class="code" href="classMs_1_1Fraction.html">Fraction</a> ticks = d-&gt;tick() + lTick - sf-&gt;tick();</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="keywordtype">int</span> sTrack = otrack == -1 ? dtrack : otrack; <span class="comment">// use the correct source / destination if deleting the source</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordtype">int</span> dTrack = otrack == -1 ? strack : dtrack;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="comment">// Clear destination voice (in case of not linked and otrack = -1 we would delete our source</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span> (otrack != -1 &amp;&amp; linked)</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Segment.html">Segment</a>* seg = d; seg &amp;&amp; seg-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>() &lt; ticks; seg = seg-&gt;next1()) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                  <a class="code" href="classMs_1_1Element.html">Element</a>* el = seg-&gt;element(dTrack);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                  <span class="keywordflow">if</span> (el &amp;&amp; el-&gt;<a class="code" href="classMs_1_1ScoreElement.html#accef1c91df491a43c54e70474deea60c">isChordRest</a>()) {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                        el-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a1d76afaf3ee463445961c3d981901be1">unlink</a>();</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                        seg-&gt;setElement(dTrack, 0);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                        }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                  }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">if</span> (otrack == -1 &amp;&amp; !linked) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="comment">// On the first run get going the undo redo action for adding/deleting elements and slurs</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                  s-&gt;<a class="code" href="classMs_1_1Score.html#aefcbaae7ddfa93753e55c18c39846ca9">cloneVoice</a>(sTrack, dTrack, sf, ticks, linked);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                  <span class="keyword">auto</span> spanners = s-&gt;<a class="code" href="classMs_1_1Score.html#aec3ae8afe6d74337ccdaf50a735f4c92">spannerMap</a>().<a class="code" href="classMs_1_1SpannerMap.html#a50d0c4abc63052ad825a4c48cc72dbd3">findOverlapping</a>(sf-&gt;tick().ticks(), lTick.ticks());</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = spanners.begin(); i &lt; spanners.end(); i++) {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                        <a class="code" href="classMs_1_1Spanner.html">Spanner</a>* sp = i-&gt;value;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        <span class="keywordflow">if</span> (sp-&gt;isSlur() &amp;&amp; (sp-&gt;<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() == sTrack || sp-&gt;<a class="code" href="classMs_1_1Spanner.html#a523e1a2fb656322a4dba0440271bbd12">track2</a>() == sTrack))</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                              s-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(sp);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                        }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                  <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Segment.html">Segment</a>* seg = d; seg &amp;&amp; seg-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>() &lt; ticks; seg = seg-&gt;next1()) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        <a class="code" href="classMs_1_1Element.html">Element</a>* el = seg-&gt;element(sTrack);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                        <span class="keywordflow">if</span> (el &amp;&amp; el-&gt;<a class="code" href="classMs_1_1ScoreElement.html#accef1c91df491a43c54e70474deea60c">isChordRest</a>()) {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                              s-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(el);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                              }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                        }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                  }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="comment">// Set rests if first voice in a staff</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="keywordflow">if</span> (!(sTrack % <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>))</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                  s-&gt;<a class="code" href="classMs_1_1Score.html#ac4cb945d379f454f76bd69fb4edee8e1">setRest</a>(d-&gt;tick(), sTrack, ticks, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            s-&gt;<a class="code" href="classMs_1_1Score.html#aefcbaae7ddfa93753e55c18c39846ca9">cloneVoice</a>(sTrack, dTrack, sf, ticks, linked);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">if</span> (!linked &amp;&amp; !(dTrack % <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>))</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                  s-&gt;<a class="code" href="classMs_1_1Score.html#ac4cb945d379f454f76bd69fb4edee8e1">setRest</a>(d-&gt;tick(), dTrack, ticks, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      first = <span class="keyword">false</span>;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="classMs_1_1CloneVoice.html#a1fd9ff246f07a434f9b2f143a74d345c">  636</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1CloneVoice.html#a1fd9ff246f07a434f9b2f143a74d345c">CloneVoice::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* s = d-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <a class="code" href="classMs_1_1Fraction.html">Fraction</a> ticks = d-&gt;tick() + lTick - sf-&gt;tick();</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="comment">// Clear destination voice (in case of not linked and otrack = -1 we would delete our source</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="keywordflow">if</span> (otrack != -1 &amp;&amp; linked)</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Segment.html">Segment</a>* seg = d; seg &amp;&amp; seg-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>() &lt; ticks; seg = seg-&gt;next1()) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                  <a class="code" href="classMs_1_1Element.html">Element</a>* el = seg-&gt;element(dtrack);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                  <span class="keywordflow">if</span> (el &amp;&amp; el-&gt;<a class="code" href="classMs_1_1ScoreElement.html#accef1c91df491a43c54e70474deea60c">isChordRest</a>()) {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                        el-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a1d76afaf3ee463445961c3d981901be1">unlink</a>();</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                        seg-&gt;setElement(dtrack, 0);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                        }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                  }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">if</span> (otrack == -1 &amp;&amp; !linked) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="comment">// On the first run get going the undo redo action for adding/deleting elements and slurs</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keywordflow">if</span> (first) {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                  s-&gt;<a class="code" href="classMs_1_1Score.html#aefcbaae7ddfa93753e55c18c39846ca9">cloneVoice</a>(strack, dtrack, sf, ticks, linked);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                  <span class="keyword">auto</span> spanners = s-&gt;<a class="code" href="classMs_1_1Score.html#aec3ae8afe6d74337ccdaf50a735f4c92">spannerMap</a>().<a class="code" href="classMs_1_1SpannerMap.html#a50d0c4abc63052ad825a4c48cc72dbd3">findOverlapping</a>(sf-&gt;tick().ticks(), lTick.ticks());</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = spanners.begin(); i &lt; spanners.end(); i++) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                        <a class="code" href="classMs_1_1Spanner.html">Spanner</a>* sp = i-&gt;value;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                        <span class="keywordflow">if</span> (sp-&gt;isSlur() &amp;&amp; (sp-&gt;<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>() == strack || sp-&gt;<a class="code" href="classMs_1_1Spanner.html#a523e1a2fb656322a4dba0440271bbd12">track2</a>() == strack))</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                              s-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(sp);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                        }</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                  <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Segment.html">Segment</a>* seg = d; seg &amp;&amp; seg-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>() &lt; ticks; seg = seg-&gt;next1()) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                        <a class="code" href="classMs_1_1Element.html">Element</a>* el = seg-&gt;element(strack);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                        <span class="keywordflow">if</span> (el &amp;&amp; el-&gt;<a class="code" href="classMs_1_1ScoreElement.html#accef1c91df491a43c54e70474deea60c">isChordRest</a>()) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                              s-&gt;<a class="code" href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">undoRemoveElement</a>(el);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                              }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                        }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                  }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <span class="comment">// Set rests if first voice in a staff</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <span class="keywordflow">if</span> (!(strack % <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>))</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                  s-&gt;<a class="code" href="classMs_1_1Score.html#ac4cb945d379f454f76bd69fb4edee8e1">setRest</a>(d-&gt;tick(), strack, ticks, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            s-&gt;<a class="code" href="classMs_1_1Score.html#aefcbaae7ddfa93753e55c18c39846ca9">cloneVoice</a>(strack, dtrack, sf, ticks, linked, first);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">//   AddElement</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno"><a class="line" href="classMs_1_1AddElement.html#a590df0e3c8282928f7bacc902b90aeff">  680</a></span>&#160;<a class="code" href="classMs_1_1AddElement.html#a590df0e3c8282928f7bacc902b90aeff">AddElement::AddElement</a>(<a class="code" href="classMs_1_1Element.html">Element</a>* e)</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      element = e;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">//   AddElement::cleanup</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="classMs_1_1AddElement.html#a1e2c10c5bef9616b96d7b1090f727600">  689</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1AddElement.html#a1e2c10c5bef9616b96d7b1090f727600">AddElement::cleanup</a>(<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1UndoMacro.html#ad380e22ca3b3db66151d94acb1fd2bcb">undo</a>)</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">if</span> (!undo) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="keyword">delete</span> element;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            element = 0;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">//   undoRemoveTuplet</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="namespaceMs.html#a462d3365be5b78dc721f068ff5d97ecf">  701</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceMs.html#a462d3365be5b78dc721f068ff5d97ecf">undoRemoveTuplet</a>(<a class="code" href="classMs_1_1DurationElement.html">DurationElement</a>* cr)</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordflow">if</span> (cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>()) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>()-&gt;<a class="code" href="classMs_1_1Tuplet.html#a499ca6d7a1cc0da91acd3d7385856172">remove</a>(cr);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <span class="keywordflow">if</span> (cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>()-&gt;<a class="code" href="classMs_1_1Tuplet.html#a335f84666bd36e2bca5963785ae9759a">elements</a>().empty())</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                  <a class="code" href="namespaceMs.html#a462d3365be5b78dc721f068ff5d97ecf">undoRemoveTuplet</a>(cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>());</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">//   undoAddTuplet</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="namespaceMs.html#a643c984a4eff129e0e5b57bbf7337c90">  714</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceMs.html#a643c984a4eff129e0e5b57bbf7337c90">undoAddTuplet</a>(<a class="code" href="classMs_1_1DurationElement.html">DurationElement</a>* cr)</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keywordflow">if</span> (cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>()) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>()-&gt;<a class="code" href="classMs_1_1Tuplet.html#a9716464134a3d201dbbe52930d14d6fa">add</a>(cr);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">if</span> (cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>()-&gt;<a class="code" href="classMs_1_1Tuplet.html#a335f84666bd36e2bca5963785ae9759a">elements</a>().size() == 1)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                  <a class="code" href="namespaceMs.html#a643c984a4eff129e0e5b57bbf7337c90">undoAddTuplet</a>(cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>());</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">//   endUndoRedo</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno"><a class="line" href="classMs_1_1AddElement.html#a3975f0ceccf211857ae63a05ed87a5ca">  727</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1AddElement.html#a3975f0ceccf211857ae63a05ed87a5ca">AddElement::endUndoRedo</a>(<span class="keywordtype">bool</span> isUndo)<span class="keyword"> const</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">if</span> (element-&gt;isChordRest()) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="keywordflow">if</span> (isUndo)</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                  <a class="code" href="namespaceMs.html#a462d3365be5b78dc721f068ff5d97ecf">undoRemoveTuplet</a>(<a class="code" href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">toChordRest</a>(element));</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                  <a class="code" href="namespaceMs.html#a643c984a4eff129e0e5b57bbf7337c90">undoAddTuplet</a>(<a class="code" href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">toChordRest</a>(element));</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            }</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element-&gt;isClef()) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            element-&gt;triggerLayout();</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            element-&gt;score()-&gt;setLayout(element-&gt;staff()-&gt;nextClefTick(element-&gt;tick()), element-&gt;staffIdx());</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            }</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element-&gt;isKeySig()) {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            element-&gt;triggerLayout();</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            element-&gt;score()-&gt;setLayout(element-&gt;staff()-&gt;nextKeyTick(element-&gt;tick()), element-&gt;staffIdx());</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">//   undo</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="classMs_1_1AddElement.html#ab566b98941c1a39f956b6eecc51f5bf8">  749</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1AddElement.html#ab566b98941c1a39f956b6eecc51f5bf8">AddElement::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">if</span> (!element-&gt;isTuplet())</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            element-&gt;score()-&gt;removeElement(element);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      endUndoRedo(<span class="keyword">true</span>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">//   redo</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="classMs_1_1AddElement.html#ac20dd8ed95599b2634a4624ffa5dd385">  760</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1AddElement.html#ac20dd8ed95599b2634a4624ffa5dd385">AddElement::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">if</span> (!element-&gt;isTuplet())</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            element-&gt;score()-&gt;addElement(element);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      endUndoRedo(<span class="keyword">false</span>);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">//   name</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="classMs_1_1AddElement.html#a2179741699322a5dec8cc748f8132359">  771</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMs_1_1AddElement.html#a2179741699322a5dec8cc748f8132359">AddElement::name</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keyword">static</span> <span class="keywordtype">char</span> buffer[64];</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="keywordflow">if</span> (element-&gt;isTextBase())</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            snprintf(buffer, 64, <span class="stringliteral">&quot;Add:    %s &lt;%s&gt; %p&quot;</span>, element-&gt;name(),</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;               qPrintable(<a class="code" href="namespaceMs.html#a0ae7680d3dcd8f5ece7e7c9985988c06">toTextBase</a>(element)-&gt;plainText()), element);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element-&gt;isSegment())</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            snprintf(buffer, 64, <span class="stringliteral">&quot;Add:    &lt;%s-%s&gt; %p&quot;</span>, element-&gt;name(), toSegment(element)-&gt;subTypeName(), element);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            snprintf(buffer, 64, <span class="stringliteral">&quot;Add:    &lt;%s&gt; %p&quot;</span>, element-&gt;name(), element);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">return</span> buffer;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">//   AddElement::isFiltered</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="classMs_1_1AddElement.html#ae1724f3eff65950dd697cb7efbf1444c">  788</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1AddElement.html#ae1724f3eff65950dd697cb7efbf1444c">AddElement::isFiltered</a>(<a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">UndoCommand::Filter</a> f, <span class="keyword">const</span> <a class="code" href="classMs_1_1Element.html">Element</a>* target)<span class="keyword"> const</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="keyword">using</span> <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">Filter</a> = <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">UndoCommand::Filter</a>;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">switch</span> (f) {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425ac4cdf151d451cf1b8ad1cc2374226720">Filter::AddElement</a>:</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                  <span class="keywordflow">return</span> target == element;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425adbebebb26c2ba1eba3b58180175bd3e8">Filter::AddElementLinked</a>:</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                  <span class="keywordflow">return</span> target-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a2f0ed55c566c19cb483d77250cb52450">linkList</a>().contains(element);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      }</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">//   removeNote</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">//    Helper function for RemoveElement class</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="namespaceMs.html#a30f39f7eefef5cf5e7f7e97fec483254">  807</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceMs.html#a30f39f7eefef5cf5e7f7e97fec483254">removeNote</a>(<span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* note)</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a> = note-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">if</span> (note-&gt;<a class="code" href="classMs_1_1Note.html#a48317b9139affa970569ed1fcb3add46">tieFor</a>() &amp;&amp; note-&gt;<a class="code" href="classMs_1_1Note.html#a48317b9139affa970569ed1fcb3add46">tieFor</a>()-&gt;<a class="code" href="classMs_1_1Tie.html#a9719252bb8e38b88324bdd19ca07f13d">endNote</a>())</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1RemoveElement.html">RemoveElement</a>(note-&gt;<a class="code" href="classMs_1_1Note.html#a48317b9139affa970569ed1fcb3add46">tieFor</a>()));</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">if</span> (note-&gt;<a class="code" href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">tieBack</a>())</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1RemoveElement.html">RemoveElement</a>(note-&gt;<a class="code" href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">tieBack</a>()));</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Spanner.html">Spanner</a>* s : note-&gt;<a class="code" href="classMs_1_1Note.html#a7e2a07630dad78f0911a16be88e16729">spannerBack</a>()) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1RemoveElement.html">RemoveElement</a>(s));</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Spanner.html">Spanner</a>* s : note-&gt;<a class="code" href="classMs_1_1Note.html#ad85cf645f375f12d682c28243dedf029">spannerFor</a>()) {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1RemoveElement.html">RemoveElement</a>(s));</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">//   RemoveElement</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveElement.html#ac4afb55f915155b04047e85d00726fa7">  826</a></span>&#160;<a class="code" href="classMs_1_1RemoveElement.html#ac4afb55f915155b04047e85d00726fa7">RemoveElement::RemoveElement</a>(<a class="code" href="classMs_1_1Element.html">Element</a>* e)</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      {</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      element = e;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a> = element-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keywordflow">if</span> (element-&gt;isChordRest()) {</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <a class="code" href="classMs_1_1ChordRest.html">ChordRest</a>* cr = <a class="code" href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">toChordRest</a>(element);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            <span class="keywordflow">if</span> (cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>() &amp;&amp; cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>()-&gt;<a class="code" href="classMs_1_1Tuplet.html#a335f84666bd36e2bca5963785ae9759a">elements</a>().size() &lt;= 1)</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                  score-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1RemoveElement.html">RemoveElement</a>(cr-&gt;<a class="code" href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">tuplet</a>()));</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            <span class="keywordflow">if</span> (e-&gt;isChord()) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* chord = toChord(e);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                  <span class="comment">// remove tremolo between 2 notes</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                  <span class="keywordflow">if</span> (chord-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>()) {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                        <a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>* tremolo = chord-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>();</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                        <span class="keywordflow">if</span> (tremolo-&gt;<a class="code" href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">twoNotes</a>())</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                              score-&gt;<a class="code" href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">undo</a>(<span class="keyword">new</span> <a class="code" href="classMs_1_1RemoveElement.html">RemoveElement</a>(tremolo));</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                        }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* note : chord-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                        <a class="code" href="namespaceMs.html#a30f39f7eefef5cf5e7f7e97fec483254">removeNote</a>(note);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                        }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                  }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            }</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element-&gt;isNote()) {</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <span class="comment">// Removing an individual note within a chord</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="keyword">const</span> <a class="code" href="classMs_1_1Note.html">Note</a>* note = toNote(element);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            <a class="code" href="namespaceMs.html#a30f39f7eefef5cf5e7f7e97fec483254">removeNote</a>(note);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            }</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">//   RemoveElement::cleanup</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveElement.html#a1b8619e851d6d59e94d967a8bdc0df23">  859</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveElement.html#a1b8619e851d6d59e94d967a8bdc0df23">RemoveElement::cleanup</a>(<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1UndoMacro.html#ad380e22ca3b3db66151d94acb1fd2bcb">undo</a>)</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      {</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordflow">if</span> (undo) {</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keyword">delete</span> element;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            element = 0;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">//   undo</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveElement.html#a424f53c4df0ac7a004863a7c2947c6f4">  871</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveElement.html#a424f53c4df0ac7a004863a7c2947c6f4">RemoveElement::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">if</span> (!element-&gt;isTuplet())</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            element-&gt;score()-&gt;addElement(element);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keywordflow">if</span> (element-&gt;isChordRest()) {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            <span class="keywordflow">if</span> (element-&gt;isChord()) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* chord = toChord(element);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                  <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : chord-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                        note-&gt;connectTiedNotes();</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                        }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                  }</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            <a class="code" href="namespaceMs.html#a643c984a4eff129e0e5b57bbf7337c90">undoAddTuplet</a>(<a class="code" href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">toChordRest</a>(element));</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element-&gt;isClef())</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            element-&gt;score()-&gt;setLayout(element-&gt;staff()-&gt;nextClefTick(element-&gt;tick()), element-&gt;staffIdx());</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element-&gt;isKeySig())</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            element-&gt;score()-&gt;setLayout(element-&gt;staff()-&gt;nextKeyTick(element-&gt;tick()), element-&gt;staffIdx());</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">//   redo</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveElement.html#a7141f0c1c4ec888388d0e6326887e687">  894</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveElement.html#a7141f0c1c4ec888388d0e6326887e687">RemoveElement::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      {</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">if</span> (!element-&gt;isTuplet())</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            element-&gt;score()-&gt;removeElement(element);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">if</span> (element-&gt;isChordRest()) {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <a class="code" href="namespaceMs.html#a462d3365be5b78dc721f068ff5d97ecf">undoRemoveTuplet</a>(<a class="code" href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">toChordRest</a>(element));</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <span class="keywordflow">if</span> (element-&gt;isChord()) {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* chord = toChord(element);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                  <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* note : chord-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                        note-&gt;disconnectTiedNotes();</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                        }</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                  }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element-&gt;isClef())</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            element-&gt;score()-&gt;setLayout(element-&gt;staff()-&gt;nextClefTick(element-&gt;tick()), element-&gt;staffIdx());</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element-&gt;isKeySig())</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            element-&gt;score()-&gt;setLayout(element-&gt;staff()-&gt;nextKeyTick(element-&gt;tick()), element-&gt;staffIdx());</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">//   name</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveElement.html#a45261e472b3646a2b99b1dbade4e0146">  917</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMs_1_1RemoveElement.html#a45261e472b3646a2b99b1dbade4e0146">RemoveElement::name</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keyword">static</span> <span class="keywordtype">char</span> buffer[64];</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <span class="keywordflow">if</span> (element-&gt;isTextBase())</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            snprintf(buffer, 64, <span class="stringliteral">&quot;Remove: %s &lt;%s&gt; %p&quot;</span>, element-&gt;name(),</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;               qPrintable(<a class="code" href="namespaceMs.html#a0ae7680d3dcd8f5ece7e7c9985988c06">toTextBase</a>(element)-&gt;plainText()), element);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element-&gt;isSegment())</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            snprintf(buffer, 64, <span class="stringliteral">&quot;Remove: &lt;%s-%s&gt; %p&quot;</span>, element-&gt;name(), toSegment(element)-&gt;subTypeName(), element);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            snprintf(buffer, 64, <span class="stringliteral">&quot;Remove: %s %p&quot;</span>, element-&gt;name(), element);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">return</span> buffer;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">//   RemoveElement::isFiltered</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveElement.html#abfe7fe22251abe009d6cb9f9b9f38cf3">  934</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1RemoveElement.html#abfe7fe22251abe009d6cb9f9b9f38cf3">RemoveElement::isFiltered</a>(<a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">UndoCommand::Filter</a> f, <span class="keyword">const</span> <a class="code" href="classMs_1_1Element.html">Element</a>* target)<span class="keyword"> const</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keyword">using</span> <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">Filter</a> = <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">UndoCommand::Filter</a>;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keywordflow">switch</span> (f) {</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425a88bc403c4844cd9977762fcbb42fbd81">Filter::RemoveElement</a>:</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                  <span class="keywordflow">return</span> target == element;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425a4dfba59eee0c16b80056bbc068a7d849">Filter::RemoveElementLinked</a>:</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                  <span class="keywordflow">return</span> target-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a2f0ed55c566c19cb483d77250cb52450">linkList</a>().contains(element);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      }</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">//   InsertPart</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno"><a class="line" href="classMs_1_1InsertPart.html#ab7ff5af18408818ab56450a4803429d4">  952</a></span>&#160;<a class="code" href="classMs_1_1InsertPart.html#ab7ff5af18408818ab56450a4803429d4">InsertPart::InsertPart</a>(<a class="code" href="classMs_1_1Part.html">Part</a>* p, <span class="keywordtype">int</span> i)</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      part = p;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      idx  = i;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno"><a class="line" href="classMs_1_1InsertPart.html#ad7ed6170c9aacab26ac01f612f80dd32">  958</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertPart.html#ad7ed6170c9aacab26ac01f612f80dd32">InsertPart::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      part-&gt;score()-&gt;removePart(part);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno"><a class="line" href="classMs_1_1InsertPart.html#adcbf7e3aa8d3da3c7207bfbfa4bcb2a5">  963</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertPart.html#adcbf7e3aa8d3da3c7207bfbfa4bcb2a5">InsertPart::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      part-&gt;score()-&gt;insertPart(part, idx);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      }</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">//   RemovePart</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="classMs_1_1RemovePart.html#aaedb202ee748c018516cbbea41246396">  972</a></span>&#160;<a class="code" href="classMs_1_1RemovePart.html#aaedb202ee748c018516cbbea41246396">RemovePart::RemovePart</a>(<a class="code" href="classMs_1_1Part.html">Part</a>* p, <span class="keywordtype">int</span> i)</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      part = p;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      idx  = i;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno"><a class="line" href="classMs_1_1RemovePart.html#ab523c10e85981d9e2a3d0dd71a29d956">  978</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemovePart.html#ab523c10e85981d9e2a3d0dd71a29d956">RemovePart::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      {</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      part-&gt;score()-&gt;insertPart(part, idx);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="classMs_1_1RemovePart.html#a8f374515015f35f4da89d91ab7b5297a">  983</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemovePart.html#a8f374515015f35f4da89d91ab7b5297a">RemovePart::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      part-&gt;score()-&gt;removePart(part);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      }</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">//   InsertStaff</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno"><a class="line" href="classMs_1_1InsertStaff.html#a20468d34c1e856ebc71e9d2554deca8d">  992</a></span>&#160;<a class="code" href="classMs_1_1InsertStaff.html#a20468d34c1e856ebc71e9d2554deca8d">InsertStaff::InsertStaff</a>(<a class="code" href="classMs_1_1Staff.html">Staff</a>* p, <span class="keywordtype">int</span> _ridx)</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      {</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      staff = p;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      ridx  = _ridx;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="classMs_1_1InsertStaff.html#a8277b8b44de2d04c6c23676b8e4bc601">  998</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertStaff.html#a8277b8b44de2d04c6c23676b8e4bc601">InsertStaff::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      {</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      staff-&gt;score()-&gt;removeStaff(staff);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      }</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"><a class="line" href="classMs_1_1InsertStaff.html#a43c7d604cfba1aefd9a1b02bf0eca847"> 1003</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertStaff.html#a43c7d604cfba1aefd9a1b02bf0eca847">InsertStaff::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      staff-&gt;score()-&gt;insertStaff(staff, ridx);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">//   RemoveStaff</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveStaff.html#af86711c1b1cc42d49966e30507ac924d"> 1012</a></span>&#160;<a class="code" href="classMs_1_1RemoveStaff.html#af86711c1b1cc42d49966e30507ac924d">RemoveStaff::RemoveStaff</a>(<a class="code" href="classMs_1_1Staff.html">Staff</a>* p)</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      staff = p;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      ridx  = staff-&gt;<a class="code" href="classMs_1_1Staff.html#a19693586b624485ae120b2d644ddbf22">rstaff</a>();</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveStaff.html#a289a8e8724d3abc2fd61716c8cc9a8a5"> 1018</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveStaff.html#a289a8e8724d3abc2fd61716c8cc9a8a5">RemoveStaff::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      {</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      staff-&gt;score()-&gt;insertStaff(staff, ridx);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      }</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveStaff.html#a5ad5b5e6d89c9a533719bdf02b43a2a2"> 1023</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveStaff.html#a5ad5b5e6d89c9a533719bdf02b43a2a2">RemoveStaff::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      staff-&gt;score()-&gt;removeStaff(staff);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      }</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">//   InsertMStaff</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="classMs_1_1InsertMStaff.html#a41fb1849ff2059fd3b9775fa710a2a03"> 1032</a></span>&#160;<a class="code" href="classMs_1_1InsertMStaff.html#a41fb1849ff2059fd3b9775fa710a2a03">InsertMStaff::InsertMStaff</a>(<a class="code" href="classMs_1_1Measure.html">Measure</a>* m, <a class="code" href="classMs_1_1MStaff.html">MStaff</a>* ms, <span class="keywordtype">int</span> i)</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      measure = m;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      mstaff  = ms;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      idx     = i;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      }</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"><a class="line" href="classMs_1_1InsertMStaff.html#a1bd4d0856025c03bb68239f30cc9bf52"> 1039</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertMStaff.html#a1bd4d0856025c03bb68239f30cc9bf52">InsertMStaff::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      measure-&gt;removeMStaff(mstaff, idx);</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"><a class="line" href="classMs_1_1InsertMStaff.html#ac4717535584d521881ae99b9e241234f"> 1044</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertMStaff.html#ac4717535584d521881ae99b9e241234f">InsertMStaff::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      measure-&gt;insertMStaff(mstaff, idx);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      }</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">//   RemoveMStaff</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveMStaff.html#af3c8efc87a6541457092da7c5046c848"> 1053</a></span>&#160;<a class="code" href="classMs_1_1RemoveMStaff.html#af3c8efc87a6541457092da7c5046c848">RemoveMStaff::RemoveMStaff</a>(<a class="code" href="classMs_1_1Measure.html">Measure</a>* m, <a class="code" href="classMs_1_1MStaff.html">MStaff</a>* ms, <span class="keywordtype">int</span> i)</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      measure = m;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      mstaff  = ms;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      idx     = i;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      }</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveMStaff.html#a03a40c8b3e37b843290825e1ade5068c"> 1060</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveMStaff.html#a03a40c8b3e37b843290825e1ade5068c">RemoveMStaff::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      {</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      measure-&gt;insertMStaff(mstaff, idx);</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveMStaff.html#a21a4df819d58ead4a41f0222811116a4"> 1065</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveMStaff.html#a21a4df819d58ead4a41f0222811116a4">RemoveMStaff::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      measure-&gt;removeMStaff(mstaff, idx);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">//   SortStaves</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div><div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="classMs_1_1SortStaves.html#a37558c9149fdaa746c7651c492cc6086"> 1074</a></span>&#160;<a class="code" href="classMs_1_1SortStaves.html#a37558c9149fdaa746c7651c492cc6086">SortStaves::SortStaves</a>(<a class="code" href="classMs_1_1Score.html">Score</a>* s, QList&lt;int&gt; l)</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a> = s;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0 ; i &lt; l.size(); i++) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            rlist.append(l.indexOf(i));</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            }</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      list  = l;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      }</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"><a class="line" href="classMs_1_1SortStaves.html#a5241617ea04818921fe0a512d4f5cf01"> 1084</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1SortStaves.html#a5241617ea04818921fe0a512d4f5cf01">SortStaves::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a8900162613fb97d2a70bdf615a93f1d3">sortStaves</a>(list);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      }</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="classMs_1_1SortStaves.html#ac3db0742daccfcef821036876f8e2cb0"> 1089</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1SortStaves.html#ac3db0742daccfcef821036876f8e2cb0">SortStaves::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a8900162613fb97d2a70bdf615a93f1d3">sortStaves</a>(rlist);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">//   MapExcerptTracks</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="classMs_1_1MapExcerptTracks.html#ad3a5fcad4aa8a4deedc5c45190d733a9"> 1098</a></span>&#160;<a class="code" href="classMs_1_1MapExcerptTracks.html#ad3a5fcad4aa8a4deedc5c45190d733a9">MapExcerptTracks::MapExcerptTracks</a>(<a class="code" href="classMs_1_1Score.html">Score</a>* s, QList&lt;int&gt; l)</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a> = s;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment">       *    In list l [x] represents the previous index of the staffIdx x.</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment">       *    If the a staff x is a newly added staff, l[x] = -1.</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment">       *    For the &quot;undo&quot; all staves which value -1 are *not* remapped since</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment">       *    it is assumed this staves are removed later.</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; l.size(); ++i) {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordflow">if</span> (l[i] &gt;= 0)</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                  rlist.insert(l[i], i);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            }</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      list = l;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"><a class="line" href="classMs_1_1MapExcerptTracks.html#a9293c681420ab96fdd87506eb5fc28df"> 1115</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1MapExcerptTracks.html#a9293c681420ab96fdd87506eb5fc28df">MapExcerptTracks::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#adc48aa06dc7a15edf94f2af688cec616">mapExcerptTracks</a>(list);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      }</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="classMs_1_1MapExcerptTracks.html#a87449d1f9b23ed49bb70992e1506b7f1"> 1120</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1MapExcerptTracks.html#a87449d1f9b23ed49bb70992e1506b7f1">MapExcerptTracks::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#adc48aa06dc7a15edf94f2af688cec616">mapExcerptTracks</a>(rlist);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      }</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">//   ChangePitch</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div><div class="line"><a name="l01129"></a><span class="lineno"><a class="line" href="classMs_1_1ChangePitch.html#ac3d9031c142edba1a0714ebeecaf5b58"> 1129</a></span>&#160;<a class="code" href="classMs_1_1ChangePitch.html#ac3d9031c142edba1a0714ebeecaf5b58">ChangePitch::ChangePitch</a>(<a class="code" href="classMs_1_1Note.html">Note</a>* _note, <span class="keywordtype">int</span> _pitch, <span class="keywordtype">int</span> _tpc1, <span class="keywordtype">int</span> _tpc2)</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      note  = _note;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      pitch = _pitch;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      tpc1  = _tpc1;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      tpc2  = _tpc2;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div><div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="classMs_1_1ChangePitch.html#a75270a105a47aa755b274801672a7ff9"> 1137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangePitch.html#a75270a105a47aa755b274801672a7ff9">ChangePitch::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      {</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <span class="keywordtype">int</span> f_pitch = note-&gt;pitch();</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="keywordtype">int</span> f_tpc1  = note-&gt;tpc1();</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordtype">int</span> f_tpc2  = note-&gt;tpc2();</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="comment">// do not change unless necessary</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">if</span> (f_pitch == pitch &amp;&amp; f_tpc1 == tpc1 &amp;&amp; f_tpc2 == tpc2)</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      note-&gt;setPitch(pitch, tpc1, tpc2);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      pitch = f_pitch;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      tpc1  = f_tpc1;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      tpc2  = f_tpc2;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      note-&gt;triggerLayout();</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      }</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">//   ChangeFretting</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment">//    To use with tablatures to force a specific note fretting;</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="comment">//    Pitch, string and fret must be changed all together; otherwise,</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment">//    if they are not consistent among themselves, the refretting algorithm may re-assign</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment">//    fret and string numbers for (potentially) all the notes of all the chords of a segment.</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeFretting.html#a48e15750803d0d43a443e8d62d2b988e"> 1163</a></span>&#160;<a class="code" href="classMs_1_1ChangeFretting.html#a48e15750803d0d43a443e8d62d2b988e">ChangeFretting::ChangeFretting</a>(<a class="code" href="classMs_1_1Note.html">Note</a>* _note, <span class="keywordtype">int</span> _pitch, <span class="keywordtype">int</span> _string, <span class="keywordtype">int</span> _fret, <span class="keywordtype">int</span> _tpc1, <span class="keywordtype">int</span> _tpc2)</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      {</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      note  = _note;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      pitch = _pitch;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keywordtype">string</span>= _string;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      fret  = _fret;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      tpc1  = _tpc1;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      tpc2  = _tpc2;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      }</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeFretting.html#a415dde15ba200f0007d2829d042836fa"> 1173</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeFretting.html#a415dde15ba200f0007d2829d042836fa">ChangeFretting::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      {</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordtype">int</span> f_pitch = note-&gt;pitch();</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keywordtype">int</span> f_string= note-&gt;string();</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="keywordtype">int</span> f_fret  = note-&gt;fret();</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordtype">int</span> f_tpc1  = note-&gt;tpc1();</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="keywordtype">int</span> f_tpc2  = note-&gt;tpc2();</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="comment">// do not change unless necessary</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="keywordflow">if</span> (f_pitch == pitch &amp;&amp; f_string == <span class="keywordtype">string</span> &amp;&amp; f_fret == fret &amp;&amp; f_tpc1 == tpc1 &amp;&amp; f_tpc2 == tpc2) {</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;            }</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      note-&gt;setPitch(pitch, tpc1, tpc2);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      note-&gt;setString(<span class="keywordtype">string</span>);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      note-&gt;setFret(fret);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      pitch = f_pitch;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="keywordtype">string</span>= f_string;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      fret  = f_fret;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      tpc1  = f_tpc1;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      tpc2  = f_tpc2;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      note-&gt;triggerLayout();</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      }</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment">//   ChangeElement</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div><div class="line"><a name="l01200"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeElement.html#a118149ec5b126f31ca1ddc506ea8d239"> 1200</a></span>&#160;<a class="code" href="classMs_1_1ChangeElement.html#a118149ec5b126f31ca1ddc506ea8d239">ChangeElement::ChangeElement</a>(<a class="code" href="classMs_1_1Element.html">Element</a>* oe, <a class="code" href="classMs_1_1Element.html">Element</a>* ne)</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      oldElement = oe;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      newElement = ne;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      }</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeElement.html#a86f9561119501023fe23ae743dd7a254"> 1206</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeElement.html#a86f9561119501023fe23ae743dd7a254">ChangeElement::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      {</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keyword">const</span> <a class="code" href="classMs_1_1LinkedElements.html">LinkedElements</a>* links = oldElement-&gt;links();</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">if</span> (links) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            newElement-&gt;linkTo(oldElement);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            oldElement-&gt;unlink();</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            }</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* <a class="code" href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">score</a> = oldElement-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <span class="keywordflow">if</span> (!score-&gt;<a class="code" href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">selection</a>().<a class="code" href="classMs_1_1Selection.html#a884ac586a99a211a55eab115a2c3d95f">isRange</a>()) {</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;            <span class="keywordflow">if</span> (oldElement-&gt;selected())</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                  score-&gt;<a class="code" href="classMs_1_1Score.html#ac6710dc304e8f163b23b002ea1000b00">deselect</a>(oldElement);</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <span class="keywordflow">if</span> (newElement-&gt;selected())</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                  score-&gt;<a class="code" href="classMs_1_1Score.html#aa3b85eb58a8f7f4476fbd05b59253585">select</a>(newElement, <a class="code" href="namespaceMs.html#a401306c67aaadf0a4102c60331e324d6a9eeb52badb613229884838847294b90d">SelectType::ADD</a>);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            }</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">if</span> (oldElement-&gt;parent() == 0) {</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#a3582dc9e196e1e25bd9ed582fd818fa0">removeElement</a>(oldElement);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#ac1ed7b10bdb1a93929c135025dc400ee">addElement</a>(newElement);</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            }</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            oldElement-&gt;parent()-&gt;change(oldElement, newElement);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">if</span> (newElement-&gt;isKeySig()) {</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            <a class="code" href="classMs_1_1KeySig.html">KeySig</a>* ks = toKeySig(newElement);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            <span class="keywordflow">if</span> (!ks-&gt;<a class="code" href="classMs_1_1Element.html#a3679cdb6351e67e9f482fa9a7fb3d466">generated</a>())</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                  ks-&gt;<a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#a759d15293c7797565eaee37e61fcfc93">setKey</a>(ks-&gt;<a class="code" href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">tick</a>(), ks-&gt;<a class="code" href="classMs_1_1KeySig.html#a167094029a75cd2df41ebd1b2abee522">keySigEvent</a>());</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            }</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (newElement-&gt;isDynamic())</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            newElement-&gt;score()-&gt;addLayoutFlags(<a class="code" href="namespaceMs.html#ae95dea350de4a3014dbcbcfe9a6a75dcafe617927f45d26bbaf17fc0e288066f8">LayoutFlag::FIX_PITCH_VELO</a>);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (newElement-&gt;isTempoText()) {</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            <a class="code" href="classMs_1_1TempoText.html">TempoText</a>* t = toTempoText(oldElement);</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#a7a9fdb8bf36af6e7d9b8468cedd3d079">setTempo</a>(t-&gt;<a class="code" href="classMs_1_1TempoText.html#a5eca771202524e6e04ae32e8a4ecb890">segment</a>(), t-&gt;<a class="code" href="classMs_1_1TempoText.html#ac270f98cf8e5ec561a6ebb3c0118dbf4">tempo</a>());</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            }</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="comment">//      if (newElement-&gt;isSegmentFlag()) {</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">if</span> (newElement-&gt;isSpannerSegment()) {</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            <a class="code" href="classMs_1_1SpannerSegment.html">SpannerSegment</a>* os = <a class="code" href="namespaceMs.html#a8886182157e4e29202c1b22bbdc76ecb">toSpannerSegment</a>(oldElement);</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <a class="code" href="classMs_1_1SpannerSegment.html">SpannerSegment</a>* ns = <a class="code" href="namespaceMs.html#a8886182157e4e29202c1b22bbdc76ecb">toSpannerSegment</a>(newElement);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="keywordflow">if</span> (os-&gt;<a class="code" href="classMs_1_1SpannerSegment.html#ae988f78aec0a13e5a204fe135b6b0ae0">system</a>())</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                  os-&gt;<a class="code" href="classMs_1_1SpannerSegment.html#ae988f78aec0a13e5a204fe135b6b0ae0">system</a>()-&gt;<a class="code" href="classMs_1_1System.html#aaf529665602c113a229f81e888bdf06f">remove</a>(os);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;            <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="classMs_1_1SpannerSegment.html#ae988f78aec0a13e5a204fe135b6b0ae0">system</a>())</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                  ns-&gt;<a class="code" href="classMs_1_1SpannerSegment.html#ae988f78aec0a13e5a204fe135b6b0ae0">system</a>()-&gt;<a class="code" href="classMs_1_1System.html#a38215a755206cfd574aab3986d59a11c">add</a>(ns);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            }</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      qSwap(oldElement, newElement);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      oldElement-&gt;triggerLayout();</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      newElement-&gt;triggerLayout();</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="comment">// score-&gt;setLayoutAll();</span></div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      }</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment">//   InsertStaves</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"><a class="line" href="classMs_1_1InsertStaves.html#a0f39a8bf9bd9c586aff88896b4ad6a3f"> 1259</a></span>&#160;<a class="code" href="classMs_1_1InsertStaves.html#a0f39a8bf9bd9c586aff88896b4ad6a3f">InsertStaves::InsertStaves</a>(<a class="code" href="classMs_1_1Measure.html">Measure</a>* m, <span class="keywordtype">int</span> _a, <span class="keywordtype">int</span> _b)</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      measure = m;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      a       = _a;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      b       = _b;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      }</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"><a class="line" href="classMs_1_1InsertStaves.html#a0ffe96f50437928b17c6d3b2f23c933e"> 1266</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertStaves.html#a0ffe96f50437928b17c6d3b2f23c933e">InsertStaves::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      {</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      measure-&gt;removeStaves(a, b);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      }</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"><a class="line" href="classMs_1_1InsertStaves.html#afbd1d3ae44edf1c90f74f5af25d69d7e"> 1271</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertStaves.html#afbd1d3ae44edf1c90f74f5af25d69d7e">InsertStaves::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      {</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      measure-&gt;insertStaves(a, b);</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      }</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">//   RemoveStaves</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveStaves.html#a889cd3c14239eb001427fa4879b9a169"> 1280</a></span>&#160;<a class="code" href="classMs_1_1RemoveStaves.html#a889cd3c14239eb001427fa4879b9a169">RemoveStaves::RemoveStaves</a>(<a class="code" href="classMs_1_1Measure.html">Measure</a>* m, <span class="keywordtype">int</span> _a, <span class="keywordtype">int</span> _b)</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      measure = m;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      a       = _a;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      b       = _b;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      }</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveStaves.html#a3375086725bd316d7200c563fcc87387"> 1287</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveStaves.html#a3375086725bd316d7200c563fcc87387">RemoveStaves::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      {</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      measure-&gt;insertStaves(a, b);</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      }</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div><div class="line"><a name="l01292"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveStaves.html#a4e2ad5343eb18425065e5edeb6750290"> 1292</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveStaves.html#a4e2ad5343eb18425065e5edeb6750290">RemoveStaves::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      measure-&gt;removeStaves(a, b);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment">//   ChangeKeySig</span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01301"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeKeySig.html#a5a6818c44521f18734bcb5b0f220de76"> 1301</a></span>&#160;<a class="code" href="classMs_1_1ChangeKeySig.html#a5a6818c44521f18734bcb5b0f220de76">ChangeKeySig::ChangeKeySig</a>(<a class="code" href="classMs_1_1KeySig.html">KeySig</a>* k, <a class="code" href="classMs_1_1KeySigEvent.html">KeySigEvent</a> newKeySig, <span class="keywordtype">bool</span> sc, <span class="keywordtype">bool</span> addEvtToStaff)</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;   : keysig(k), ks(newKeySig), showCourtesy(sc), evtInStaff(addEvtToStaff)</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      {}</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeKeySig.html#a088664f90c8a03d395f31132e2ea83a4"> 1305</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeKeySig.html#a088664f90c8a03d395f31132e2ea83a4">ChangeKeySig::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <a class="code" href="classMs_1_1Segment.html">Segment</a>* segment = <a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1KeySig.html#a4d793018e9602aacd74bc9f7bffea925">segment</a>();</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <a class="code" href="classMs_1_1Fraction.html">Fraction</a> <a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a> = segment-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>();</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <a class="code" href="classMs_1_1Staff.html">Staff</a>* staff = <a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>();</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> curEvtInStaff = (staff-&gt;<a class="code" href="classMs_1_1Staff.html#ae3a942980e5d2c7bcf1395be2d0f2cf7">currentKeyTick</a>(tick) == <a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <a class="code" href="classMs_1_1KeySigEvent.html">KeySigEvent</a> curKey = <a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1KeySig.html#a167094029a75cd2df41ebd1b2abee522">keySigEvent</a>();</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> curShowCourtesy = <a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1KeySig.html#ae86100386edc3a5b7445b4c3d7cee79a">showCourtesy</a>();</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1KeySig.html#aaaf4f96a1788a5bdb3689dc2df8fb60d">setKeySigEvent</a>(<a class="code" href="classMs_1_1ChangeKeySig.html#a261f7b58ee1e5046bf613b67b922c404">ks</a>);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1KeySig.html#a754d46597fabc130c535fa62ec782133">setShowCourtesy</a>(<a class="code" href="classMs_1_1ChangeKeySig.html#a82f9f0df1aad187b109de765ac2efb0d">showCourtesy</a>);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="comment">// Add/remove the corresponding key events, if appropriate.</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChangeKeySig.html#ae4be4589adebd6a1d9785b12166de372">evtInStaff</a>)</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            staff-&gt;<a class="code" href="classMs_1_1Staff.html#a759d15293c7797565eaee37e61fcfc93">setKey</a>(tick, <a class="code" href="classMs_1_1ChangeKeySig.html#a261f7b58ee1e5046bf613b67b922c404">ks</a>); <span class="comment">// replace</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (curEvtInStaff)</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            staff-&gt;<a class="code" href="classMs_1_1Staff.html#a53f34460b77bf35d48ef85a7bc99295e">removeKey</a>(tick); <span class="comment">// if nothing to add instead, just remove.</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="comment">// If no keysig event corresponds to the key signature then this keysig</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="comment">// is probably generated. Otherwise it is probably added manually.</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <span class="comment">// Set segment flags according to this, layout will change it if needed.</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      segment-&gt;<a class="code" href="classMs_1_1Element.html#ab75c49bf26fcb549bd1959ffe7925d8b">setEnabled</a>(<a class="code" href="classMs_1_1ChangeKeySig.html#ae4be4589adebd6a1d9785b12166de372">evtInStaff</a>);</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      segment-&gt;<a class="code" href="classMs_1_1Element.html#a5033ef29dffbf6e40958e4fdd2802b6d">setHeader</a>(!<a class="code" href="classMs_1_1ChangeKeySig.html#ae4be4589adebd6a1d9785b12166de372">evtInStaff</a> &amp;&amp; segment-&gt;<a class="code" href="classMs_1_1Segment.html#a8a396189ef9375898066fb2d30952d79">rtick</a>() == <a class="code" href="classMs_1_1Fraction.html">Fraction</a>(0,1));</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <a class="code" href="classMs_1_1ChangeKeySig.html#a82f9f0df1aad187b109de765ac2efb0d">showCourtesy</a> = curShowCourtesy;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <a class="code" href="classMs_1_1ChangeKeySig.html#a261f7b58ee1e5046bf613b67b922c404">ks</a>           = curKey;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <a class="code" href="classMs_1_1ChangeKeySig.html#ae4be4589adebd6a1d9785b12166de372">evtInStaff</a>   = curEvtInStaff;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1Element.html#ab28ffe83fb1064fb3c2a6fa648bca688">triggerLayout</a>();</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a3effba59b9156e160fa43f401d09ede1">setLayout</a>(<a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#a0d1ae9f37319e1313653c2ece25f094a">nextKeyTick</a>(tick), <a class="code" href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">keysig</a>-&gt;<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>());</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      }</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="comment">//   ChangeMeasureLen</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div><div class="line"><a name="l01341"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeMeasureLen.html#afd476784a70270b6867eee2323046b50"> 1341</a></span>&#160;<a class="code" href="classMs_1_1ChangeMeasureLen.html#afd476784a70270b6867eee2323046b50">ChangeMeasureLen::ChangeMeasureLen</a>(<a class="code" href="classMs_1_1Measure.html">Measure</a>* m, <a class="code" href="classMs_1_1Fraction.html">Fraction</a> l)</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      {</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      measure     = m;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      len         = l;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeMeasureLen.html#a6f3f1b5964802e7cdbd7070a83450ca7"> 1347</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeMeasureLen.html#a6f3f1b5964802e7cdbd7070a83450ca7">ChangeMeasureLen::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <a class="code" href="classMs_1_1Fraction.html">Fraction</a> oLen = measure-&gt;<a class="code" href="classMs_1_1Fraction.html#a1d92a73ce7f9b7f895a9a083f6fe1eb2">ticks</a>();</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="comment">// move EndBarLine and TimeSigAnnounce</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="comment">// to end of measure:</span></div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      std::list&lt;Segment*&gt; sl;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Segment.html">Segment</a>* s = measure-&gt;first(); s; s = s-&gt;<a class="code" href="classMs_1_1Segment.html#a1c4c00c6b1052c6c122f5fc665ec8a20">next</a>()) {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            <span class="keywordflow">if</span> (!s-&gt;isEndBarLineType() &amp;&amp; !s-&gt;isTimeSigAnnounceType())</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            s-&gt;setRtick(len);</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            sl.push_back(s);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            measure-&gt;remove(s);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      measure-&gt;setTicks(len);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      measure-&gt;score()-&gt;fixTicks();</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      len = oLen;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      }</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="comment">//   TransposeHarmony</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="classMs_1_1TransposeHarmony.html#a24547cd4923183444e185466c357dd0c"> 1373</a></span>&#160;<a class="code" href="classMs_1_1TransposeHarmony.html#a24547cd4923183444e185466c357dd0c">TransposeHarmony::TransposeHarmony</a>(<a class="code" href="classMs_1_1Harmony.html">Harmony</a>* h, <span class="keywordtype">int</span> rtpc, <span class="keywordtype">int</span> btpc)</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      {</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      harmony = h;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      rootTpc = rtpc;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      baseTpc = btpc;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      }</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div><div class="line"><a name="l01380"></a><span class="lineno"><a class="line" href="classMs_1_1TransposeHarmony.html#a07e2b32abc7299308a454d10ffd882a3"> 1380</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1TransposeHarmony.html#a07e2b32abc7299308a454d10ffd882a3">TransposeHarmony::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      harmony-&gt;realizedHarmony().setDirty(<span class="keyword">true</span>); <span class="comment">//harmony should be re-realized after transposition</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordtype">int</span> baseTpc1 = harmony-&gt;baseTpc();</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="keywordtype">int</span> rootTpc1 = harmony-&gt;rootTpc();</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      harmony-&gt;setBaseTpc(baseTpc);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      harmony-&gt;setRootTpc(rootTpc);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      harmony-&gt;setXmlText(harmony-&gt;harmonyName());</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      harmony-&gt;render();</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      rootTpc = rootTpc1;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      baseTpc = baseTpc1;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      }</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment">//   ExchangeVoice</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"><a class="line" href="classMs_1_1ExchangeVoice.html#aaf821864989c7b5b5e903778f779e8a2"> 1397</a></span>&#160;<a class="code" href="classMs_1_1ExchangeVoice.html#aaf821864989c7b5b5e903778f779e8a2">ExchangeVoice::ExchangeVoice</a>(<a class="code" href="classMs_1_1Measure.html">Measure</a>* m, <span class="keywordtype">int</span> _val1, <span class="keywordtype">int</span> _val2, <span class="keywordtype">int</span> _staff)</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      {</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      measure = m;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      val1    = _val1;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      val2    = _val2;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      staff   = _staff;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      }</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"><a class="line" href="classMs_1_1ExchangeVoice.html#a1923005f409e8b9f6e99324814449b00"> 1405</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ExchangeVoice.html#a1923005f409e8b9f6e99324814449b00">ExchangeVoice::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      {</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      measure-&gt;exchangeVoice(val2, val1, staff);</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      measure-&gt;checkMultiVoices(staff);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      }</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"><a class="line" href="classMs_1_1ExchangeVoice.html#a59d468d9c16ec9d1357e41345297dc18"> 1411</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ExchangeVoice.html#a59d468d9c16ec9d1357e41345297dc18">ExchangeVoice::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      {</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      measure-&gt;exchangeVoice(val1, val2, staff);</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      }</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="comment">//   ChangeInstrumentShort</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeInstrumentShort.html#a381b73d8af517b0635f2ce1149d7504c"> 1420</a></span>&#160;<a class="code" href="classMs_1_1ChangeInstrumentShort.html#a381b73d8af517b0635f2ce1149d7504c">ChangeInstrumentShort::ChangeInstrumentShort</a>(<span class="keyword">const</span> <a class="code" href="classMs_1_1Fraction.html">Fraction</a>&amp;_tick, <a class="code" href="classMs_1_1Part.html">Part</a>* p, QList&lt;StaffName&gt; t)</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      {</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a> = _tick;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      part = p;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      text = t;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      }</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;</div><div class="line"><a name="l01427"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeInstrumentShort.html#a2a2bec90767aeeb96bdbc466139bfb50"> 1427</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeInstrumentShort.html#a2a2bec90767aeeb96bdbc466139bfb50">ChangeInstrumentShort::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      {</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      QList&lt;StaffName&gt; s = part-&gt;shortNames(<a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>);</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      part-&gt;setShortNames(text, <a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      text = s;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      part-&gt;score()-&gt;setLayoutAll();</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      }</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment">//   ChangeInstrumentLong</span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeInstrumentLong.html#abeccd0ddec8b1a2ebf4d74fc22f1c731"> 1439</a></span>&#160;<a class="code" href="classMs_1_1ChangeInstrumentLong.html#abeccd0ddec8b1a2ebf4d74fc22f1c731">ChangeInstrumentLong::ChangeInstrumentLong</a>(<span class="keyword">const</span> <a class="code" href="classMs_1_1Fraction.html">Fraction</a>&amp; _tick, <a class="code" href="classMs_1_1Part.html">Part</a>* p, QList&lt;StaffName&gt; t)</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a> = _tick;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      part = p;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      text = t;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      }</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeInstrumentLong.html#a7e5c4d0412f683f5d96f55bfc9ab1d80"> 1446</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeInstrumentLong.html#a7e5c4d0412f683f5d96f55bfc9ab1d80">ChangeInstrumentLong::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      QList&lt;StaffName&gt; s = part-&gt;longNames(<a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      part-&gt;setLongNames(text, <a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      text = s;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      part-&gt;score()-&gt;setLayoutAll();</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      }</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="comment">//   EditText::undo</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div><div class="line"><a name="l01458"></a><span class="lineno"><a class="line" href="classMs_1_1EditText.html#a5fcaa446957ff3282e992ba6048afd5c"> 1458</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1EditText.html#a5fcaa446957ff3282e992ba6048afd5c">EditText::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      {</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">/*      if (!text-&gt;styled()) {</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="comment">            for (int i = 0; i &lt; undoLevel; ++i)</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment">                  text-&gt;undo();</span></div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      undoRedo();</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      }</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="comment">//   EditText::redo</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;</div><div class="line"><a name="l01472"></a><span class="lineno"><a class="line" href="classMs_1_1EditText.html#ae995c1d9f1136c2ea6a44c8033be6e23"> 1472</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1EditText.html#ae995c1d9f1136c2ea6a44c8033be6e23">EditText::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      {</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">      if (!text-&gt;styled()) {</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment">            for (int i = 0; i &lt; undoLevel; ++i)</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment">                  text-&gt;redo();</span></div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      undoRedo();</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      }</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment">//   EditText::undoRedo</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="line"><a name="l01487"></a><span class="lineno"><a class="line" href="classMs_1_1EditText.html#a181a1cb4f01973d752e09c52b2a2ede9"> 1487</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1EditText.html#a181a1cb4f01973d752e09c52b2a2ede9">EditText::undoRedo</a>()</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      {</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      QString s = text-&gt;xmlText();</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      text-&gt;setXmlText(oldText);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      oldText = s;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      text-&gt;triggerLayout();</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      }</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="comment">//   ChangePatch</span></div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"><a class="line" href="classMs_1_1ChangePatch.html#a7821ff28bd2c594408b417597043b7c8"> 1499</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangePatch.html#a7821ff28bd2c594408b417597043b7c8">ChangePatch::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <a class="code" href="structMs_1_1MidiPatch.html">MidiPatch</a> op;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      op.<a class="code" href="structMs_1_1MidiPatch.html#a27952fb45360b530f1408c23d3a1f16d">prog</a>          = channel-&gt;program();</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      op.<a class="code" href="structMs_1_1MidiPatch.html#a198ed8155d904a70c3b4ce8891f4fb74">bank</a>          = channel-&gt;bank();</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      op.<a class="code" href="structMs_1_1MidiPatch.html#a344b15c8a58e629c6240c7a484953531">synti</a>         = channel-&gt;synti();</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      channel-&gt;setProgram(patch.prog);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      channel-&gt;setBank(patch.bank);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      channel-&gt;setSynti(patch.synti);</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      patch            = op;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1MScore.html#a9f928e6b1fb12e31476d3803c3266f50">MScore::seq</a> == 0) {</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            qWarning(<span class="stringliteral">&quot;no seq&quot;</span>);</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            }</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      <a class="code" href="classMs_1_1NPlayEvent.html">NPlayEvent</a> event;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="keyword">event</span>.<a class="code" href="classMs_1_1MidiCoreEvent.html#a6134f996846a04ff74e444652b7bcaf0">setType</a>(<a class="code" href="namespaceMs.html#afb3b5257b874721d31e3910806a60359a04d270fb30f1bcf518d3dc9216bcddcf">ME_CONTROLLER</a>);</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      <span class="keyword">event</span>.setChannel(channel-&gt;channel());</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="keywordtype">int</span> hbank = (channel-&gt;bank() &gt;&gt; 7) &amp; 0x7f;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <span class="keywordtype">int</span> lbank = channel-&gt;bank() &amp; 0x7f;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <span class="keyword">event</span>.setController(<a class="code" href="namespaceMs.html#a5388667586001e845380d0f937ec3a09adbc203b32681492a7dfa4c98cfaf8f3c">CTRL_HBANK</a>);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keyword">event</span>.setValue(hbank);</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <a class="code" href="classMs_1_1MScore.html#a9f928e6b1fb12e31476d3803c3266f50">MScore::seq</a>-&gt;<a class="code" href="classMs_1_1Sequencer.html#a71b73a5f71693e7265c469e9090dcdce">sendEvent</a>(event);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keyword">event</span>.setController(<a class="code" href="namespaceMs.html#a5388667586001e845380d0f937ec3a09aa530a822f39f1a90ef065653ada89f8d">CTRL_LBANK</a>);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <span class="keyword">event</span>.setValue(lbank);</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <a class="code" href="classMs_1_1MScore.html#a9f928e6b1fb12e31476d3803c3266f50">MScore::seq</a>-&gt;<a class="code" href="classMs_1_1Sequencer.html#a71b73a5f71693e7265c469e9090dcdce">sendEvent</a>(event);</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keyword">event</span>.setController(<a class="code" href="namespaceMs.html#a5388667586001e845380d0f937ec3a09a60457d33ab43ffc75ae2882afd53eb4f">CTRL_PROGRAM</a>);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="keyword">event</span>.setValue(channel-&gt;program());</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      score-&gt;setInstrumentsChanged(<span class="keyword">true</span>);</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <a class="code" href="classMs_1_1MScore.html#a9f928e6b1fb12e31476d3803c3266f50">MScore::seq</a>-&gt;<a class="code" href="classMs_1_1Sequencer.html#a71b73a5f71693e7265c469e9090dcdce">sendEvent</a>(event);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      }</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment">//   SetUserBankController</span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div><div class="line"><a name="l01544"></a><span class="lineno"><a class="line" href="classMs_1_1SetUserBankController.html#a1f24fb1c407b0e7c80403a320bb5093b"> 1544</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1SetUserBankController.html#a1f24fb1c407b0e7c80403a320bb5093b">SetUserBankController::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      {</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      <span class="keywordtype">bool</span> oldVal = channel-&gt;userBankController();</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      channel-&gt;setUserBankController(val);</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      val = oldVal;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      }</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">//   ChangeStaff</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div><div class="line"><a name="l01555"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeStaff.html#a4a16df51049161c63528ef1525c513a4"> 1555</a></span>&#160;<a class="code" href="classMs_1_1ChangeStaff.html#a4a16df51049161c63528ef1525c513a4">ChangeStaff::ChangeStaff</a>(<a class="code" href="classMs_1_1Staff.html">Staff</a>* _staff,  <span class="keywordtype">bool</span> _invisible, <a class="code" href="structMs_1_1ClefTypeList.html">ClefTypeList</a> _clefType,</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   qreal _userDist, <a class="code" href="classMs_1_1Staff.html#a693ed2bc02f09dc0fff3f6731dfa3e98">Staff::HideMode</a> _hideMode, <span class="keywordtype">bool</span> _showIfEmpty, <span class="keywordtype">bool</span> _cutaway, </div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;   <span class="keywordtype">bool</span> _hideSystemBarLine, <span class="keywordtype">bool</span>  _mergeMatchingRests)</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      {</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      staff       = _staff;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      invisible   = _invisible;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      clefType    = _clefType;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      userDist    = _userDist;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      hideMode    = _hideMode;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      showIfEmpty = _showIfEmpty;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      cutaway     = _cutaway;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      hideSystemBarLine  = _hideSystemBarLine;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      mergeMatchingRests = _mergeMatchingRests;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      }</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">//   flip</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeStaff.html#a5f89c563c5b290faed96af8afb9e2e29"> 1574</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeStaff.html#a5f89c563c5b290faed96af8afb9e2e29">ChangeStaff::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      {</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      <span class="keywordtype">bool</span> invisibleChanged = staff-&gt;invisible(<a class="code" href="classMs_1_1Fraction.html">Fraction</a>(0,1)) != invisible;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <a class="code" href="structMs_1_1ClefTypeList.html">ClefTypeList</a> oldClefType = staff-&gt;defaultClefType();</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      <span class="keywordtype">bool</span> oldInvisible   = staff-&gt;invisible(<a class="code" href="classMs_1_1Fraction.html">Fraction</a>(0,1));</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      qreal oldUserDist   = staff-&gt;userDist();</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <a class="code" href="classMs_1_1Staff.html#a693ed2bc02f09dc0fff3f6731dfa3e98">Staff::HideMode</a> oldHideMode    = staff-&gt;hideWhenEmpty();</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <span class="keywordtype">bool</span> oldShowIfEmpty = staff-&gt;showIfEmpty();</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      <span class="keywordtype">bool</span> oldCutaway     = staff-&gt;cutaway();</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      <span class="keywordtype">bool</span> oldHideSystemBarLine  = staff-&gt;hideSystemBarLine();</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="keywordtype">bool</span> oldMergeMatchingRests = staff-&gt;mergeMatchingRests();</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      staff-&gt;setInvisible(<a class="code" href="classMs_1_1Fraction.html">Fraction</a>(0,1),invisible);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      staff-&gt;setDefaultClefType(clefType);</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      staff-&gt;setUserDist(userDist);</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      staff-&gt;setHideWhenEmpty(hideMode);</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      staff-&gt;setShowIfEmpty(showIfEmpty);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      staff-&gt;setCutaway(cutaway);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      staff-&gt;setHideSystemBarLine(hideSystemBarLine);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      staff-&gt;setMergeMatchingRests(mergeMatchingRests);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      invisible   = oldInvisible;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      clefType    = oldClefType;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      userDist    = oldUserDist;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      hideMode    = oldHideMode;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      showIfEmpty = oldShowIfEmpty;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      cutaway     = oldCutaway;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      hideSystemBarLine  = oldHideSystemBarLine;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      mergeMatchingRests = oldMergeMatchingRests;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* score = staff-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <span class="keywordflow">if</span> (invisibleChanged) {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            <span class="keywordtype">int</span> staffIdx = staff-&gt;idx();</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Measure.html">Measure</a>* m = score-&gt;<a class="code" href="classMs_1_1Score.html#a3888570668d289ec09dd850d4c169e1c">firstMeasure</a>(); m; m = m-&gt;<a class="code" href="classMs_1_1MeasureBase.html#ada587f42a4bbfc3e8321e4ce22c9febc">nextMeasure</a>())</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                  m-&gt;staffLines(staffIdx)-&gt;setVisible(!staff-&gt;invisible(<a class="code" href="classMs_1_1Fraction.html">Fraction</a>(0,1)));</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            }</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      staff-&gt;triggerLayout();</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      staff-&gt;<a class="code" href="classMs_1_1Score.html#aac5cfbf34cbd22da196fd31944a260da">masterScore</a>()-&gt;<a class="code" href="classMs_1_1MasterScore.html#af8411000a9edcc95127359d6858ca24b">rebuildMidiMapping</a>();</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      staff-&gt;score()-&gt;setPlaylistDirty();</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      }</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">//   ChangeStaffType::flip</span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div><div class="line"><a name="l01619"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeStaffType.html#ae18bdc4f5e79230b9c960e3d028f047e"> 1619</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeStaffType.html#ae18bdc4f5e79230b9c960e3d028f047e">ChangeStaffType::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      {</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <a class="code" href="classMs_1_1StaffType.html">StaffType</a> st = *staff-&gt;staffType(<a class="code" href="classMs_1_1Fraction.html">Fraction</a>(0,1));      <span class="comment">// TODO</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      staff-&gt;setStaffType(<a class="code" href="classMs_1_1Fraction.html">Fraction</a>(0,1), staffType);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      staffType = st;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      staff-&gt;triggerLayout();</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      }</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">//   ChangePart</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"><a class="line" href="classMs_1_1ChangePart.html#a1a11a2af9f94354047bf4f3a92aa155a"> 1634</a></span>&#160;<a class="code" href="classMs_1_1ChangePart.html#a1a11a2af9f94354047bf4f3a92aa155a">ChangePart::ChangePart</a>(<a class="code" href="classMs_1_1Part.html">Part</a>* _part, <a class="code" href="classMs_1_1Instrument.html">Instrument</a>* i, <span class="keyword">const</span> QString&amp; s)</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      {</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      instrument = i;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      part       = _part;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      partName   = s;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      }</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment">//   flip</span></div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;</div><div class="line"><a name="l01645"></a><span class="lineno"><a class="line" href="classMs_1_1ChangePart.html#a96fc0f744806761cea9e235168e694b7"> 1645</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangePart.html#a96fc0f744806761cea9e235168e694b7">ChangePart::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      {</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <a class="code" href="classMs_1_1Instrument.html">Instrument</a>* oi = part-&gt;instrument();  <span class="comment">//tick?</span></div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      QString s      = part-&gt;partName();</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      part-&gt;setInstrument(instrument);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      part-&gt;setPartName(partName);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      part-&gt;updateHarmonyChannels(<span class="keyword">false</span>);</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* score = part-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      score-&gt;<a class="code" href="classMs_1_1Score.html#aac5cfbf34cbd22da196fd31944a260da">masterScore</a>()-&gt;<a class="code" href="classMs_1_1MasterScore.html#af8411000a9edcc95127359d6858ca24b">rebuildMidiMapping</a>();</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      score-&gt;<a class="code" href="classMs_1_1Score.html#ac8ddca73e2096e2a086cb926c5004df9">setInstrumentsChanged</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      score-&gt;<a class="code" href="classMs_1_1Score.html#ab35c14f602fd1936a0f223df94639f37">setPlaylistDirty</a>();</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <span class="comment">// check if notes need to be updated</span></div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      <span class="comment">// true if changing into or away from TAB or from one TAB type to another</span></div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      score-&gt;<a class="code" href="classMs_1_1Score.html#a073a83d271a8825353007a8b42987609">setLayoutAll</a>();</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      partName   = s;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      instrument = oi;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      }</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="comment">//   ChangeStyle</span></div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeStyle.html#a6702966efdb89e61641d2cc82fd13e44"> 1672</a></span>&#160;<a class="code" href="classMs_1_1ChangeStyle.html#a6702966efdb89e61641d2cc82fd13e44">ChangeStyle::ChangeStyle</a>(<a class="code" href="classMs_1_1Score.html">Score</a>* s, <span class="keyword">const</span> <a class="code" href="classMs_1_1MStyle.html">MStyle</a>&amp; st, <span class="keyword">const</span> <span class="keywordtype">bool</span> overlapOnly)</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   : score(s), style(st), overlap(overlapOnly)</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      {</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      }</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment">//   flip</span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeStyle.html#a96f909bebc884655d1e46d581a983e9a"> 1681</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeStyle.html#a96f909bebc884655d1e46d581a983e9a">ChangeStyle::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      {</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <a class="code" href="classMs_1_1MStyle.html">MStyle</a> tmp = <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a69bb5a25e3e1c714788540ce57f92a71">style</a>();</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a47072b64ad7b9637fc59995139a372d3">styleV</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea92f4fe2c3c172220a2992018a69246b9">Sid::concertPitch</a>) != <a class="code" href="classMs_1_1ChangeStyle.html#a05a6f0e143d04fdd57b6a5a4c9dbe8e6">style</a>.<a class="code" href="classMs_1_1MStyle.html#a5b188b9a3ea26c820beac343ea174be6">value</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea92f4fe2c3c172220a2992018a69246b9">Sid::concertPitch</a>))</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a800b18cf10876b1497e1bc43a2a72ac0">cmdConcertPitchChanged</a>(<a class="code" href="classMs_1_1ChangeStyle.html#a05a6f0e143d04fdd57b6a5a4c9dbe8e6">style</a>.<a class="code" href="classMs_1_1MStyle.html#a5b188b9a3ea26c820beac343ea174be6">value</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea92f4fe2c3c172220a2992018a69246b9">Sid::concertPitch</a>).toBool(), <span class="keyword">true</span>);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a47072b64ad7b9637fc59995139a372d3">styleV</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea88e2a676fbe7a0e18f9c7de14d37ad35">Sid::MusicalSymbolFont</a>) != <a class="code" href="classMs_1_1ChangeStyle.html#a05a6f0e143d04fdd57b6a5a4c9dbe8e6">style</a>.<a class="code" href="classMs_1_1MStyle.html#a5b188b9a3ea26c820beac343ea174be6">value</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea88e2a676fbe7a0e18f9c7de14d37ad35">Sid::MusicalSymbolFont</a>)) {</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a8cce5e6de5f0a4b9a16aa1b3e6aef7b6">setScoreFont</a>(<a class="code" href="classMs_1_1ScoreFont.html#a3961745e9d8ad69188ec511dc7f9b21f">ScoreFont::fontFactory</a>(<a class="code" href="classMs_1_1ChangeStyle.html#a05a6f0e143d04fdd57b6a5a4c9dbe8e6">style</a>.<a class="code" href="classMs_1_1MStyle.html#a5b188b9a3ea26c820beac343ea174be6">value</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea88e2a676fbe7a0e18f9c7de14d37ad35">Sid::MusicalSymbolFont</a>).toString()));</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            }</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a45633ada2cecf563e9c678e9f8cd10e0">setStyle</a>(<a class="code" href="classMs_1_1ChangeStyle.html#a05a6f0e143d04fdd57b6a5a4c9dbe8e6">style</a>, <a class="code" href="classMs_1_1ChangeStyle.html#ac38cf592c248eccccd0177ae63e40911">overlap</a>);</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#aa9d29bdcde59d2a8c3a002469a0fe61f">styleChanged</a>();</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <a class="code" href="classMs_1_1ChangeStyle.html#a05a6f0e143d04fdd57b6a5a4c9dbe8e6">style</a> = tmp;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      }</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div><div class="line"><a name="l01696"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeStyle.html#a1594c81b142e0ea96247dac287e4c2b1"> 1696</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeStyle.html#a1594c81b142e0ea96247dac287e4c2b1">ChangeStyle::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      {</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <a class="code" href="classMs_1_1ChangeStyle.html#ac38cf592c248eccccd0177ae63e40911">overlap</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      <a class="code" href="classMs_1_1UndoCommand.html#a42a2038f903e77e6bb5881209b764186">UndoCommand::undo</a>(ed);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      }</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="comment">//   ChangeStyleVal::flip</span></div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeStyleVal.html#a73b5d8fab2c291a6ddc1caadd60bedac"> 1706</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeStyleVal.html#a73b5d8fab2c291a6ddc1caadd60bedac">ChangeStyleVal::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      {</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      QVariant v = <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a47072b64ad7b9637fc59995139a372d3">styleV</a>(idx);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <span class="keywordflow">if</span> (v != value) {</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a69bb5a25e3e1c714788540ce57f92a71">style</a>().<a class="code" href="classMs_1_1MStyle.html#a5d85ca8abebf7123c4d39a3b5b1646a4">set</a>(idx, value);</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            <span class="keywordflow">switch</span> (idx) {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                  <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea3e256909ac7022b5e06e9039a0254314">Sid::chordExtensionMag</a>:</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                  <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8046b561ba7fa1ca280fb9655119b3b2">Sid::chordExtensionAdjust</a>:</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                  <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eae14df48421a97805b3b03696e07cfb4b">Sid::chordModifierMag</a>:</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                  <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea61396a06ef6f86a7b7cfa631fc2b60f1">Sid::chordModifierAdjust</a>:</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                  <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea7552da4bbebe435dd607326f2d11281e">Sid::chordDescriptionFile</a>: {</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                        <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a69bb5a25e3e1c714788540ce57f92a71">style</a>().<a class="code" href="classMs_1_1MStyle.html#a5b4978e1e82d82629e42847aef9159d7">chordList</a>()-&gt;<a class="code" href="classMs_1_1ChordList.html#ad564d20f0749fd88446f9c1c8174be26">unload</a>();</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                        qreal emag = <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea3e256909ac7022b5e06e9039a0254314">Sid::chordExtensionMag</a>);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                        qreal eadjust = <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8046b561ba7fa1ca280fb9655119b3b2">Sid::chordExtensionAdjust</a>);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                        qreal mmag = <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eae14df48421a97805b3b03696e07cfb4b">Sid::chordModifierMag</a>);</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                        qreal madjust = <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">styleD</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea61396a06ef6f86a7b7cfa631fc2b60f1">Sid::chordModifierAdjust</a>);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                        <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a69bb5a25e3e1c714788540ce57f92a71">style</a>().<a class="code" href="classMs_1_1MStyle.html#a5b4978e1e82d82629e42847aef9159d7">chordList</a>()-&gt;<a class="code" href="classMs_1_1ChordList.html#a7d6a4577a394cf152af70da6ee53e053">configureAutoAdjust</a>(emag, eadjust, mmag, madjust);</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a369f7689a1a21e8b0aa07e5bbacb3d76">styleB</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaee2c0fecc8dfd328970d96e17def5d9a">Sid::chordsXmlFile</a>))</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                            <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a69bb5a25e3e1c714788540ce57f92a71">style</a>().<a class="code" href="classMs_1_1MStyle.html#a5b4978e1e82d82629e42847aef9159d7">chordList</a>()-&gt;<a class="code" href="classMs_1_1ChordList.html#a694a93f0c0acba0290a1bb9a8a28d580">read</a>(<span class="stringliteral">&quot;chords.xml&quot;</span>);</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                        <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a69bb5a25e3e1c714788540ce57f92a71">style</a>().<a class="code" href="classMs_1_1MStyle.html#a5b4978e1e82d82629e42847aef9159d7">chordList</a>()-&gt;<a class="code" href="classMs_1_1ChordList.html#a694a93f0c0acba0290a1bb9a8a28d580">read</a>(<a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a58cc5b8055aed00a47b0097718a6f560">styleSt</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea7552da4bbebe435dd607326f2d11281e">Sid::chordDescriptionFile</a>));</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                        <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a69bb5a25e3e1c714788540ce57f92a71">style</a>().<a class="code" href="classMs_1_1MStyle.html#a8d7aebd5bd379ef2fc5f949448f417f1">setCustomChordList</a>(<a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a58cc5b8055aed00a47b0097718a6f560">styleSt</a>(<a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea94b41214aece08c118a19d94f0b7f42f">Sid::chordStyle</a>) == <span class="stringliteral">&quot;custom&quot;</span>);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                        }</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                  <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eae3c647ad6cb1602e679b6f4e3d5e8e32">Sid::spatium</a>:</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                        <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#ad66b0f2da90900f71d32d390cb1286cd">spatiumChanged</a>(v.toDouble(), value.toDouble());</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                  <span class="keywordflow">case</span> <a class="code" href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea13cb8b0551e95d5ebbe61654963ddd9a">Sid::defaultsVersion</a>:</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                        <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a69bb5a25e3e1c714788540ce57f92a71">style</a>().<a class="code" href="classMs_1_1MStyle.html#ae992fb43a5d08975bdc1a35fab8f66e7">setDefaultStyleVersion</a>(value.toInt());</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                  }</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#aa9d29bdcde59d2a8c3a002469a0fe61f">styleChanged</a>();</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            }</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      value = v;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      }</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="comment">//   ChangePageNumberOffset::flip</span></div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div><div class="line"><a name="l01747"></a><span class="lineno"><a class="line" href="classMs_1_1ChangePageNumberOffset.html#add885ff63e818f40f601359e0c3a044a"> 1747</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangePageNumberOffset.html#add885ff63e818f40f601359e0c3a044a">ChangePageNumberOffset::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <span class="keywordtype">int</span> po = <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a8226b0d61543b1fca19861ca748900ba">pageNumberOffset</a>();</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a0932d7d5757a579bcf9cfc2f8892fcd8">setPageNumberOffset</a>(pageOffset);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      <a class="code" href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">score</a>-&gt;<a class="code" href="classMs_1_1Score.html#a073a83d271a8825353007a8b42987609">setLayoutAll</a>();</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      pageOffset = po;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      }</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<span class="comment">//   ChangeChordStaffMove</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div><div class="line"><a name="l01761"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeChordStaffMove.html#a6380865971cfc64720def9427c4d1931"> 1761</a></span>&#160;<a class="code" href="classMs_1_1ChangeChordStaffMove.html#a6380865971cfc64720def9427c4d1931">ChangeChordStaffMove::ChangeChordStaffMove</a>(<a class="code" href="classMs_1_1ChordRest.html">ChordRest</a>* cr, <span class="keywordtype">int</span> v)</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;   : chordRest(cr), staffMove(v)</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      {</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      }</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div><div class="line"><a name="l01766"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeChordStaffMove.html#a8c8c960e88d3fdcf478bf0215172d4f2"> 1766</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeChordStaffMove.html#a8c8c960e88d3fdcf478bf0215172d4f2">ChangeChordStaffMove::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      {</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      <span class="keywordtype">int</span> v = <a class="code" href="classMs_1_1ChangeChordStaffMove.html#a7e76174aa22efdafa651f95b92bd2b65">chordRest</a>-&gt;<a class="code" href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">staffMove</a>();</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1ScoreElement.html">ScoreElement</a>* e : <a class="code" href="classMs_1_1ChangeChordStaffMove.html#a7e76174aa22efdafa651f95b92bd2b65">chordRest</a>-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a2f0ed55c566c19cb483d77250cb52450">linkList</a>()) {</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            <a class="code" href="classMs_1_1ChordRest.html">ChordRest</a>* cr = <a class="code" href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">toChordRest</a>(e);</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            cr-&gt;<a class="code" href="classMs_1_1ChordRest.html#a9129693fc48621402f0ea332bb589e21">setStaffMove</a>(<a class="code" href="classMs_1_1ChangeChordStaffMove.html#a22b10cfaf650442b26513652d613ce21">staffMove</a>);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;            cr-&gt;<a class="code" href="classMs_1_1Element.html#ab28ffe83fb1064fb3c2a6fa648bca688">triggerLayout</a>();</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            }</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      <a class="code" href="classMs_1_1ChangeChordStaffMove.html#a22b10cfaf650442b26513652d613ce21">staffMove</a> = v;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      }</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">//   ChangeVelocity</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;</div><div class="line"><a name="l01781"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeVelocity.html#aae06b595011ea91cf27a6207f889f010"> 1781</a></span>&#160;<a class="code" href="classMs_1_1ChangeVelocity.html#aae06b595011ea91cf27a6207f889f010">ChangeVelocity::ChangeVelocity</a>(<a class="code" href="classMs_1_1Note.html">Note</a>* n, <a class="code" href="classMs_1_1Note.html#a8485856ee1248554f7223cbac4397048">Note::ValueType</a> t, <span class="keywordtype">int</span> o)</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;   : note(n), veloType(t), veloOffset(o)</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      {</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      }</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div><div class="line"><a name="l01786"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeVelocity.html#a163799224b8040b86b0dd0db614ffb8c"> 1786</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeVelocity.html#a163799224b8040b86b0dd0db614ffb8c">ChangeVelocity::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      {</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      <a class="code" href="classMs_1_1Note.html#a8485856ee1248554f7223cbac4397048">Note::ValueType</a> t = <a class="code" href="classMs_1_1ChangeVelocity.html#a382ae0e7c893fdc6b6a0657dee48a163">note</a>-&gt;<a class="code" href="classMs_1_1Note.html#a35a050f6696d45ea0139ebb782f913b9">veloType</a>();</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      <span class="keywordtype">int</span> o       = <a class="code" href="classMs_1_1ChangeVelocity.html#a382ae0e7c893fdc6b6a0657dee48a163">note</a>-&gt;<a class="code" href="classMs_1_1Note.html#aec8b51971a64bc6de5794e133e72c219">veloOffset</a>();</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      <a class="code" href="classMs_1_1ChangeVelocity.html#a382ae0e7c893fdc6b6a0657dee48a163">note</a>-&gt;<a class="code" href="classMs_1_1Note.html#ac07831538c8525825635e07bd69bfe28">setVeloType</a>(<a class="code" href="classMs_1_1ChangeVelocity.html#a1802930f33645c26c96f1ba0234fa637">veloType</a>);</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      <a class="code" href="classMs_1_1ChangeVelocity.html#a382ae0e7c893fdc6b6a0657dee48a163">note</a>-&gt;<a class="code" href="classMs_1_1Note.html#a23bd44a49d6ec5ef2f7be99a9dfa8bcb">setVeloOffset</a>(<a class="code" href="classMs_1_1ChangeVelocity.html#a9d2d560043ac3b23f95f0c010c83f0a4">veloOffset</a>);</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      <a class="code" href="classMs_1_1ChangeVelocity.html#a1802930f33645c26c96f1ba0234fa637">veloType</a>   = t;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <a class="code" href="classMs_1_1ChangeVelocity.html#a9d2d560043ac3b23f95f0c010c83f0a4">veloOffset</a> = o;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;      }</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<span class="comment">//   ChangeMStaffProperties</span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;</div><div class="line"><a name="l01800"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeMStaffProperties.html#a53a6498726ae30caea20990027b69029"> 1800</a></span>&#160;<a class="code" href="classMs_1_1ChangeMStaffProperties.html#a53a6498726ae30caea20990027b69029">ChangeMStaffProperties::ChangeMStaffProperties</a>(<a class="code" href="classMs_1_1Measure.html">Measure</a>* m, <span class="keywordtype">int</span> i, <span class="keywordtype">bool</span> v, <span class="keywordtype">bool</span> s)</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;   : measure(m), staffIdx(i), visible(v), stemless(s)</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;      {</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      }</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="comment">//   flip</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;</div><div class="line"><a name="l01809"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeMStaffProperties.html#a72321f3c905c0ff0fdfa1603e33b42ef"> 1809</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeMStaffProperties.html#a72321f3c905c0ff0fdfa1603e33b42ef">ChangeMStaffProperties::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      {</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      <span class="keywordtype">bool</span> v = <a class="code" href="classMs_1_1ChangeMStaffProperties.html#adbb112ce748daf6c9be0af5d4e42e72f">measure</a>-&gt;<a class="code" href="classMs_1_1Measure.html#ae951dd61fdd2d1210b615e75c8d8c0fd">visible</a>(<a class="code" href="classMs_1_1ChangeMStaffProperties.html#ad88a994669a087871797c468340383fc">staffIdx</a>);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <span class="keywordtype">bool</span> s = <a class="code" href="classMs_1_1ChangeMStaffProperties.html#adbb112ce748daf6c9be0af5d4e42e72f">measure</a>-&gt;<a class="code" href="classMs_1_1Measure.html#a5e7d34f4cfd7e05b6d1b61b2f44a2e42">stemless</a>(<a class="code" href="classMs_1_1ChangeMStaffProperties.html#ad88a994669a087871797c468340383fc">staffIdx</a>);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      <a class="code" href="classMs_1_1ChangeMStaffProperties.html#adbb112ce748daf6c9be0af5d4e42e72f">measure</a>-&gt;<a class="code" href="classMs_1_1Measure.html#a9ef23d0042137cfc91aadab687a1c40c">setStaffVisible</a>(<a class="code" href="classMs_1_1ChangeMStaffProperties.html#ad88a994669a087871797c468340383fc">staffIdx</a>, <a class="code" href="classMs_1_1ChangeMStaffProperties.html#aa4155c4790edfb3fb2a35b9cb8798ba4">visible</a>);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <a class="code" href="classMs_1_1ChangeMStaffProperties.html#adbb112ce748daf6c9be0af5d4e42e72f">measure</a>-&gt;<a class="code" href="classMs_1_1Measure.html#ab1dbe71681084c01b1bcd68595d5ba18">setStaffStemless</a>(<a class="code" href="classMs_1_1ChangeMStaffProperties.html#ad88a994669a087871797c468340383fc">staffIdx</a>, <a class="code" href="classMs_1_1ChangeMStaffProperties.html#a852484834c04f91e5e09003cc2ab9726">stemless</a>);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      <a class="code" href="classMs_1_1ChangeMStaffProperties.html#aa4155c4790edfb3fb2a35b9cb8798ba4">visible</a>    = v;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <a class="code" href="classMs_1_1ChangeMStaffProperties.html#a852484834c04f91e5e09003cc2ab9726">stemless</a> = s;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      }</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment">//   getCourtesyClefs</span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">//    remember clefs at the end of previous measure</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;</div><div class="line"><a name="l01824"></a><span class="lineno"><a class="line" href="classMs_1_1InsertRemoveMeasures.html#ac882ccd967ebe0c6753db734ca5e416d"> 1824</a></span>&#160;std::vector&lt;Clef*&gt; <a class="code" href="classMs_1_1InsertRemoveMeasures.html#ac882ccd967ebe0c6753db734ca5e416d">InsertRemoveMeasures::getCourtesyClefs</a>(<a class="code" href="classMs_1_1Measure.html">Measure</a>* m)</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      {</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* score = m-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      std::vector&lt;Clef*&gt; startClefs;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <span class="keywordflow">if</span> (m-&gt;<a class="code" href="classMs_1_1MeasureBase.html#a362a1699d39b7f1684c13a1a8c75c376">prev</a>() &amp;&amp; m-&gt;<a class="code" href="classMs_1_1MeasureBase.html#a362a1699d39b7f1684c13a1a8c75c376">prev</a>()-&gt;isMeasure()) {</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            <a class="code" href="classMs_1_1Measure.html">Measure</a>* prevMeasure = toMeasure(m-&gt;<a class="code" href="classMs_1_1MeasureBase.html#a362a1699d39b7f1684c13a1a8c75c376">prev</a>());</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            <span class="keyword">const</span> <a class="code" href="classMs_1_1Segment.html">Segment</a>* clefSeg = prevMeasure-&gt;<a class="code" href="classMs_1_1Measure.html#a337f76e582585044598cfd507d6f0228">findSegmentR</a>(<a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894a4fb26ab17477cfbc62b748034c0de041">SegmentType::Clef</a> | <a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894af69392a2ebed1af02428c867f81fed3f">SegmentType::HeaderClef</a>, prevMeasure-&gt;<a class="code" href="classMs_1_1MeasureBase.html#a6cab2bc583be79fa27b83390dd48bc7f">ticks</a>());</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            <span class="keywordflow">if</span> (clefSeg) {</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> st = 0; st &lt; score-&gt;<a class="code" href="classMs_1_1Score.html#ab39888225a9fe0533558a379b1545cb1">nstaves</a>(); ++st) {</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                        <a class="code" href="classMs_1_1Element.html">Element</a>* clef = clefSeg-&gt;element(<a class="code" href="namespaceMs.html#a9b94748a1c466ed6e89f2c80e57b644b">staff2track</a>(st));</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                        <span class="keywordflow">if</span> (clef &amp;&amp; clef-&gt;isClef())</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                              startClefs.push_back(toClef(clef));</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                        }</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                  }</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            }</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      <span class="keywordflow">return</span> startClefs;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      }</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="comment">//   insertMeasures</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"><a class="line" href="classMs_1_1InsertRemoveMeasures.html#a74188d4c5e242a0af662962b89a45c98"> 1846</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertRemoveMeasures.html#a74188d4c5e242a0af662962b89a45c98">InsertRemoveMeasures::insertMeasures</a>()</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      {</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* score = fm-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      QList&lt;Clef*&gt; clefs;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      std::vector&lt;Clef*&gt; prevMeasureClefs;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      QList&lt;KeySig*&gt; keys;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      <a class="code" href="classMs_1_1Segment.html">Segment</a>* fs = 0;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <a class="code" href="classMs_1_1Segment.html">Segment</a>* ls = 0;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <span class="keywordflow">if</span> (fm-&gt;isMeasure()) {</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#ab35c14f602fd1936a0f223df94639f37">setPlaylistDirty</a>();</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            fs = toMeasure(fm)-&gt;first();</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;            ls = toMeasure(lm)-&gt;last();</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Segment.html">Segment</a>* s = fs; s &amp;&amp; s != ls; s = s-&gt;<a class="code" href="classMs_1_1Segment.html#a8c27ddfb0004417dd89b655e3480a6a0">next1</a>()) {</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                  <span class="keywordflow">if</span> (!s-&gt;enabled() || !(s-&gt;segmentType() &amp; (<a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894a4fb26ab17477cfbc62b748034c0de041">SegmentType::Clef</a> | <a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894af69392a2ebed1af02428c867f81fed3f">SegmentType::HeaderClef</a> | <a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894ac9bacf3e6728a92c9bf826c740ae5436">SegmentType::KeySig</a>)))</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> track = 0; track &lt; score-&gt;<a class="code" href="classMs_1_1Score.html#aa7ea8f4f050ba44ed0cf95ad4f5d3c06">ntracks</a>(); track += <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>) {</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                        <a class="code" href="classMs_1_1Element.html">Element</a>* e = s-&gt;element(track);</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                        <span class="keywordflow">if</span> (!e || e-&gt;<a class="code" href="classMs_1_1Element.html#a3679cdb6351e67e9f482fa9a7fb3d466">generated</a>())</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                        <span class="keywordflow">if</span> (e-&gt;isClef())</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                              clefs.append(toClef(e));</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;isKeySig())</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                              keys.append(toKeySig(e));</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                        }</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                  }</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            prevMeasureClefs = getCourtesyClefs(toMeasure(fm));</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            }</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      score-&gt;<a class="code" href="classMs_1_1Score.html#ab2347f55630666c0a3e699b6c91bbf80">measures</a>()-&gt;<a class="code" href="classMs_1_1MeasureBaseList.html#a2fa66e7d8dcff33129278cf64332e16b">insert</a>(fm, lm);</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="keywordflow">if</span> (fm-&gt;isMeasure()) {</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#ab28ccdab6936e04e389008607ad70a52">fixTicks</a>();</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#a206609c06ee2dd9fd7ce8465e5963dbd">insertTime</a>(fm-&gt;tick(), lm-&gt;endTick() - fm-&gt;tick());</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            <span class="comment">// move ownership of Instrument back to part</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Segment.html">Segment</a>* s = fs; s &amp;&amp; s != ls; s = s-&gt;<a class="code" href="classMs_1_1Segment.html#a8c27ddfb0004417dd89b655e3480a6a0">next1</a>()) {</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                  <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : s-&gt;annotations()) {</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                        <span class="keywordflow">if</span> (e-&gt;isInstrumentChange()) {</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                              e-&gt;part()-&gt;setInstrument(toInstrumentChange(e)-&gt;instrument(), s-&gt;tick());</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                              }</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                        }</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                  }</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Clef.html">Clef</a>* clef : prevMeasureClefs)</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                  clef-&gt;staff()-&gt;setClef(clef);</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Clef.html">Clef</a>* clef : clefs)</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                  clef-&gt;staff()-&gt;setClef(clef);</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1KeySig.html">KeySig</a>* key : keys)</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                  key-&gt;staff()-&gt;setKey(key-&gt;segment()-&gt;tick(), key-&gt;keySigEvent());</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            }</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      score-&gt;<a class="code" href="classMs_1_1Score.html#a073a83d271a8825353007a8b42987609">setLayoutAll</a>();</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <span class="comment">// connect ties</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      <span class="keywordflow">if</span> (!fm-&gt;isMeasure() || !fm-&gt;prevMeasure())</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <a class="code" href="classMs_1_1Measure.html">Measure</a>* m = fm-&gt;<a class="code" href="classMs_1_1MeasureBase.html#a198572255879b31307ca02b7839c7356">prevMeasure</a>();</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Segment.html">Segment</a>* seg = m-&gt;<a class="code" href="classMs_1_1Measure.html#a3c5e55d2f2291d5ee433a093c0b1dd04">first</a>(); seg; seg = seg-&gt;<a class="code" href="classMs_1_1Segment.html#a1c4c00c6b1052c6c122f5fc665ec8a20">next</a>()) {</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> track = 0; track &lt; score-&gt;<a class="code" href="classMs_1_1Score.html#aa7ea8f4f050ba44ed0cf95ad4f5d3c06">ntracks</a>(); ++track) {</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                  <a class="code" href="classMs_1_1Element.html">Element</a>* e = seg-&gt;element(track);</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                  <span class="keywordflow">if</span> (e == 0 || !e-&gt;isChord())</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                  <a class="code" href="classMs_1_1Chord.html">Chord</a>* chord = toChord(e);</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                  <span class="keywordflow">foreach</span> (<a class="code" href="classMs_1_1Note.html">Note</a>* n, chord-&gt;<a class="code" href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">notes</a>()) {</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                        <a class="code" href="classMs_1_1Tie.html">Tie</a>* tie = n-&gt;<a class="code" href="classMs_1_1Note.html#a48317b9139affa970569ed1fcb3add46">tieFor</a>();</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                        <span class="keywordflow">if</span> (!tie)</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                        <span class="keywordflow">if</span> (!tie-&gt;<a class="code" href="classMs_1_1Tie.html#a9719252bb8e38b88324bdd19ca07f13d">endNote</a>() || tie-&gt;<a class="code" href="classMs_1_1Tie.html#a9719252bb8e38b88324bdd19ca07f13d">endNote</a>()-&gt;<a class="code" href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">chord</a>()-&gt;<a class="code" href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">segment</a>()-&gt;<a class="code" href="classMs_1_1Segment.html#a44dc6d5b22a75152673060bc059acfb9">measure</a>() != m) {</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                              <a class="code" href="classMs_1_1Note.html">Note</a>* nn = <a class="code" href="namespaceMs.html#a7efd77a58797a375f3d6d631e51b204e">searchTieNote</a>(n);</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                              <span class="keywordflow">if</span> (nn) {</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                                    tie-&gt;<a class="code" href="classMs_1_1Tie.html#a10612faf2ce6ddf3be9f99970df069b8">setEndNote</a>(nn);</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                                    nn-&gt;<a class="code" href="classMs_1_1Note.html#a9bdc2e024e29b58a2a25678a957782d5">setTieBack</a>(tie);</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                                    }</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                              }</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                        }</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                  }</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            }</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      }</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment">//   removeMeasures</span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div><div class="line"><a name="l01930"></a><span class="lineno"><a class="line" href="classMs_1_1InsertRemoveMeasures.html#a283cd7cd46d0a3694ed199a976f5f3c2"> 1930</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertRemoveMeasures.html#a283cd7cd46d0a3694ed199a976f5f3c2">InsertRemoveMeasures::removeMeasures</a>()</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      {</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;      <a class="code" href="classMs_1_1Score.html">Score</a>* score = fm-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>();</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      <a class="code" href="classMs_1_1Fraction.html">Fraction</a> tick1 = fm-&gt;tick();</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      <a class="code" href="classMs_1_1Fraction.html">Fraction</a> tick2 = lm-&gt;endTick();</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      QList&lt;System*&gt; systemList;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1MeasureBase.html">MeasureBase</a>* mb = lm;; mb = mb-&gt;<a class="code" href="classMs_1_1MeasureBase.html#a362a1699d39b7f1684c13a1a8c75c376">prev</a>()) {</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;            <a class="code" href="classMs_1_1System.html">System</a>* system = mb-&gt;system();</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            <span class="keywordflow">if</span> (system) {</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                  <span class="keywordflow">if</span> (!systemList.contains(system)) {</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                        systemList.push_back(system);</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                        }</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                  system-&gt;<a class="code" href="classMs_1_1System.html#a49acc01f1c60e0562ee64bed9a3cb93d">removeMeasure</a>(mb);</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                  }</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            <span class="keywordflow">if</span> (mb == fm)</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;            }</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      score-&gt;<a class="code" href="classMs_1_1Score.html#ab2347f55630666c0a3e699b6c91bbf80">measures</a>()-&gt;<a class="code" href="classMs_1_1MeasureBaseList.html#ad1d9ddcb5fe574ec96cc090c18f586a0">remove</a>(fm, lm);</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      score-&gt;<a class="code" href="classMs_1_1Score.html#ab28ccdab6936e04e389008607ad70a52">fixTicks</a>();</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;      <span class="keywordflow">if</span> (fm-&gt;isMeasure()) {</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#ab35c14f602fd1936a0f223df94639f37">setPlaylistDirty</a>();</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            <span class="comment">// check if there is a clef at the end of last measure</span></div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;            <span class="comment">// remove clef from staff cleflist</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;            <span class="keywordflow">if</span> (lm-&gt;isMeasure()) {</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                  <a class="code" href="classMs_1_1Measure.html">Measure</a>* m = toMeasure(lm);</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                  <a class="code" href="classMs_1_1Segment.html">Segment</a>* s = m-&gt;<a class="code" href="classMs_1_1Measure.html#a66a3e42855dec1d88936966d197a0ac0">findSegment</a>(<a class="code" href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894a4fb26ab17477cfbc62b748034c0de041">SegmentType::Clef</a>, tick2);</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                  <span class="keywordflow">if</span> (s) {</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;                        <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Element.html">Element</a>* e : s-&gt;<a class="code" href="classMs_1_1Segment.html#a37a7c2088621a49ebefcd6f0e1e65da7">elist</a>()) {</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                              <a class="code" href="classMs_1_1Clef.html">Clef</a>* clef = toClef(e);</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                              <span class="keywordflow">if</span> (clef)</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                                    score-&gt;<a class="code" href="classMs_1_1Score.html#ad1de1c246a7f35e5b63781630e3c7d58">staff</a>(clef-&gt;<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>())-&gt;removeClef(clef);</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                              }</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                        }</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                  }</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            <span class="comment">// remember clefs at the end of previous measure</span></div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> clefs = getCourtesyClefs(toMeasure(fm));</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            <span class="keywordflow">if</span> (score-&gt;<a class="code" href="classMs_1_1Score.html#a3888570668d289ec09dd850d4c169e1c">firstMeasure</a>())</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                  score-&gt;<a class="code" href="classMs_1_1Score.html#a206609c06ee2dd9fd7ce8465e5963dbd">insertTime</a>(tick1, -(tick2 - tick1));</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            <span class="comment">// Restore clefs that were backed up. Events for them could be lost</span></div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;            <span class="comment">// as a result of the recent insertTime() call.</span></div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Clef.html">Clef</a>* clef : clefs)</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                  clef-&gt;staff()-&gt;setClef(clef);</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Spanner.html">Spanner</a>* sp : score-&gt;<a class="code" href="classMs_1_1Score.html#a09bcc21988411c175885e0bc6dc2de7e">unmanagedSpanners</a>()) {</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                  <span class="keywordflow">if</span> ((sp-&gt;tick() &gt;= tick1 &amp;&amp; sp-&gt;tick() &lt; tick2) || (sp-&gt;tick2() &gt;= tick1 &amp;&amp; sp-&gt;tick2() &lt; tick2))</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                        sp-&gt;removeUnmanaged();</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                  }</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;            score-&gt;<a class="code" href="classMs_1_1Score.html#ae50d0b620dca99b269dea62ddcf71f5a">connectTies</a>(<span class="keyword">true</span>);   <span class="comment">// ??</span></div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            }</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <span class="comment">// remove empty systems</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1System.html">System</a>* s : systemList) {</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;            <span class="keywordflow">if</span> (s-&gt;measures().empty()) {</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                  <a class="code" href="classMs_1_1Page.html">Page</a>* page = s-&gt;page();</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                  <span class="keywordflow">if</span> (page) {</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                        <span class="comment">// erase system from page</span></div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                        QList&lt;System*&gt;&amp; sl = page-&gt;<a class="code" href="classMs_1_1Page.html#a4406043135c1ea0028f010710ebe9774">systems</a>();</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                        <span class="keyword">auto</span> i = std::find(sl.begin(), sl.end(), s);</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                        <span class="keywordflow">if</span> (i != sl.end())</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                              sl.erase(i);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                        <span class="comment">// erase system from score</span></div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                        <span class="keyword">auto</span> k = std::find(score-&gt;<a class="code" href="classMs_1_1Score.html#ae550ee02f05637cd42d972c95bb6985d">systems</a>().begin(), score-&gt;<a class="code" href="classMs_1_1Score.html#ae550ee02f05637cd42d972c95bb6985d">systems</a>().end(), s);</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                        <span class="keywordflow">if</span> (k != score-&gt;<a class="code" href="classMs_1_1Score.html#ae550ee02f05637cd42d972c95bb6985d">systems</a>().end())</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                              score-&gt;<a class="code" href="classMs_1_1Score.html#ae550ee02f05637cd42d972c95bb6985d">systems</a>().erase(k);</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                        <span class="comment">// finally delete system</span></div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                        score-&gt;<a class="code" href="classMs_1_1Score.html#afe3fa6e1b09168647dc041eba019443c">deleteLater</a>(s);</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                        }</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                  }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;            }</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      score-&gt;<a class="code" href="classMs_1_1Score.html#a073a83d271a8825353007a8b42987609">setLayoutAll</a>();</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;      }</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="comment">//   AddExcerpt::undo</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div><div class="line"><a name="l02016"></a><span class="lineno"><a class="line" href="classMs_1_1AddExcerpt.html#a7c7d3a057f5542d33872d9c54a9350b5"> 2016</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1AddExcerpt.html#a7c7d3a057f5542d33872d9c54a9350b5">AddExcerpt::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      {</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      excerpt-&gt;oscore()-&gt;removeExcerpt(excerpt);</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      }</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="comment">//   AddExcerpt::redo</span></div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;</div><div class="line"><a name="l02025"></a><span class="lineno"><a class="line" href="classMs_1_1AddExcerpt.html#a837ba02525776afd0115e58f2c84c17b"> 2025</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1AddExcerpt.html#a837ba02525776afd0115e58f2c84c17b">AddExcerpt::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;      {</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      excerpt-&gt;oscore()-&gt;addExcerpt(excerpt);</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      }</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="comment">//   RemoveExcerpt::undo()</span></div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;</div><div class="line"><a name="l02034"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveExcerpt.html#ae8a4dee431cd3a55f10b850b36b90333"> 2034</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveExcerpt.html#ae8a4dee431cd3a55f10b850b36b90333">RemoveExcerpt::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      {</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      excerpt-&gt;oscore()-&gt;addExcerpt(excerpt);</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      }</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="comment">//   RemoveExcerpt::redo()</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;</div><div class="line"><a name="l02043"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveExcerpt.html#ae2cebaf542796930849e880bf7457f18"> 2043</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveExcerpt.html#ae2cebaf542796930849e880bf7457f18">RemoveExcerpt::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      {</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      excerpt-&gt;oscore()-&gt;removeExcerpt(excerpt);</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      }</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="comment">//   SwapExcerpt::flip</span></div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;</div><div class="line"><a name="l02052"></a><span class="lineno"><a class="line" href="classMs_1_1SwapExcerpt.html#a27633ab5f058aa66a3a9ee58f44305d3"> 2052</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1SwapExcerpt.html#a27633ab5f058aa66a3a9ee58f44305d3">SwapExcerpt::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      {</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      score-&gt;excerpts().swap(pos1, pos2);</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      score-&gt;setExcerptsChanged(<span class="keyword">true</span>);</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;      }</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;<span class="comment">//   ChangeExcerptTitle::flip</span></div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div><div class="line"><a name="l02062"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeExcerptTitle.html#a510c1f8afb582bea572d82cbe2be76f1"> 2062</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeExcerptTitle.html#a510c1f8afb582bea572d82cbe2be76f1">ChangeExcerptTitle::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      {</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      QString s = title;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      title = excerpt-&gt;title();</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      excerpt-&gt;setTitle(s);</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      excerpt-&gt;oscore()-&gt;setExcerptsChanged(<span class="keyword">true</span>);</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      }</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;<span class="comment">//   flip</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;</div><div class="line"><a name="l02074"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeBend.html#ac0d5c034686ce8465fd2c318d1e880aa"> 2074</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeBend.html#ac0d5c034686ce8465fd2c318d1e880aa">ChangeBend::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      {</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      QList&lt;PitchValue&gt; pv = <a class="code" href="namespaceMs.html#ab95780981906efe08587137e6c091e05">bend</a>-&gt;points();</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      <a class="code" href="namespaceMs.html#ab95780981906efe08587137e6c091e05">bend</a>-&gt;score()-&gt;addRefresh(<a class="code" href="namespaceMs.html#ab95780981906efe08587137e6c091e05">bend</a>-&gt;canvasBoundingRect());</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <a class="code" href="namespaceMs.html#ab95780981906efe08587137e6c091e05">bend</a>-&gt;setPoints(points);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      points = pv;</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <a class="code" href="namespaceMs.html#ab95780981906efe08587137e6c091e05">bend</a>-&gt;layout();</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      <a class="code" href="namespaceMs.html#ab95780981906efe08587137e6c091e05">bend</a>-&gt;score()-&gt;addRefresh(<a class="code" href="namespaceMs.html#ab95780981906efe08587137e6c091e05">bend</a>-&gt;canvasBoundingRect());</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      }</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;<span class="comment">//   flip</span></div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;</div><div class="line"><a name="l02088"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeTremoloBar.html#aa936dc70b32c1d8829721f8b209f20a2"> 2088</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeTremoloBar.html#aa936dc70b32c1d8829721f8b209f20a2">ChangeTremoloBar::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      {</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      QList&lt;PitchValue&gt; pv = <a class="code" href="namespaceMs.html#ab95780981906efe08587137e6c091e05">bend</a>-&gt;points();</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;      <a class="code" href="namespaceMs.html#ab95780981906efe08587137e6c091e05">bend</a>-&gt;setPoints(points);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      points = pv;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;      }</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;<span class="comment">//   ChangeNoteEvents::flip</span></div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;</div><div class="line"><a name="l02099"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeNoteEvents.html#a1fbb656352ab45b34ad2f3210728abab"> 2099</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeNoteEvents.html#a1fbb656352ab45b34ad2f3210728abab">ChangeNoteEvents::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      {</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="comment">/*TODO:      QList&lt;NoteEvent*&gt; e = chord-&gt;playEvents();</span></div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<span class="comment">      chord-&gt;setPlayEvents(events);</span></div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="comment">      events = e;</span></div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      }</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<span class="comment">//   ChangeNoteEventList::flip</span></div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;</div><div class="line"><a name="l02111"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeNoteEventList.html#ae0822b862f46f859cafc904b532ba073"> 2111</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeNoteEventList.html#ae0822b862f46f859cafc904b532ba073">ChangeNoteEventList::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      {</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;      note-&gt;score()-&gt;setPlaylistDirty();</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="comment">// Get copy of current list.</span></div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <a class="code" href="classMs_1_1NoteEventList.html">NoteEventList</a> nel = note-&gt;playEvents();</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      <span class="comment">// Replace current copy with new list.</span></div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      note-&gt;setPlayEvents(newEvents);</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <span class="comment">// Save copy of replaced list.</span></div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      newEvents = nel;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="comment">// Get a copy of the current playEventType.</span></div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      <a class="code" href="namespaceMs.html#a3ca11c21f2fe66a8c8efc1bf0d75ccf2">PlayEventType</a> petval = note-&gt;chord()-&gt;playEventType();</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;      <span class="comment">// Replace current setting with new setting.</span></div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      note-&gt;chord()-&gt;setPlayEventType(newPetype);</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;      <span class="comment">// Save copy of old setting.</span></div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      newPetype = petval;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      }</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;<span class="comment">//   ChangeNoteEventList::flip</span></div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;</div><div class="line"><a name="l02132"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeChordPlayEventType.html#a692f852269976ce5d3019458fa682b82"> 2132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeChordPlayEventType.html#a692f852269976ce5d3019458fa682b82">ChangeChordPlayEventType::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      {</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      chord-&gt;score()-&gt;setPlaylistDirty();</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <span class="comment">// Flips data between NoteEventList&#39;s.</span></div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordtype">size_t</span> n = chord-&gt;notes().size();</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* note = chord-&gt;notes()[i];</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;            note-&gt;<a class="code" href="classMs_1_1Note.html#a4bcf5d2a9e8fc31a5b4c4fffbab51924">playEvents</a>().swap(events[<span class="keywordtype">int</span>(i)]);</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;            }</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      <span class="comment">// Flips PlayEventType between chord and undo.</span></div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <a class="code" href="namespaceMs.html#a3ca11c21f2fe66a8c8efc1bf0d75ccf2">PlayEventType</a> curPetype = chord-&gt;playEventType();</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;      chord-&gt;setPlayEventType(petype);</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      petype = curPetype;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      }</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="comment">//   ChangeInstrument::flip</span></div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;</div><div class="line"><a name="l02151"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeInstrument.html#a4c8e9c9c23eba5f0ee6f8c511ea1b4ce"> 2151</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeInstrument.html#a4c8e9c9c23eba5f0ee6f8c511ea1b4ce">ChangeInstrument::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      {</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      <a class="code" href="classMs_1_1Part.html">Part</a>* part = is-&gt;<a class="code" href="classMs_1_1Part.html#a3416c1062c8d4edc6247c8bdd11e00d8">staff</a>()-&gt;<a class="code" href="classMs_1_1Staff.html#ae31dc0de799c1e206af979e65bf837ab">part</a>();</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      <a class="code" href="classMs_1_1Fraction.html">Fraction</a> tickStart = is-&gt;segment()-&gt;tick();</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <a class="code" href="classMs_1_1Instrument.html">Instrument</a>* oi = is-&gt;instrument();  <span class="comment">//new Instrument(*is-&gt;instrument());</span></div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <span class="comment">// set instrument in both part and instrument change element</span></div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      is-&gt;setInstrument(instrument);      <span class="comment">//*instrument</span></div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      part-&gt;<a class="code" href="classMs_1_1Part.html#a78faa958eb395ed351ee94123e2b42db">setInstrument</a>(instrument, tickStart);</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <span class="comment">// update score</span></div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      is-&gt;masterScore()-&gt;rebuildMidiMapping();</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      is-&gt;masterScore()-&gt;updateChannel();</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      is-&gt;score()-&gt;setInstrumentsChanged(<span class="keyword">true</span>);</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      is-&gt;triggerLayoutAll();</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      <span class="comment">// remember original instrument</span></div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      instrument = oi;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      }</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;<span class="comment">//   flip</span></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;</div><div class="line"><a name="l02175"></a><span class="lineno"><a class="line" href="classMs_1_1SwapCR.html#a6623c55c1f9977d2a81f6e3f5f047605"> 2175</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1SwapCR.html#a6623c55c1f9977d2a81f6e3f5f047605">SwapCR::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      {</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;      <a class="code" href="classMs_1_1Segment.html">Segment</a>* s1 = cr1-&gt;segment();</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      <a class="code" href="classMs_1_1Segment.html">Segment</a>* s2 = cr2-&gt;segment();</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      <span class="keywordtype">int</span> track = cr1-&gt;<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>();</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      <span class="keywordflow">if</span> (cr1-&gt;isChord() &amp;&amp; cr2-&gt;isChord() &amp;&amp; toChord(cr1)-&gt;tremolo()</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;         &amp;&amp; (toChord(cr1)-&gt;tremolo() == toChord(cr2)-&gt;tremolo())) {</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            <a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>* t = toChord(cr1)-&gt;tremolo();</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;            <a class="code" href="classMs_1_1Chord.html">Chord</a>* c1 = t-&gt;<a class="code" href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">chord1</a>();</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            <a class="code" href="classMs_1_1Chord.html">Chord</a>* c2 = t-&gt;<a class="code" href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">chord2</a>();</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;            t-&gt;<a class="code" href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">setParent</a>(toChord(c2));</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;            t-&gt;<a class="code" href="classMs_1_1Tremolo.html#ae23f822657ab2477a8ad0d203e44569f">setChords</a>(toChord(c2), toChord(c1));</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;            }</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* cr = s1-&gt;<a class="code" href="classMs_1_1Segment.html#a4e9ad4c47081dec0aebcd2aea96b309f">element</a>(track);</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      s1-&gt;<a class="code" href="classMs_1_1Segment.html#abd202529f56fe3135e6465c349b430fa">setElement</a>(track, s2-&gt;<a class="code" href="classMs_1_1Segment.html#a4e9ad4c47081dec0aebcd2aea96b309f">element</a>(track));</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      s2-&gt;<a class="code" href="classMs_1_1Segment.html#abd202529f56fe3135e6465c349b430fa">setElement</a>(track, cr);</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;      cr1-&gt;score()-&gt;setLayout(s1-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>(), cr1-&gt;staffIdx(), cr1);</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      cr1-&gt;score()-&gt;setLayout(s2-&gt;<a class="code" href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">tick</a>(), cr1-&gt;staffIdx(), cr1);</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      }</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="comment">//   ChangeClefType</span></div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;</div><div class="line"><a name="l02201"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeClefType.html#ae82c2751dabf0c1305a31b8a4d4cef70"> 2201</a></span>&#160;<a class="code" href="classMs_1_1ChangeClefType.html#ae82c2751dabf0c1305a31b8a4d4cef70">ChangeClefType::ChangeClefType</a>(<a class="code" href="classMs_1_1Clef.html">Clef</a>* c, <a class="code" href="namespaceMs.html#a3b085ddb3e3b890843f2e33874b9fa4b">ClefType</a> cl, <a class="code" href="namespaceMs.html#a3b085ddb3e3b890843f2e33874b9fa4b">ClefType</a> tc)</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      {</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;      clef            = c;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      concertClef     = cl;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      transposingClef = tc;</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;      }</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="comment">//   ChangeClefType::flip</span></div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;</div><div class="line"><a name="l02212"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeClefType.html#a67c932be5ec500634dd91541df9fd10d"> 2212</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeClefType.html#a67c932be5ec500634dd91541df9fd10d">ChangeClefType::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      {</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      <a class="code" href="namespaceMs.html#a3b085ddb3e3b890843f2e33874b9fa4b">ClefType</a> ocl = clef-&gt;concertClef();</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      <a class="code" href="namespaceMs.html#a3b085ddb3e3b890843f2e33874b9fa4b">ClefType</a> otc = clef-&gt;transposingClef();</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;      clef-&gt;setConcertClef(concertClef);</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;      clef-&gt;setTransposingClef(transposingClef);</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;      clef-&gt;staff()-&gt;setClef(clef);</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;      <a class="code" href="classMs_1_1Segment.html">Segment</a>* segment = clef-&gt;segment();</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <a class="code" href="namespaceMs.html#aa17fec62ae82f5ceafe5b2f86656724b">updateNoteLines</a>(segment, clef-&gt;<a class="code" href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">track</a>());</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;      clef-&gt;triggerLayoutAll();      <span class="comment">// TODO: reduce layout to clef range</span></div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      concertClef     = ocl;</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      transposingClef = otc;</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      <span class="comment">// layout the clef to align the currentClefType with the actual one immediately</span></div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      clef-&gt;layout();</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      }</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="comment">//   flip</span></div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;<span class="preprocessor">#if 0 // MoveStaff is commented out in mscore/instrwidget.cpp, not used anywhere else</span></div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;<span class="keywordtype">void</span> MoveStaff::flip(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      {</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      <a class="code" href="classMs_1_1Part.html">Part</a>* oldPart = staff-&gt;part();</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <span class="keywordtype">int</span> idx = staff-&gt;rstaff();</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      oldPart-&gt;<a class="code" href="classMs_1_1Part.html#a0c9bf8a8dafbf8abba9b39e45aba003e">removeStaff</a>(staff);</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;      part-&gt;insertStaff(staff, rstaff);</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      part = oldPart;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      rstaff = idx;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      staff-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>()-&gt;<a class="code" href="classMs_1_1Score.html#a073a83d271a8825353007a8b42987609">setLayoutAll</a>();</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;      }</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="comment">//   ChangeProperty::flip</span></div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;</div><div class="line"><a name="l02251"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeProperty.html#a939105fc5e677ba4d82f31f154895c3b"> 2251</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeProperty.html#a939105fc5e677ba4d82f31f154895c3b">ChangeProperty::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;      {</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      qCDebug(undoRedo) &lt;&lt; element-&gt;name() &lt;&lt; int(<span class="keywordtype">id</span>) &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code" href="namespaceMs.html#a648f4838572625fde50cc6fcaf8cac05">propertyName</a>(<span class="keywordtype">id</span>) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; element-&gt;getProperty(<span class="keywordtype">id</span>) &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span> &lt;&lt; property;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;      QVariant v       = element-&gt;getProperty(<span class="keywordtype">id</span>);</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;      <a class="code" href="namespaceMs.html#a56785a0f227cf3d1d0a4891656a35daa">PropertyFlags</a> ps = element-&gt;propertyFlags(<span class="keywordtype">id</span>);</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;      element-&gt;setProperty(<span class="keywordtype">id</span>, property);</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      element-&gt;setPropertyFlags(<span class="keywordtype">id</span>, flags);</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;      <span class="keyword">property</span> = v;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;      flags = ps;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;      }</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="comment">//   ChangeBracketProperty::flip</span></div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;</div><div class="line"><a name="l02268"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeBracketProperty.html#abab3363a242552c1072f1e16f135d747"> 2268</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeBracketProperty.html#abab3363a242552c1072f1e16f135d747">ChangeBracketProperty::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      {</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      element = staff-&gt;brackets()[level];</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      <a class="code" href="classMs_1_1ChangeProperty.html#a939105fc5e677ba4d82f31f154895c3b">ChangeProperty::flip</a>(ed);</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      level = toBracketItem(element)-&gt;column();</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;      }</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;<span class="comment">//   ChangeTextLineProperty::flip</span></div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;</div><div class="line"><a name="l02279"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeTextLineProperty.html#a5d79b481c84bad9bd11adf2f67b6f15d"> 2279</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeTextLineProperty.html#a5d79b481c84bad9bd11adf2f67b6f15d">ChangeTextLineProperty::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>* ed)</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;      {</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;      <a class="code" href="classMs_1_1ChangeProperty.html#a939105fc5e677ba4d82f31f154895c3b">ChangeProperty::flip</a>(ed);</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      <span class="keywordflow">if</span> (element-&gt;isTextLine())</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            toTextLine(element)-&gt;initStyle();</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;      }</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="comment">//   ChangeMetaText::flip</span></div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div><div class="line"><a name="l02290"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeMetaText.html#a0a226afe181406e9a45cf489508f0695"> 2290</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeMetaText.html#a0a226afe181406e9a45cf489508f0695">ChangeMetaText::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;      {</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      QString s = score-&gt;metaTag(<span class="keywordtype">id</span>);</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;      score-&gt;setMetaTag(<span class="keywordtype">id</span>, text);</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      text = s;</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      }</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;<span class="comment">//   ChangeSynthesizerState::flip</span></div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;</div><div class="line"><a name="l02301"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeSynthesizerState.html#aaad4a1cd37667b444ea5023693ec81c2"> 2301</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeSynthesizerState.html#aaad4a1cd37667b444ea5023693ec81c2">ChangeSynthesizerState::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      {</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <a class="code" href="namespaceMs.html#a0c4aeeb6df2cc7465f9c33aacdbbbe4f">std::swap</a>(state, score-&gt;_synthesizerState);</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      }</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div><div class="line"><a name="l02306"></a><span class="lineno"><a class="line" href="classMs_1_1AddBracket.html#a3c1ca15daf7eed34bd902a36e6466f6b"> 2306</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1AddBracket.html#a3c1ca15daf7eed34bd902a36e6466f6b">AddBracket::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      {</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      staff-&gt;setBracketType(level, type);</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      staff-&gt;setBracketSpan(level, span);</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      staff-&gt;triggerLayout();</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      }</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;</div><div class="line"><a name="l02313"></a><span class="lineno"><a class="line" href="classMs_1_1AddBracket.html#ae6eae3954b5d907c2ff8afd95508c648"> 2313</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1AddBracket.html#ae6eae3954b5d907c2ff8afd95508c648">AddBracket::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      {</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      staff-&gt;setBracketType(level, <a class="code" href="namespaceMs.html#a4c0a2128d0477020d4faf110cc01e3abadce8b0195579ed95a4d3a11e68d89fde">BracketType::NO_BRACKET</a>);</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      staff-&gt;triggerLayout();</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      }</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;</div><div class="line"><a name="l02319"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveBracket.html#a3cdd3dce0665b06a64864d45c55fa908"> 2319</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveBracket.html#a3cdd3dce0665b06a64864d45c55fa908">RemoveBracket::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;      {</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      staff-&gt;setBracketType(level, <a class="code" href="namespaceMs.html#a4c0a2128d0477020d4faf110cc01e3abadce8b0195579ed95a4d3a11e68d89fde">BracketType::NO_BRACKET</a>);</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      staff-&gt;triggerLayout();</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      }</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;</div><div class="line"><a name="l02325"></a><span class="lineno"><a class="line" href="classMs_1_1RemoveBracket.html#a8ab1c56902e2023762431ab9aae454f2"> 2325</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1RemoveBracket.html#a8ab1c56902e2023762431ab9aae454f2">RemoveBracket::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      {</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      staff-&gt;setBracketType(level, type);</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      staff-&gt;setBracketSpan(level, span);</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      staff-&gt;triggerLayout();</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      }</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="comment">//   ChangeSpannerElements</span></div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;</div><div class="line"><a name="l02336"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeSpannerElements.html#a0db270a16a3c49927bbc1d51c0e62ee8"> 2336</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeSpannerElements.html#a0db270a16a3c49927bbc1d51c0e62ee8">ChangeSpannerElements::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      {</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>*    oldStartElement   = spanner-&gt;startElement();</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>*    oldEndElement     = spanner-&gt;endElement();</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;      <span class="keywordflow">if</span> (spanner-&gt;anchor() == <a class="code" href="classMs_1_1Spanner.html#a4dc69fc35fde4cd35118dde886f292aea10de4bc81f754b19b0d27246a0589c05">Spanner::Anchor::NOTE</a>) {</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;            <span class="comment">// be sure new spanner elements are of the right type</span></div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;            <span class="keywordflow">if</span> (!startElement || !startElement-&gt;isNote() || !endElement || !endElement-&gt;isNote())</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;                  <span class="keywordflow">return</span>;</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* oldStartNote = toNote(oldStartElement);</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* oldEndNote = toNote(oldEndElement);</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* newStartNote = toNote(startElement);</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;            <a class="code" href="classMs_1_1Note.html">Note</a>* newEndNote = toNote(endElement);</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;            <span class="comment">// update spanner&#39;s start and end notes</span></div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;            <span class="keywordflow">if</span> (newStartNote &amp;&amp; newEndNote) {</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                  spanner-&gt;setNoteSpan(newStartNote, newEndNote);</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                  <span class="keywordflow">if</span> (spanner-&gt;isTie()) {</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                        <a class="code" href="classMs_1_1Tie.html">Tie</a>* tie = toTie(spanner);</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                        oldStartNote-&gt;<a class="code" href="classMs_1_1Note.html#a05ce3788d478c430ece124313a63af1f">setTieFor</a>(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;                        oldEndNote-&gt;<a class="code" href="classMs_1_1Note.html#a9bdc2e024e29b58a2a25678a957782d5">setTieBack</a>(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                        newStartNote-&gt;<a class="code" href="classMs_1_1Note.html#a05ce3788d478c430ece124313a63af1f">setTieFor</a>(tie);</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;                        newEndNote-&gt;<a class="code" href="classMs_1_1Note.html#a9bdc2e024e29b58a2a25678a957782d5">setTieBack</a>(tie);</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                        }</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;                        oldStartNote-&gt;<a class="code" href="classMs_1_1Note.html#a8079a2be644aa231ba874647bbd871fd">removeSpannerFor</a>(spanner);</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                        oldEndNote-&gt;<a class="code" href="classMs_1_1Note.html#a97575ef0255cb4b9cde48b6c8730a00f">removeSpannerBack</a>(spanner);</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                        newStartNote-&gt;<a class="code" href="classMs_1_1Note.html#a8aabb10d91e08035ebe0f9cbc6d55729">addSpannerFor</a>(spanner);</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                        newEndNote-&gt;<a class="code" href="classMs_1_1Note.html#a867b372fb90830b22bfe0d26d0675138">addSpannerBack</a>(spanner);</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                        <span class="keywordflow">if</span> (spanner-&gt;isGlissando())</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;                              oldEndNote-&gt;<a class="code" href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">chord</a>()-&gt;<a class="code" href="classMs_1_1Chord.html#a68421838d547539df5a4ccb2199e6d0c">updateEndsGlissando</a>();</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;                        }</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                  }</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;            }</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            spanner-&gt;setStartElement(startElement);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;            spanner-&gt;setEndElement(endElement);</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;            }</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;      startElement = oldStartElement;</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;      endElement   = oldEndElement;</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;      spanner-&gt;<a class="code" href="classMs_1_1Element.html#ab28ffe83fb1064fb3c2a6fa648bca688">triggerLayout</a>();</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;      }</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;<span class="comment">//   ChangeParent</span></div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div><div class="line"><a name="l02381"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeParent.html#a790b3535068f397a7e5040be77ae1d30"> 2381</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeParent.html#a790b3535068f397a7e5040be77ae1d30">ChangeParent::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      {</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* p = element-&gt;<a class="code" href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">parent</a>();</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      <span class="keywordtype">int</span> si = element-&gt;<a class="code" href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">staffIdx</a>();</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;      p-&gt;<a class="code" href="classMs_1_1Element.html#acca1fd58c4df74da5cefc31787a2c715">remove</a>(element);</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;      element-&gt;setParent(parent);</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;      element-&gt;setTrack(<a class="code" href="classMs_1_1ChangeMStaffProperties.html#ad88a994669a087871797c468340383fc">staffIdx</a> * <a class="code" href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a>);</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;      parent-&gt;add(element);</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;      <a class="code" href="classMs_1_1ChangeMStaffProperties.html#ad88a994669a087871797c468340383fc">staffIdx</a> = si;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      parent = p;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;      }</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;<span class="comment">//   ChangeMMRest</span></div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;</div><div class="line"><a name="l02397"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeMMRest.html#a331f3aedc8a241e5d4c617b66b5e0194"> 2397</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeMMRest.html#a331f3aedc8a241e5d4c617b66b5e0194">ChangeMMRest::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;      {</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      <a class="code" href="classMs_1_1Measure.html">Measure</a>* mmr = m-&gt;<a class="code" href="classMs_1_1Measure.html#a9109c2c9621f0cc9ecd86afcae54afe8">mmRest</a>();</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;      m-&gt;<a class="code" href="classMs_1_1Measure.html#a4f69d0d7b4406aeff800488d2dd06d97">setMMRest</a>(mmrest);</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;      mmrest = mmr;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;      }</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;<span class="comment">//   InsertTime</span></div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;</div><div class="line"><a name="l02408"></a><span class="lineno"><a class="line" href="classMs_1_1InsertTime.html#ad69d3aece87faff9c57481a27b920384"> 2408</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertTime.html#ad69d3aece87faff9c57481a27b920384">InsertTime::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      {</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      score-&gt;insertTime(<a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>, len);</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      }</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;</div><div class="line"><a name="l02413"></a><span class="lineno"><a class="line" href="classMs_1_1InsertTime.html#ab416fab60ed28ac88781c69ae2ef3007"> 2413</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertTime.html#ab416fab60ed28ac88781c69ae2ef3007">InsertTime::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      {</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;      score-&gt;insertTime(<a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>, -len);</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;      }</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment">//   InsertTimeUnmanagedSpanner::flip</span></div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;</div><div class="line"><a name="l02422"></a><span class="lineno"><a class="line" href="classMs_1_1InsertTimeUnmanagedSpanner.html#a11901891c00226c8bc3cf34287e3cade"> 2422</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1InsertTimeUnmanagedSpanner.html#a11901891c00226c8bc3cf34287e3cade">InsertTimeUnmanagedSpanner::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      {</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Score.html">Score</a>* s : score-&gt;<a class="code" href="classMs_1_1Score.html#ab1cc5664f333c87c1ad6d216f612701a">scoreList</a>()) {</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> unmanagedSpanners(s-&gt;unmanagedSpanners());</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classMs_1_1Spanner.html">Spanner</a>* sp : unmanagedSpanners)</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                  sp-&gt;insertTimeUnmanaged(<a class="code" href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a>, len);</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;            }</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      len = -len;</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      }</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;<span class="comment">//   ChangeNoteEvent::flip</span></div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;</div><div class="line"><a name="l02436"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeNoteEvent.html#aa8fa16b30b363424facd036a6ef40b4c"> 2436</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeNoteEvent.html#aa8fa16b30b363424facd036a6ef40b4c">ChangeNoteEvent::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      {</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      note-&gt;score()-&gt;setPlaylistDirty();</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      <a class="code" href="classMs_1_1NoteEvent.html">NoteEvent</a> e = *oldEvent;</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;      *oldEvent   = newEvent;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      newEvent    = e;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;      <span class="comment">// Get a copy of the current playEventType.</span></div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      <a class="code" href="namespaceMs.html#a3ca11c21f2fe66a8c8efc1bf0d75ccf2">PlayEventType</a> petval = note-&gt;chord()-&gt;playEventType();</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      <span class="comment">// Replace current setting with new setting.</span></div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      note-&gt;chord()-&gt;setPlayEventType(newPetype);</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      <span class="comment">// Save copy of old setting.</span></div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      newPetype = petval;</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      }</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;<span class="comment">//   LinkUnlink</span></div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;</div><div class="line"><a name="l02454"></a><span class="lineno"><a class="line" href="classMs_1_1LinkUnlink.html#a7611ea0268535d580042bfb9f6395067"> 2454</a></span>&#160;<a class="code" href="classMs_1_1LinkUnlink.html#a7611ea0268535d580042bfb9f6395067">LinkUnlink::~LinkUnlink</a>()</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;      {</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;      <span class="keywordflow">if</span> (le &amp;&amp; mustDelete) {</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;            Q_ASSERT(le-&gt;size() &lt;= 1);</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;            <span class="keyword">delete</span> le;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;            }</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;      }</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;</div><div class="line"><a name="l02462"></a><span class="lineno"><a class="line" href="classMs_1_1LinkUnlink.html#ac7dbd960882e02623a9217a6c82597e7"> 2462</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1LinkUnlink.html#ac7dbd960882e02623a9217a6c82597e7">LinkUnlink::link</a>()</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;      {</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;      <span class="keywordflow">if</span> (le-&gt;size() == 1)</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;            le-&gt;front()-&gt;setLinks(le);</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      mustDelete = <span class="keyword">false</span>;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;      le-&gt;append(e);</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;      e-&gt;setLinks(le);</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;      }</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;</div><div class="line"><a name="l02471"></a><span class="lineno"><a class="line" href="classMs_1_1LinkUnlink.html#a7c59287b867fbed63735f8e0505e4bc1"> 2471</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1LinkUnlink.html#a7c59287b867fbed63735f8e0505e4bc1">LinkUnlink::unlink</a>()</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;      {</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;      Q_ASSERT(le-&gt;contains(e));</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;      le-&gt;removeOne(e);</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;      <span class="keywordflow">if</span> (le-&gt;size() == 1) {</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;            le-&gt;front()-&gt;setLinks(0);</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;            mustDelete = <span class="keyword">true</span>;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;            }</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;      e-&gt;setLinks(0);</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      }</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="comment">//   Link</span></div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">//    link e1 to e2</span></div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;</div><div class="line"><a name="l02488"></a><span class="lineno"><a class="line" href="classMs_1_1Link.html#ac2463246a7aa22c52b7cbd61bbbe6433"> 2488</a></span>&#160;<a class="code" href="classMs_1_1Link.html#ac2463246a7aa22c52b7cbd61bbbe6433">Link::Link</a>(<a class="code" href="classMs_1_1ScoreElement.html">ScoreElement</a>* e1, <a class="code" href="classMs_1_1ScoreElement.html">ScoreElement</a>* e2)</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      {</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      Q_ASSERT(e1-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3d5c97191484848b3f10e754246f8758">links</a>() == 0);</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;      le = e2-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3d5c97191484848b3f10e754246f8758">links</a>();</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      <span class="keywordflow">if</span> (!le) {</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;            <span class="keywordflow">if</span> (e1-&gt;isStaff())</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;                  le = <span class="keyword">new</span> <a class="code" href="classMs_1_1LinkedElements.html">LinkedElements</a>(e1-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>(), -1);</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;                  le = <span class="keyword">new</span> <a class="code" href="classMs_1_1LinkedElements.html">LinkedElements</a>(e1-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">score</a>());</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;            le-&gt;push_back(e2);</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;            }</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;      e = e1;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;      }</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;<span class="comment">//   Link::isFiltered</span></div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classMs_1_1UndoCommand.html#a7e84d54e5b22eeeb9646c8a86fc2a0cb">Link::isFiltered</a>(<a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">UndoCommand::Filter</a> f, <span class="keyword">const</span> <a class="code" href="classMs_1_1Element.html">Element</a>* target)<span class="keyword"> const</span></div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="keyword">      </span>{</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;      <span class="keyword">using</span> <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">Filter</a> = <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">UndoCommand::Filter</a>;</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      <span class="keywordflow">if</span> (f == <a class="code" href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425a97e7c9a7d06eac006a28bf05467fcc8b">Filter::Link</a>)</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;            <span class="keywordflow">return</span> e == target || le-&gt;<a class="code" href="classMs_1_1Element.html#a50e66c130bd475554fef1131c68ee4bb">contains</a>(const_cast&lt;Element*&gt;(target));</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      }</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;<span class="comment">//   Unlink</span></div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;</div><div class="line"><a name="l02518"></a><span class="lineno"><a class="line" href="classMs_1_1Unlink.html#a0cba652de95cad57b7b2a5cdc66882e5"> 2518</a></span>&#160;<a class="code" href="classMs_1_1Unlink.html#a0cba652de95cad57b7b2a5cdc66882e5">Unlink::Unlink</a>(<a class="code" href="classMs_1_1ScoreElement.html">ScoreElement</a>* _e)</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;      {</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      e  = _e;</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;      le = e-&gt;<a class="code" href="classMs_1_1ScoreElement.html#a3d5c97191484848b3f10e754246f8758">links</a>();</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      Q_ASSERT(le);</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;      }</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;<span class="comment">//   ChangeStartEndSpanner::flip</span></div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;</div><div class="line"><a name="l02529"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeStartEndSpanner.html#af21d83a57fabe8ac373c8ba01548d2a8"> 2529</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeStartEndSpanner.html#af21d83a57fabe8ac373c8ba01548d2a8">ChangeStartEndSpanner::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      {</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* s = spanner-&gt;startElement();</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      <a class="code" href="classMs_1_1Element.html">Element</a>* e = spanner-&gt;endElement();</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      spanner-&gt;setStartElement(start);</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;      spanner-&gt;setEndElement(end);</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      start = s;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      end   = e;</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;      }</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;<span class="comment">//   ChangeMetaTags::flip</span></div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;</div><div class="line"><a name="l02543"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeMetaTags.html#ad994e04341f1b8bf5ec66e56e5417f5e"> 2543</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeMetaTags.html#ad994e04341f1b8bf5ec66e56e5417f5e">ChangeMetaTags::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      {</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      QMap&lt;QString,QString&gt; t = score-&gt;metaTags();</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      score-&gt;setMetaTags(metaTags);</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      metaTags = t;</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;      }</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;<span class="comment">//   ChangeDrumset::flip</span></div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;</div><div class="line"><a name="l02554"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeDrumset.html#afc248f4c9d91b36503d8129188b03e48"> 2554</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeDrumset.html#afc248f4c9d91b36503d8129188b03e48">ChangeDrumset::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      {</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;      <a class="code" href="classMs_1_1Drumset.html">Drumset</a> d = *instrument-&gt;drumset();</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;      instrument-&gt;setDrumset(&amp;drumset);</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      drumset = d;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;      }</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;<span class="comment">//   FretDot</span></div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;</div><div class="line"><a name="l02565"></a><span class="lineno"><a class="line" href="classMs_1_1FretDot.html#ac93f73d3c4fdcb20b9f94ec3e7d60ddb"> 2565</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1FretDot.html#ac93f73d3c4fdcb20b9f94ec3e7d60ddb">FretDot::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      {</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      undoData = <a class="code" href="classMs_1_1FretUndoData.html">FretUndoData</a>(diagram);</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;      diagram-&gt;setDot(<span class="keywordtype">string</span>, fret, add, dtype);</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      diagram-&gt;triggerLayout();</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      }</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;</div><div class="line"><a name="l02574"></a><span class="lineno"><a class="line" href="classMs_1_1FretDot.html#a5e6edb0f8a023d32fbe21d82c8381961"> 2574</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1FretDot.html#a5e6edb0f8a023d32fbe21d82c8381961">FretDot::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;      {</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;      undoData.updateDiagram();</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;      diagram-&gt;triggerLayout();</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;      }</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;<span class="comment">//   FretMarker</span></div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;</div><div class="line"><a name="l02584"></a><span class="lineno"><a class="line" href="classMs_1_1FretMarker.html#a3915e8bf1aa6df779c60ae21c668f927"> 2584</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1FretMarker.html#a3915e8bf1aa6df779c60ae21c668f927">FretMarker::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      {</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;      undoData = <a class="code" href="classMs_1_1FretUndoData.html">FretUndoData</a>(diagram);</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;      diagram-&gt;setMarker(<span class="keywordtype">string</span>, mtype);</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;      diagram-&gt;triggerLayout();</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;      }</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;</div><div class="line"><a name="l02592"></a><span class="lineno"><a class="line" href="classMs_1_1FretMarker.html#a57fe8319ab13bafb3178c984db62c528"> 2592</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1FretMarker.html#a57fe8319ab13bafb3178c984db62c528">FretMarker::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;      {</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;      undoData.updateDiagram();</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      diagram-&gt;triggerLayout();</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      }</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;<span class="comment">//   FretBarre</span></div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;</div><div class="line"><a name="l02602"></a><span class="lineno"><a class="line" href="classMs_1_1FretBarre.html#a12beec896b642679665137c4f2b03aee"> 2602</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1FretBarre.html#a12beec896b642679665137c4f2b03aee">FretBarre::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;      {</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;      undoData = <a class="code" href="classMs_1_1FretUndoData.html">FretUndoData</a>(diagram);</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      diagram-&gt;setBarre(<span class="keywordtype">string</span>, fret, add);</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;      diagram-&gt;triggerLayout();</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;      }</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;</div><div class="line"><a name="l02610"></a><span class="lineno"><a class="line" href="classMs_1_1FretBarre.html#ae51fc945b48a570cf2d3198932b1adff"> 2610</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1FretBarre.html#ae51fc945b48a570cf2d3198932b1adff">FretBarre::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;      {</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;      undoData.updateDiagram();</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;      diagram-&gt;triggerLayout();</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;      }</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;<span class="comment">//   FretClear</span></div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;</div><div class="line"><a name="l02620"></a><span class="lineno"><a class="line" href="classMs_1_1FretClear.html#a84846d3797adc369b26e56cf61105f25"> 2620</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1FretClear.html#a84846d3797adc369b26e56cf61105f25">FretClear::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;      {</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;      undoData = <a class="code" href="classMs_1_1FretUndoData.html">FretUndoData</a>(diagram);</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;      diagram-&gt;clear();</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;      diagram-&gt;triggerLayout();</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      }</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;</div><div class="line"><a name="l02628"></a><span class="lineno"><a class="line" href="classMs_1_1FretClear.html#ab6c18163ea80d6904dc2b3e163e4b97d"> 2628</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1FretClear.html#ab6c18163ea80d6904dc2b3e163e4b97d">FretClear::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;      {</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      undoData.updateDiagram();</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      diagram-&gt;triggerLayout();</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;      }</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<span class="comment">//   MoveTremolo</span></div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;</div><div class="line"><a name="l02638"></a><span class="lineno"><a class="line" href="classMs_1_1MoveTremolo.html#a81c246c09d3dcecfba42b5a3471a0157"> 2638</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1MoveTremolo.html#a81c246c09d3dcecfba42b5a3471a0157">MoveTremolo::redo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;      {</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;      <span class="comment">// Find new tremolo chords</span></div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;      <a class="code" href="classMs_1_1Measure.html">Measure</a>* m1 = score-&gt;tick2measure(chord1Tick);</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;      <a class="code" href="classMs_1_1Measure.html">Measure</a>* m2 = score-&gt;tick2measure(chord2Tick);</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;      IF_ASSERT_FAILED(m1 &amp;&amp; m2) {</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;            }</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;      <a class="code" href="classMs_1_1Chord.html">Chord</a>* c1 = m1-&gt;<a class="code" href="classMs_1_1Measure.html#aefcfedff89ec29c05617bab601d99e4d">findChord</a>(chord1Tick, track);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;      <a class="code" href="classMs_1_1Chord.html">Chord</a>* c2 = m2-&gt;<a class="code" href="classMs_1_1Measure.html#aefcfedff89ec29c05617bab601d99e4d">findChord</a>(chord2Tick, track);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;      IF_ASSERT_FAILED(c1 &amp;&amp; c2) {</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;            }</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;      <span class="comment">// Remember the old tremolo chords</span></div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;      oldC1 = trem-&gt;chord1();</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;      oldC2 = trem-&gt;chord2();</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;      <span class="comment">// Move tremolo away from old chords</span></div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;      trem-&gt;chord1()-&gt;<a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      trem-&gt;chord2()-&gt;setTremolo(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;      <span class="comment">// Delete old tremolo on c1 and c2, if present</span></div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;      <span class="keywordflow">if</span> (c1-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>() &amp;&amp; (c1-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>() != trem)) {</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;            <span class="keywordflow">if</span> (c2-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>() == c1-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>())</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;                  c2-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>()-&gt;<a class="code" href="classMs_1_1Tremolo.html#ae23f822657ab2477a8ad0d203e44569f">setChords</a>(c1,c2);</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;                  c1-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>()-&gt;<a class="code" href="classMs_1_1Tremolo.html#ae23f822657ab2477a8ad0d203e44569f">setChords</a>(c1,<span class="keyword">nullptr</span>);</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;            <a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>* oldTremolo  = c1-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>();</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;            c1-&gt;<a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;            <span class="keyword">delete</span> oldTremolo;</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;            }</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <span class="keywordflow">if</span> (c2-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>() &amp;&amp; (c2-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>() != trem)) {</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;            c2-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>()-&gt;<a class="code" href="classMs_1_1Tremolo.html#ae23f822657ab2477a8ad0d203e44569f">setChords</a>(<span class="keyword">nullptr</span>,c2);</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;            <a class="code" href="classMs_1_1Tremolo.html">Tremolo</a>* oldTremolo  = c2-&gt;<a class="code" href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">tremolo</a>();</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;            c2-&gt;<a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;            <span class="keyword">delete</span> oldTremolo;</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;            }</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <span class="comment">// Move tremolo to new chords</span></div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      c1-&gt;<a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(trem);</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      c2-&gt;<a class="code" href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">setTremolo</a>(trem);</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      trem-&gt;setChords(c1, c2);</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;      trem-&gt;setParent(c1);</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;      <span class="comment">// Tremolo would cross barline, so remove it</span></div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;      <span class="keywordflow">if</span> (m1 != m2) {</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;            score-&gt;undoRemoveElement(trem);</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;            }</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;      <span class="comment">// One of the notes crosses a barline, so remove the tremolo</span></div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;      <span class="keywordflow">if</span> (c1-&gt;<a class="code" href="classMs_1_1DurationElement.html#abd480ba4d052d040db56e1e504cf2596">ticks</a>() != c2-&gt;<a class="code" href="classMs_1_1DurationElement.html#abd480ba4d052d040db56e1e504cf2596">ticks</a>())</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;            score-&gt;undoRemoveElement(trem);</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;      }</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;</div><div class="line"><a name="l02693"></a><span class="lineno"><a class="line" href="classMs_1_1MoveTremolo.html#af240604c2e3a348d7fe32c8073f64922"> 2693</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1MoveTremolo.html#af240604c2e3a348d7fe32c8073f64922">MoveTremolo::undo</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      {</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;      <span class="comment">// Move tremolo to old position</span></div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;      trem-&gt;chord1()-&gt;setTremolo(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;      trem-&gt;chord2()-&gt;setTremolo(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      oldC1-&gt;setTremolo(trem);</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;      oldC2-&gt;setTremolo(trem);</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      trem-&gt;setChords(oldC1, oldC2);</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      trem-&gt;setParent(oldC1);</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      }</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;<span class="comment">//   ChangeScoreOrder</span></div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;<span class="comment">//---------------------------------------------------------</span></div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;</div><div class="line"><a name="l02708"></a><span class="lineno"><a class="line" href="classMs_1_1ChangeScoreOrder.html#a4619bab4299138041791da128f572adc"> 2708</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classMs_1_1ChangeScoreOrder.html#a4619bab4299138041791da128f572adc">ChangeScoreOrder::flip</a>(<a class="code" href="classMs_1_1EditData.html">EditData</a>*)</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      {</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      <a class="code" href="classMs_1_1ScoreOrder.html">ScoreOrder</a>* s = score-&gt;scoreOrder();</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;      score-&gt;setScoreOrder(order);</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      order = s;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      }</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;}</div><div class="ttc" id="classMs_1_1UndoMacro_html_af73165790987b12530b95465026e5dbf"><div class="ttname"><a href="classMs_1_1UndoMacro.html#af73165790987b12530b95465026e5dbf">Ms::UndoMacro::undoInputState</a></div><div class="ttdeci">InputState undoInputState</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00152">undo.h:152</a></div></div>
<div class="ttc" id="classMs_1_1ChangeProperty_html_a939105fc5e677ba4d82f31f154895c3b"><div class="ttname"><a href="classMs_1_1ChangeProperty.html#a939105fc5e677ba4d82f31f154895c3b">Ms::ChangeProperty::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02251">undo.cpp:2251</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMStaffProperties_html_ad88a994669a087871797c468340383fc"><div class="ttname"><a href="classMs_1_1ChangeMStaffProperties.html#ad88a994669a087871797c468340383fc">Ms::ChangeMStaffProperties::staffIdx</a></div><div class="ttdeci">int staffIdx</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00771">undo.h:771</a></div></div>
<div class="ttc" id="classMs_1_1ChangeExcerptTitle_html_a510c1f8afb582bea572d82cbe2be76f1"><div class="ttname"><a href="classMs_1_1ChangeExcerptTitle.html#a510c1f8afb582bea572d82cbe2be76f1">Ms::ChangeExcerptTitle::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02062">undo.cpp:2062</a></div></div>
<div class="ttc" id="classMs_1_1SortStaves_html_a37558c9149fdaa746c7651c492cc6086"><div class="ttname"><a href="classMs_1_1SortStaves.html#a37558c9149fdaa746c7651c492cc6086">Ms::SortStaves::SortStaves</a></div><div class="ttdeci">SortStaves(Score *, QList&lt; int &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01074">undo.cpp:1074</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a3effba59b9156e160fa43f401d09ede1"><div class="ttname"><a href="classMs_1_1Score.html#a3effba59b9156e160fa43f401d09ede1">Ms::Score::setLayout</a></div><div class="ttdeci">void setLayout(const Fraction &amp;tick, int staff, const Element *e=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01472">score.h:1472</a></div></div>
<div class="ttc" id="classMs_1_1ChangeSpannerElements_html_a0db270a16a3c49927bbc1d51c0e62ee8"><div class="ttname"><a href="classMs_1_1ChangeSpannerElements.html#a0db270a16a3c49927bbc1d51c0e62ee8">Ms::ChangeSpannerElements::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02336">undo.cpp:2336</a></div></div>
<div class="ttc" id="structMs_1_1MidiPatch_html_a198ed8155d904a70c3b4ce8891f4fb74"><div class="ttname"><a href="structMs_1_1MidiPatch.html#a198ed8155d904a70c3b4ce8891f4fb74">Ms::MidiPatch::bank</a></div><div class="ttdeci">int bank</div><div class="ttdef"><b>Definition:</b> <a href="midipatch_8h_source.html#l00032">midipatch.h:32</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a9129693fc48621402f0ea332bb589e21"><div class="ttname"><a href="classMs_1_1ChordRest.html#a9129693fc48621402f0ea332bb589e21">Ms::ChordRest::setStaffMove</a></div><div class="ttdeci">void setStaffMove(int val)</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00117">chordrest.h:117</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a44dc6d5b22a75152673060bc059acfb9"><div class="ttname"><a href="classMs_1_1Segment.html#a44dc6d5b22a75152673060bc059acfb9">Ms::Segment::measure</a></div><div class="ttdeci">Measure * measure() const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00130">segment.h:130</a></div></div>
<div class="ttc" id="classMs_1_1ChangeKeySig_html_a261f7b58ee1e5046bf613b67b922c404"><div class="ttname"><a href="classMs_1_1ChangeKeySig.html#a261f7b58ee1e5046bf613b67b922c404">Ms::ChangeKeySig::ks</a></div><div class="ttdeci">KeySigEvent ks</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00413">undo.h:413</a></div></div>
<div class="ttc" id="structMs_1_1UndoMacro_1_1SelectionInfo_html_a6a4e7cbe90ee64773ab9a7d26c69a84d"><div class="ttname"><a href="structMs_1_1UndoMacro_1_1SelectionInfo.html#a6a4e7cbe90ee64773ab9a7d26c69a84d">Ms::UndoMacro::SelectionInfo::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00149">undo.h:149</a></div></div>
<div class="ttc" id="structMs_1_1UndoMacro_1_1SelectionInfo_html_a8b357e9ace20518e919d100f93cd4a2d"><div class="ttname"><a href="structMs_1_1UndoMacro_1_1SelectionInfo.html#a8b357e9ace20518e919d100f93cd4a2d">Ms::UndoMacro::SelectionInfo::tickEnd</a></div><div class="ttdeci">Fraction tickEnd</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00145">undo.h:145</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_aefcbaae7ddfa93753e55c18c39846ca9"><div class="ttname"><a href="classMs_1_1Score.html#aefcbaae7ddfa93753e55c18c39846ca9">Ms::Score::cloneVoice</a></div><div class="ttdeci">void cloneVoice(int strack, int dtrack, Segment *sf, const Fraction &amp;lTick, bool link=true, bool spanner=true)</div><div class="ttdef"><b>Definition:</b> <a href="edit_8cpp_source.html#l03504">edit.cpp:3504</a></div></div>
<div class="ttc" id="accidental_8h_html"><div class="ttname"><a href="accidental_8h.html">accidental.h</a></div><div class="ttdoc">Definition of class Accidental. </div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_ab51538cd2a9348bf5528602d099522d4"><div class="ttname"><a href="classMs_1_1UndoMacro.html#ab51538cd2a9348bf5528602d099522d4">Ms::UndoMacro::redoInputState</a></div><div class="ttdeci">InputState redoInputState</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00153">undo.h:153</a></div></div>
<div class="ttc" id="classMs_1_1ChangeVelocity_html_a382ae0e7c893fdc6b6a0657dee48a163"><div class="ttname"><a href="classMs_1_1ChangeVelocity.html#a382ae0e7c893fdc6b6a0657dee48a163">Ms::ChangeVelocity::note</a></div><div class="ttdeci">Note * note</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00755">undo.h:755</a></div></div>
<div class="ttc" id="structMs_1_1ClefTypeList_html"><div class="ttname"><a href="structMs_1_1ClefTypeList.html">Ms::ClefTypeList</a></div><div class="ttdef"><b>Definition:</b> <a href="clef_8h_source.html#l00081">clef.h:81</a></div></div>
<div class="ttc" id="classMs_1_1KeySig_html_a754d46597fabc130c535fa62ec782133"><div class="ttname"><a href="classMs_1_1KeySig.html#a754d46597fabc130c535fa62ec782133">Ms::KeySig::setShowCourtesy</a></div><div class="ttdeci">void setShowCourtesy(bool v)</div><div class="ttdef"><b>Definition:</b> <a href="keysig_8h_source.html#l00068">keysig.h:68</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_adc48aa06dc7a15edf94f2af688cec616"><div class="ttname"><a href="classMs_1_1Score.html#adc48aa06dc7a15edf94f2af688cec616">Ms::Score::mapExcerptTracks</a></div><div class="ttdeci">void mapExcerptTracks(QList&lt; int &gt; &amp;l)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l02696">score.cpp:2696</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ac1fe59b8f92c11fc6b662855fc8d9316"><div class="ttname"><a href="classMs_1_1Note.html#ac1fe59b8f92c11fc6b662855fc8d9316">Ms::Note::chord</a></div><div class="ttdeci">Chord * chord() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00429">note.h:429</a></div></div>
<div class="ttc" id="classMs_1_1ChangeKeySig_html_ae4be4589adebd6a1d9785b12166de372"><div class="ttname"><a href="classMs_1_1ChangeKeySig.html#ae4be4589adebd6a1d9785b12166de372">Ms::ChangeKeySig::evtInStaff</a></div><div class="ttdeci">bool evtInStaff</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00415">undo.h:415</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a58cc5b8055aed00a47b0097718a6f560"><div class="ttname"><a href="classMs_1_1Score.html#a58cc5b8055aed00a47b0097718a6f560">Ms::Score::styleSt</a></div><div class="ttdeci">QString styleSt(Sid idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00897">score.h:897</a></div></div>
<div class="ttc" id="stafftype_8h_html"><div class="ttname"><a href="stafftype_8h.html">stafftype.h</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a7fccbb0cf027a5e3b43176a5e0213f75"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a7fccbb0cf027a5e3b43176a5e0213f75">Ms::UndoCommand::redo</a></div><div class="ttdeci">virtual void redo(EditData *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00159">undo.cpp:159</a></div></div>
<div class="ttc" id="namespaceMs_html_a24593d5bc01ac95fdbec3d354d258894ac9bacf3e6728a92c9bf826c740ae5436"><div class="ttname"><a href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894ac9bacf3e6728a92c9bf826c740ae5436">Ms::SegmentType::KeySig</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a4cc362a42bad65483b59d3a8e0df374f"><div class="ttname"><a href="classMs_1_1Element.html#a4cc362a42bad65483b59d3a8e0df374f">Ms::Element::tick</a></div><div class="ttdeci">virtual Fraction tick() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00319">element.cpp:319</a></div></div>
<div class="ttc" id="element_8h_html"><div class="ttname"><a href="element_8h.html">element.h</a></div></div>
<div class="ttc" id="classMs_1_1SortStaves_html_ac3db0742daccfcef821036876f8e2cb0"><div class="ttname"><a href="classMs_1_1SortStaves.html#ac3db0742daccfcef821036876f8e2cb0">Ms::SortStaves::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01089">undo.cpp:1089</a></div></div>
<div class="ttc" id="classMs_1_1ChangePart_html_a96fc0f744806761cea9e235168e694b7"><div class="ttname"><a href="classMs_1_1ChangePart.html#a96fc0f744806761cea9e235168e694b7">Ms::ChangePart::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01645">undo.cpp:1645</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a3c5e55d2f2291d5ee433a093c0b1dd04"><div class="ttname"><a href="classMs_1_1Measure.html#a3c5e55d2f2291d5ee433a093c0b1dd04">Ms::Measure::first</a></div><div class="ttdeci">Ms::Segment * first() const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8h_source.html#l00149">measure.h:149</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a68421838d547539df5a4ccb2199e6d0c"><div class="ttname"><a href="classMs_1_1Chord.html#a68421838d547539df5a4ccb2199e6d0c">Ms::Chord::updateEndsGlissando</a></div><div class="ttdeci">void updateEndsGlissando()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02927">chord.cpp:2927</a></div></div>
<div class="ttc" id="classMs_1_1MoveTremolo_html_a81c246c09d3dcecfba42b5a3471a0157"><div class="ttname"><a href="classMs_1_1MoveTremolo.html#a81c246c09d3dcecfba42b5a3471a0157">Ms::MoveTremolo::redo</a></div><div class="ttdeci">void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02638">undo.cpp:2638</a></div></div>
<div class="ttc" id="namespaceMs_html_a401306c67aaadf0a4102c60331e324d6a9eeb52badb613229884838847294b90d"><div class="ttname"><a href="namespaceMs.html#a401306c67aaadf0a4102c60331e324d6a9eeb52badb613229884838847294b90d">Ms::HDegreeType::ADD</a></div></div>
<div class="ttc" id="namespaceMs_html_a56785a0f227cf3d1d0a4891656a35daa"><div class="ttname"><a href="namespaceMs.html#a56785a0f227cf3d1d0a4891656a35daa">Ms::PropertyFlags</a></div><div class="ttdeci">PropertyFlags</div><div class="ttdef"><b>Definition:</b> <a href="property_8h_source.html#l00053">property.h:53</a></div></div>
<div class="ttc" id="classMs_1_1KeySig_html_ae86100386edc3a5b7445b4c3d7cee79a"><div class="ttname"><a href="classMs_1_1KeySig.html#ae86100386edc3a5b7445b4c3d7cee79a">Ms::KeySig::showCourtesy</a></div><div class="ttdeci">bool showCourtesy() const</div><div class="ttdef"><b>Definition:</b> <a href="keysig_8h_source.html#l00067">keysig.h:67</a></div></div>
<div class="ttc" id="classMs_1_1FretDot_html_ac93f73d3c4fdcb20b9f94ec3e7d60ddb"><div class="ttname"><a href="classMs_1_1FretDot.html#ac93f73d3c4fdcb20b9f94ec3e7d60ddb">Ms::FretDot::redo</a></div><div class="ttdeci">void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02565">undo.cpp:2565</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_a009257797226b07065d8a225184178b3"><div class="ttname"><a href="classMs_1_1Selection.html#a009257797226b07065d8a225184178b3">Ms::Selection::staffStart</a></div><div class="ttdeci">int staffStart() const</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00227">select.h:227</a></div></div>
<div class="ttc" id="classMs_1_1ChangeFretting_html_a48e15750803d0d43a443e8d62d2b988e"><div class="ttname"><a href="classMs_1_1ChangeFretting.html#a48e15750803d0d43a443e8d62d2b988e">Ms::ChangeFretting::ChangeFretting</a></div><div class="ttdeci">ChangeFretting(Note *note, int pitch, int string, int fret, int tpc1, int tpc2)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01163">undo.cpp:1163</a></div></div>
<div class="ttc" id="libmscore_2part_8h_html"><div class="ttname"><a href="libmscore_2part_8h.html">part.h</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_a02e41c1e3f47216f2f30abcacc48f434"><div class="ttname"><a href="classMs_1_1UndoStack.html#a02e41c1e3f47216f2f30abcacc48f434">Ms::UndoStack::beginMacro</a></div><div class="ttdeci">void beginMacro(Score *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00274">undo.cpp:274</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_aec8b51971a64bc6de5794e133e72c219"><div class="ttname"><a href="classMs_1_1Note.html#aec8b51971a64bc6de5794e133e72c219">Ms::Note::veloOffset</a></div><div class="ttdeci">int veloOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00466">note.h:466</a></div></div>
<div class="ttc" id="classMs_1_1FretUndoData_html"><div class="ttname"><a href="classMs_1_1FretUndoData.html">Ms::FretUndoData</a></div><div class="ttdef"><b>Definition:</b> <a href="fret_8h_source.html#l00102">fret.h:102</a></div></div>
<div class="ttc" id="classMs_1_1Clef_html"><div class="ttname"><a href="classMs_1_1Clef.html">Ms::Clef</a></div><div class="ttdoc">Graphic representation of a clef. </div><div class="ttdef"><b>Definition:</b> <a href="clef_8h_source.html#l00132">clef.h:132</a></div></div>
<div class="ttc" id="classMs_1_1InsertRemoveMeasures_html_a74188d4c5e242a0af662962b89a45c98"><div class="ttname"><a href="classMs_1_1InsertRemoveMeasures.html#a74188d4c5e242a0af662962b89a45c98">Ms::InsertRemoveMeasures::insertMeasures</a></div><div class="ttdeci">void insertMeasures()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01846">undo.cpp:1846</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_a0d08f84e0df5e8ff78176a8832154e51"><div class="ttname"><a href="classMs_1_1Selection.html#a0d08f84e0df5e8ff78176a8832154e51">Ms::Selection::tickEnd</a></div><div class="ttdeci">Fraction tickEnd() const</div><div class="ttdef"><b>Definition:</b> <a href="select_8cpp_source.html#l00104">select.cpp:104</a></div></div>
<div class="ttc" id="input_8h_html"><div class="ttname"><a href="input_8h.html">input.h</a></div></div>
<div class="ttc" id="classMs_1_1SpannerSegment_html_ae988f78aec0a13e5a204fe135b6b0ae0"><div class="ttname"><a href="classMs_1_1SpannerSegment.html#ae988f78aec0a13e5a204fe135b6b0ae0">Ms::SpannerSegment::system</a></div><div class="ttdeci">System * system() const</div><div class="ttdef"><b>Definition:</b> <a href="spanner_8h_source.html#l00065">spanner.h:65</a></div></div>
<div class="ttc" id="glissando_8h_html"><div class="ttname"><a href="glissando_8h.html">glissando.h</a></div></div>
<div class="ttc" id="sig_8h_html"><div class="ttname"><a href="sig_8h.html">sig.h</a></div></div>
<div class="ttc" id="undo_8h_html"><div class="ttname"><a href="undo_8h.html">undo.h</a></div><div class="ttdoc">Definition of undo-releated classes and structs. </div></div>
<div class="ttc" id="classMs_1_1Note_html_a84d9574652805d8c7600ad6968ff8e40"><div class="ttname"><a href="classMs_1_1Note.html#a84d9574652805d8c7600ad6968ff8e40">Ms::Note::tieBack</a></div><div class="ttdeci">Ms::Tie * tieBack() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00419">note.h:419</a></div></div>
<div class="ttc" id="classMs_1_1EditData_html"><div class="ttname"><a href="classMs_1_1EditData.html">Ms::EditData</a></div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00113">element.h:113</a></div></div>
<div class="ttc" id="classMs_1_1InsertRemoveMeasures_html_a283cd7cd46d0a3694ed199a976f5f3c2"><div class="ttname"><a href="classMs_1_1InsertRemoveMeasures.html#a283cd7cd46d0a3694ed199a976f5f3c2">Ms::InsertRemoveMeasures::removeMeasures</a></div><div class="ttdeci">void removeMeasures()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01930">undo.cpp:1930</a></div></div>
<div class="ttc" id="classMs_1_1Note_html"><div class="ttname"><a href="classMs_1_1Note.html">Ms::Note</a></div><div class="ttdoc">Graphic representation of a note. </div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00235">note.h:235</a></div></div>
<div class="ttc" id="classMs_1_1Harmony_html"><div class="ttname"><a href="classMs_1_1Harmony.html">Ms::Harmony</a></div><div class="ttdef"><b>Definition:</b> <a href="harmony_8h_source.html#l00069">harmony.h:69</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a09b5c550fffd0dfe1e38490c7f0de8e4"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a09b5c550fffd0dfe1e38490c7f0de8e4">Ms::UndoCommand::hasFilteredChildren</a></div><div class="ttdeci">bool hasFilteredChildren(Filter, const Element *target) const</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00186">undo.cpp:186</a></div></div>
<div class="ttc" id="namespaceMs_html_a0c4aeeb6df2cc7465f9c33aacdbbbe4f"><div class="ttname"><a href="namespaceMs.html#a0c4aeeb6df2cc7465f9c33aacdbbbe4f">Ms::swap</a></div><div class="ttdeci">void swap(PartChannelSettingsLink &amp;l1, PartChannelSettingsLink &amp;l2)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2instrument_8cpp_source.html#l01039">instrument.cpp:1039</a></div></div>
<div class="ttc" id="classMs_1_1ChordList_html_a7d6a4577a394cf152af70da6ee53e053"><div class="ttname"><a href="classMs_1_1ChordList.html#a7d6a4577a394cf152af70da6ee53e053">Ms::ChordList::configureAutoAdjust</a></div><div class="ttdeci">void configureAutoAdjust(qreal emag=1.0, qreal eadjust=0.0, qreal mmag=1.0, qreal madjust=0.0)</div><div class="ttdef"><b>Definition:</b> <a href="chordlist_8cpp_source.html#l01639">chordlist.cpp:1639</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_abc452fc794276f847a4d909931ddbe5f"><div class="ttname"><a href="classMs_1_1UndoMacro.html#abc452fc794276f847a4d909931ddbe5f">Ms::UndoMacro::canRecordSelectedElement</a></div><div class="ttdeci">static bool canRecordSelectedElement(const Element *e)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00486">undo.cpp:486</a></div></div>
<div class="ttc" id="classMs_1_1MeasureBaseList_html_ad1d9ddcb5fe574ec96cc090c18f586a0"><div class="ttname"><a href="classMs_1_1MeasureBaseList.html#ad1d9ddcb5fe574ec96cc090c18f586a0">Ms::MeasureBaseList::remove</a></div><div class="ttdeci">void remove(MeasureBase *)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l00165">score.cpp:165</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html"><div class="ttname"><a href="classMs_1_1Segment.html">Ms::Segment</a></div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00050">segment.h:50</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_abce1515f6d4ed6cad207e57308b0b656"><div class="ttname"><a href="classMs_1_1Score.html#abce1515f6d4ed6cad207e57308b0b656">Ms::Score::setInputState</a></div><div class="ttdeci">void setInputState(const InputState &amp;st)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00930">score.h:930</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html"><div class="ttname"><a href="classMs_1_1Measure.html">Ms::Measure</a></div><div class="ttdoc">one measure in a system </div><div class="ttdef"><b>Definition:</b> <a href="measure_8h_source.html#l00066">measure.h:66</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a77eab400665dc934f24de11fc7ac1c4e"><div class="ttname"><a href="classMs_1_1Chord.html#a77eab400665dc934f24de11fc7ac1c4e">Ms::Chord::notes</a></div><div class="ttdeci">std::vector&lt; Note * &gt; &amp; notes()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00123">chord.h:123</a></div></div>
<div class="ttc" id="textedit_8h_html"><div class="ttname"><a href="textedit_8h.html">textedit.h</a></div></div>
<div class="ttc" id="classMs_1_1MStyle_html_a5b4978e1e82d82629e42847aef9159d7"><div class="ttname"><a href="classMs_1_1MStyle.html#a5b4978e1e82d82629e42847aef9159d7">Ms::MStyle::chordList</a></div><div class="ttdeci">ChordList * chordList()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2style_8h_source.html#l01469">style.h:1469</a></div></div>
<div class="ttc" id="classMs_1_1Tie_html_a10612faf2ce6ddf3be9f99970df069b8"><div class="ttname"><a href="classMs_1_1Tie.html#a10612faf2ce6ddf3be9f99970df069b8">Ms::Tie::setEndNote</a></div><div class="ttdeci">void setEndNote(Note *note)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2tie_8h_source.html#l00071">tie.h:71</a></div></div>
<div class="ttc" id="classMs_1_1TempoText_html"><div class="ttname"><a href="classMs_1_1TempoText.html">Ms::TempoText</a></div><div class="ttdoc">Tempo marker which determines the midi tempo. </div><div class="ttdef"><b>Definition:</b> <a href="tempotext_8h_source.html#l00029">tempotext.h:29</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_acdd15da86ef5878bc98ef2be084cc4be"><div class="ttname"><a href="classMs_1_1UndoCommand.html#acdd15da86ef5878bc98ef2be084cc4be">Ms::UndoCommand::name</a></div><div class="ttdeci">virtual const char * name() const</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00126">undo.h:126</a></div></div>
<div class="ttc" id="pitchspelling_8h_html"><div class="ttname"><a href="pitchspelling_8h.html">pitchspelling.h</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_accef1c91df491a43c54e70474deea60c"><div class="ttname"><a href="classMs_1_1ScoreElement.html#accef1c91df491a43c54e70474deea60c">Ms::ScoreElement::isChordRest</a></div><div class="ttdeci">bool isChordRest() const</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00362">scoreElement.h:362</a></div></div>
<div class="ttc" id="classMs_1_1LinkUnlink_html_a7c59287b867fbed63735f8e0505e4bc1"><div class="ttname"><a href="classMs_1_1LinkUnlink.html#a7c59287b867fbed63735f8e0505e4bc1">Ms::LinkUnlink::unlink</a></div><div class="ttdeci">void unlink()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02471">undo.cpp:2471</a></div></div>
<div class="ttc" id="classMs_1_1AddBracket_html_ae6eae3954b5d907c2ff8afd95508c648"><div class="ttname"><a href="classMs_1_1AddBracket.html#ae6eae3954b5d907c2ff8afd95508c648">Ms::AddBracket::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02313">undo.cpp:2313</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a3310b010a17d4f1f2e40edf2d356207d"><div class="ttname"><a href="classMs_1_1Score.html#a3310b010a17d4f1f2e40edf2d356207d">Ms::Score::styleD</a></div><div class="ttdeci">qreal styleD(Sid idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00899">score.h:899</a></div></div>
<div class="ttc" id="classMs_1_1InsertTime_html_ab416fab60ed28ac88781c69ae2ef3007"><div class="ttname"><a href="classMs_1_1InsertTime.html#ab416fab60ed28ac88781c69ae2ef3007">Ms::InsertTime::undo</a></div><div class="ttdeci">void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02413">undo.cpp:2413</a></div></div>
<div class="ttc" id="classMs_1_1Element_html"><div class="ttname"><a href="classMs_1_1Element.html">Ms::Element</a></div><div class="ttdoc">Base class of score layout elements. </div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00163">element.h:163</a></div></div>
<div class="ttc" id="libmscore_2tie_8h_html"><div class="ttname"><a href="libmscore_2tie_8h.html">tie.h</a></div></div>
<div class="ttc" id="classMs_1_1MeasureBase_html"><div class="ttname"><a href="classMs_1_1MeasureBase.html">Ms::MeasureBase</a></div><div class="ttdoc">Virtual base class for Measure, HBox and VBox. </div><div class="ttdef"><b>Definition:</b> <a href="measurebase_8h_source.html#l00061">measurebase.h:61</a></div></div>
<div class="ttc" id="namespaceMs_html_a24593d5bc01ac95fdbec3d354d258894af69392a2ebed1af02428c867f81fed3f"><div class="ttname"><a href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894af69392a2ebed1af02428c867f81fed3f">Ms::SegmentType::HeaderClef</a></div></div>
<div class="ttc" id="classMs_1_1MStaff_html"><div class="ttname"><a href="classMs_1_1MStaff.html">Ms::MStaff</a></div><div class="ttdoc">Per staff values of measure. </div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l00093">measure.cpp:93</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a67a1f22da74237b491206ae705ebb688"><div class="ttname"><a href="classMs_1_1Score.html#a67a1f22da74237b491206ae705ebb688">Ms::Score::inputState</a></div><div class="ttdeci">const InputState &amp; inputState() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00928">score.h:928</a></div></div>
<div class="ttc" id="classMs_1_1MStyle_html_a5b188b9a3ea26c820beac343ea174be6"><div class="ttname"><a href="classMs_1_1MStyle.html#a5b188b9a3ea26c820beac343ea174be6">Ms::MStyle::value</a></div><div class="ttdeci">const QVariant &amp; value(Sid idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2style_8cpp_source.html#l02663">style.cpp:2663</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStyle_html_a96f909bebc884655d1e46d581a983e9a"><div class="ttname"><a href="classMs_1_1ChangeStyle.html#a96f909bebc884655d1e46d581a983e9a">Ms::ChangeStyle::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01681">undo.cpp:1681</a></div></div>
<div class="ttc" id="classMs_1_1NPlayEvent_html"><div class="ttname"><a href="classMs_1_1NPlayEvent.html">Ms::NPlayEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00246">event.h:246</a></div></div>
<div class="ttc" id="classMs_1_1ChangeInstrumentShort_html_a381b73d8af517b0635f2ce1149d7504c"><div class="ttname"><a href="classMs_1_1ChangeInstrumentShort.html#a381b73d8af517b0635f2ce1149d7504c">Ms::ChangeInstrumentShort::ChangeInstrumentShort</a></div><div class="ttdeci">ChangeInstrumentShort(const Fraction &amp;, Part *, QList&lt; StaffName &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01420">undo.cpp:1420</a></div></div>
<div class="ttc" id="fingering_8h_html"><div class="ttname"><a href="fingering_8h.html">fingering.h</a></div></div>
<div class="ttc" id="libmscore_2score_8h_html"><div class="ttname"><a href="libmscore_2score_8h.html">score.h</a></div><div class="ttdoc">Definition of Score class. </div></div>
<div class="ttc" id="classMs_1_1ChangeStaff_html_a5f89c563c5b290faed96af8afb9e2e29"><div class="ttname"><a href="classMs_1_1ChangeStaff.html#a5f89c563c5b290faed96af8afb9e2e29">Ms::ChangeStaff::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01574">undo.cpp:1574</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a23cde3c97359266e2787b107aa0c8cdf"><div class="ttname"><a href="classMs_1_1Segment.html#a23cde3c97359266e2787b107aa0c8cdf">Ms::Segment::tick</a></div><div class="ttdeci">Fraction tick() const override</div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00212">segment.cpp:212</a></div></div>
<div class="ttc" id="breath_8h_html"><div class="ttname"><a href="breath_8h.html">breath.h</a></div></div>
<div class="ttc" id="tremolo_8h_html"><div class="ttname"><a href="tremolo_8h.html">tremolo.h</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_a7f2b4316d0eb51dab916e2c3d3f0cc2b"><div class="ttname"><a href="classMs_1_1UndoStack.html#a7f2b4316d0eb51dab916e2c3d3f0cc2b">Ms::UndoStack::undo</a></div><div class="ttdeci">void undo(EditData *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00454">undo.cpp:454</a></div></div>
<div class="ttc" id="classMs_1_1LinkUnlink_html_a7611ea0268535d580042bfb9f6395067"><div class="ttname"><a href="classMs_1_1LinkUnlink.html#a7611ea0268535d580042bfb9f6395067">Ms::LinkUnlink::~LinkUnlink</a></div><div class="ttdeci">~LinkUnlink()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02454">undo.cpp:2454</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a4bcf5d2a9e8fc31a5b4c4fffbab51924"><div class="ttname"><a href="classMs_1_1Note.html#a4bcf5d2a9e8fc31a5b4c4fffbab51924">Ms::Note::playEvents</a></div><div class="ttdeci">NoteEventList &amp; playEvents()</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00481">note.h:481</a></div></div>
<div class="ttc" id="tremolobar_8h_html"><div class="ttname"><a href="tremolobar_8h.html">tremolobar.h</a></div></div>
<div class="ttc" id="namespaceMs_html"><div class="ttname"><a href="namespaceMs.html">Ms</a></div><div class="ttdoc">MusicXML export. </div><div class="ttdef"><b>Definition:</b> <a href="aeolus_8cpp_source.html#l00026">aeolus.cpp:26</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a1d76afaf3ee463445961c3d981901be1"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a1d76afaf3ee463445961c3d981901be1">Ms::ScoreElement::unlink</a></div><div class="ttdeci">void unlink()</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8cpp_source.html#l00563">scoreElement.cpp:563</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_a4cb85a93b24d1bd1f04233fefa34798f"><div class="ttname"><a href="classMs_1_1UndoStack.html#a4cb85a93b24d1bd1f04233fefa34798f">Ms::UndoStack::endMacro</a></div><div class="ttdeci">void endMacro(bool rollback)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00401">undo.cpp:401</a></div></div>
<div class="ttc" id="layoutbreak_8h_html"><div class="ttname"><a href="layoutbreak_8h.html">layoutbreak.h</a></div></div>
<div class="ttc" id="classMs_1_1Spanner_html_a4dc69fc35fde4cd35118dde886f292aea10de4bc81f754b19b0d27246a0589c05"><div class="ttname"><a href="classMs_1_1Spanner.html#a4dc69fc35fde4cd35118dde886f292aea10de4bc81f754b19b0d27246a0589c05">Ms::Spanner::Anchor::NOTE</a></div></div>
<div class="ttc" id="classMs_1_1SetUserBankController_html_a1f24fb1c407b0e7c80403a320bb5093b"><div class="ttname"><a href="classMs_1_1SetUserBankController.html#a1f24fb1c407b0e7c80403a320bb5093b">Ms::SetUserBankController::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01544">undo.cpp:1544</a></div></div>
<div class="ttc" id="structMs_1_1MidiPatch_html"><div class="ttname"><a href="structMs_1_1MidiPatch.html">Ms::MidiPatch</a></div><div class="ttdef"><b>Definition:</b> <a href="midipatch_8h_source.html#l00029">midipatch.h:29</a></div></div>
<div class="ttc" id="namespaceMs_html_a5388667586001e845380d0f937ec3a09adbc203b32681492a7dfa4c98cfaf8f3c"><div class="ttname"><a href="namespaceMs.html#a5388667586001e845380d0f937ec3a09adbc203b32681492a7dfa4c98cfaf8f3c">Ms::CTRL_HBANK</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00096">event.h:96</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eae14df48421a97805b3b03696e07cfb4b"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eae14df48421a97805b3b03696e07cfb4b">Ms::Sid::chordModifierMag</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_afdedce94ce766c0c71bbd30ae610752b"><div class="ttname"><a href="classMs_1_1Score.html#afdedce94ce766c0c71bbd30ae610752b">Ms::Score::selection</a></div><div class="ttdeci">const Selection &amp; selection() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00830">score.h:830</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_aa3b85eb58a8f7f4476fbd05b59253585"><div class="ttname"><a href="classMs_1_1Score.html#aa3b85eb58a8f7f4476fbd05b59253585">Ms::Score::select</a></div><div class="ttdeci">void select(Element *obj, SelectType=SelectType::SINGLE, int staff=0)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l03036">score.cpp:3036</a></div></div>
<div class="ttc" id="classMs_1_1SpannerMap_html_a50d0c4abc63052ad825a4c48cc72dbd3"><div class="ttname"><a href="classMs_1_1SpannerMap.html#a50d0c4abc63052ad825a4c48cc72dbd3">Ms::SpannerMap::findOverlapping</a></div><div class="ttdeci">const std::vector&lt; ::Interval&lt; Spanner * &gt; &gt; &amp; findOverlapping(int start, int stop)</div><div class="ttdef"><b>Definition:</b> <a href="spannermap_8cpp_source.html#l00059">spannermap.cpp:59</a></div></div>
<div class="ttc" id="classMs_1_1ChangeChordPlayEventType_html_a692f852269976ce5d3019458fa682b82"><div class="ttname"><a href="classMs_1_1ChangeChordPlayEventType.html#a692f852269976ce5d3019458fa682b82">Ms::ChangeChordPlayEventType::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02132">undo.cpp:2132</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea8046b561ba7fa1ca280fb9655119b3b2"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea8046b561ba7fa1ca280fb9655119b3b2">Ms::Sid::chordExtensionAdjust</a></div></div>
<div class="ttc" id="classMs_1_1MStyle_html_a5d85ca8abebf7123c4d39a3b5b1646a4"><div class="ttname"><a href="classMs_1_1MStyle.html#a5d85ca8abebf7123c4d39a3b5b1646a4">Ms::MStyle::set</a></div><div class="ttdeci">void set(Sid idx, const QVariant &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2style_8cpp_source.html#l02797">style.cpp:2797</a></div></div>
<div class="ttc" id="classMs_1_1ChangeChordStaffMove_html_a6380865971cfc64720def9427c4d1931"><div class="ttname"><a href="classMs_1_1ChangeChordStaffMove.html#a6380865971cfc64720def9427c4d1931">Ms::ChangeChordStaffMove::ChangeChordStaffMove</a></div><div class="ttdeci">ChangeChordStaffMove(ChordRest *cr, int)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01761">undo.cpp:1761</a></div></div>
<div class="ttc" id="classMs_1_1ChangeElement_html_a86f9561119501023fe23ae743dd7a254"><div class="ttname"><a href="classMs_1_1ChangeElement.html#a86f9561119501023fe23ae743dd7a254">Ms::ChangeElement::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01206">undo.cpp:1206</a></div></div>
<div class="ttc" id="classMs_1_1ChangeInstrument_html_a4c8e9c9c23eba5f0ee6f8c511ea1b4ce"><div class="ttname"><a href="classMs_1_1ChangeInstrument.html#a4c8e9c9c23eba5f0ee6f8c511ea1b4ce">Ms::ChangeInstrument::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02151">undo.cpp:2151</a></div></div>
<div class="ttc" id="classMs_1_1ChangeVelocity_html_a163799224b8040b86b0dd0db614ffb8c"><div class="ttname"><a href="classMs_1_1ChangeVelocity.html#a163799224b8040b86b0dd0db614ffb8c">Ms::ChangeVelocity::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01786">undo.cpp:1786</a></div></div>
<div class="ttc" id="classMs_1_1Link_html_ac2463246a7aa22c52b7cbd61bbbe6433"><div class="ttname"><a href="classMs_1_1Link.html#ac2463246a7aa22c52b7cbd61bbbe6433">Ms::Link::Link</a></div><div class="ttdeci">Link(ScoreElement *, ScoreElement *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02488">undo.cpp:2488</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html"><div class="ttname"><a href="classMs_1_1UndoCommand.html">Ms::UndoCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00098">undo.h:98</a></div></div>
<div class="ttc" id="classMs_1_1ChangeKeySig_html_a5a6818c44521f18734bcb5b0f220de76"><div class="ttname"><a href="classMs_1_1ChangeKeySig.html#a5a6818c44521f18734bcb5b0f220de76">Ms::ChangeKeySig::ChangeKeySig</a></div><div class="ttdeci">ChangeKeySig(KeySig *k, KeySigEvent newKeySig, bool sc, bool addEvtToStaff=true)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01301">undo.cpp:1301</a></div></div>
<div class="ttc" id="classMs_1_1RemoveElement_html_a45261e472b3646a2b99b1dbade4e0146"><div class="ttname"><a href="classMs_1_1RemoveElement.html#a45261e472b3646a2b99b1dbade4e0146">Ms::RemoveElement::name</a></div><div class="ttdeci">virtual const char * name() const override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00917">undo.cpp:917</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMetaText_html_a0a226afe181406e9a45cf489508f0695"><div class="ttname"><a href="classMs_1_1ChangeMetaText.html#a0a226afe181406e9a45cf489508f0695">Ms::ChangeMetaText::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02290">undo.cpp:2290</a></div></div>
<div class="ttc" id="classMs_1_1ChangeChordStaffMove_html_a8c8c960e88d3fdcf478bf0215172d4f2"><div class="ttname"><a href="classMs_1_1ChangeChordStaffMove.html#a8c8c960e88d3fdcf478bf0215172d4f2">Ms::ChangeChordStaffMove::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01766">undo.cpp:1766</a></div></div>
<div class="ttc" id="classMs_1_1Part_html_a78faa958eb395ed351ee94123e2b42db"><div class="ttname"><a href="classMs_1_1Part.html#a78faa958eb395ed351ee94123e2b42db">Ms::Part::setInstrument</a></div><div class="ttdeci">void setInstrument(Instrument *, Fraction={ -1, 1})</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2part_8cpp_source.html#l00301">part.cpp:301</a></div></div>
<div class="ttc" id="classMs_1_1ChangeClefType_html_a67c932be5ec500634dd91541df9fd10d"><div class="ttname"><a href="classMs_1_1ChangeClefType.html#a67c932be5ec500634dd91541df9fd10d">Ms::ChangeClefType::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02212">undo.cpp:2212</a></div></div>
<div class="ttc" id="classMs_1_1RemoveElement_html_a7141f0c1c4ec888388d0e6326887e687"><div class="ttname"><a href="classMs_1_1RemoveElement.html#a7141f0c1c4ec888388d0e6326887e687">Ms::RemoveElement::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00894">undo.cpp:894</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_aac5cfbf34cbd22da196fd31944a260da"><div class="ttname"><a href="classMs_1_1Score.html#aac5cfbf34cbd22da196fd31944a260da">Ms::Score::masterScore</a></div><div class="ttdeci">MasterScore * masterScore() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01074">score.h:1074</a></div></div>
<div class="ttc" id="classMs_1_1ChangeParent_html_a790b3535068f397a7e5040be77ae1d30"><div class="ttname"><a href="classMs_1_1ChangeParent.html#a790b3535068f397a7e5040be77ae1d30">Ms::ChangeParent::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02381">undo.cpp:2381</a></div></div>
<div class="ttc" id="classMs_1_1MStyle_html_a8d7aebd5bd379ef2fc5f949448f417f1"><div class="ttname"><a href="classMs_1_1MStyle.html#a8d7aebd5bd379ef2fc5f949448f417f1">Ms::MStyle::setCustomChordList</a></div><div class="ttdeci">void setCustomChordList(bool t)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2style_8h_source.html#l01471">style.h:1471</a></div></div>
<div class="ttc" id="classMs_1_1TempoText_html_ac270f98cf8e5ec561a6ebb3c0118dbf4"><div class="ttname"><a href="classMs_1_1TempoText.html#ac270f98cf8e5ec561a6ebb3c0118dbf4">Ms::TempoText::tempo</a></div><div class="ttdeci">qreal tempo() const</div><div class="ttdef"><b>Definition:</b> <a href="tempotext_8h_source.html#l00052">tempotext.h:52</a></div></div>
<div class="ttc" id="classMs_1_1Tie_html_a9719252bb8e38b88324bdd19ca07f13d"><div class="ttname"><a href="classMs_1_1Tie.html#a9719252bb8e38b88324bdd19ca07f13d">Ms::Tie::endNote</a></div><div class="ttdeci">Note * endNote() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2tie_8cpp_source.html#l00780">tie.cpp:780</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_ad9ca7b5a0056f92f44d11f78a2a23d3c"><div class="ttname"><a href="classMs_1_1UndoMacro.html#ad9ca7b5a0056f92f44d11f78a2a23d3c">Ms::UndoMacro::UndoMacro</a></div><div class="ttdeci">UndoMacro(Score *s)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00526">undo.cpp:526</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a09bcc21988411c175885e0bc6dc2de7e"><div class="ttname"><a href="classMs_1_1Score.html#a09bcc21988411c175885e0bc6dc2de7e">Ms::Score::unmanagedSpanners</a></div><div class="ttdeci">const std::set&lt; Spanner * &gt; unmanagedSpanners()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01149">score.h:1149</a></div></div>
<div class="ttc" id="classMs_1_1InsertTime_html_ad69d3aece87faff9c57481a27b920384"><div class="ttname"><a href="classMs_1_1InsertTime.html#ad69d3aece87faff9c57481a27b920384">Ms::InsertTime::redo</a></div><div class="ttdeci">void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02408">undo.cpp:2408</a></div></div>
<div class="ttc" id="classMs_1_1KeySig_html_a4d793018e9602aacd74bc9f7bffea925"><div class="ttname"><a href="classMs_1_1KeySig.html#a4d793018e9602aacd74bc9f7bffea925">Ms::KeySig::segment</a></div><div class="ttdeci">Segment * segment() const</div><div class="ttdef"><b>Definition:</b> <a href="keysig_8h_source.html#l00053">keysig.h:53</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a66a3e42855dec1d88936966d197a0ac0"><div class="ttname"><a href="classMs_1_1Measure.html#a66a3e42855dec1d88936966d197a0ac0">Ms::Measure::findSegment</a></div><div class="ttdeci">Segment * findSegment(SegmentType st, const Fraction &amp;f) const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8h_source.html#l00205">measure.h:205</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a337f76e582585044598cfd507d6f0228"><div class="ttname"><a href="classMs_1_1Measure.html#a337f76e582585044598cfd507d6f0228">Ms::Measure::findSegmentR</a></div><div class="ttdeci">Segment * findSegmentR(SegmentType st, const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l00770">measure.cpp:770</a></div></div>
<div class="ttc" id="classMs_1_1ScoreOrder_html"><div class="ttname"><a href="classMs_1_1ScoreOrder.html">Ms::ScoreOrder</a></div><div class="ttdef"><b>Definition:</b> <a href="scoreOrder_8h_source.html#l00074">scoreOrder.h:74</a></div></div>
<div class="ttc" id="classMs_1_1InsertStaves_html_afbd1d3ae44edf1c90f74f5af25d69d7e"><div class="ttname"><a href="classMs_1_1InsertStaves.html#afbd1d3ae44edf1c90f74f5af25d69d7e">Ms::InsertStaves::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01271">undo.cpp:1271</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_a17cf177da3bfdb238b539b18e9dde836"><div class="ttname"><a href="classMs_1_1UndoStack.html#a17cf177da3bfdb238b539b18e9dde836">Ms::UndoStack::pop</a></div><div class="ttdeci">void pop()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00372">undo.cpp:372</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html"><div class="ttname"><a href="classMs_1_1Tremolo.html">Ms::Tremolo</a></div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00039">tremolo.h:39</a></div></div>
<div class="ttc" id="classMs_1_1InsertPart_html_ab7ff5af18408818ab56450a4803429d4"><div class="ttname"><a href="classMs_1_1InsertPart.html#ab7ff5af18408818ab56450a4803429d4">Ms::InsertPart::InsertPart</a></div><div class="ttdeci">InsertPart(Part *p, int i)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00952">undo.cpp:952</a></div></div>
<div class="ttc" id="classMs_1_1MasterScore_html_af8411000a9edcc95127359d6858ca24b"><div class="ttname"><a href="classMs_1_1MasterScore.html#af8411000a9edcc95127359d6858ca24b">Ms::MasterScore::rebuildMidiMapping</a></div><div class="ttdeci">void rebuildMidiMapping()</div><div class="ttdef"><b>Definition:</b> <a href="midimapping_8cpp_source.html#l00025">midimapping.cpp:25</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_ad4998a27bc6020474df34b79a567d44a"><div class="ttname"><a href="classMs_1_1UndoMacro.html#ad4998a27bc6020474df34b79a567d44a">Ms::UndoMacro::score</a></div><div class="ttdeci">Score * score</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00157">undo.h:157</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_a18aa92607a7bc75a64262bbfd2746d51"><div class="ttname"><a href="classMs_1_1Selection.html#a18aa92607a7bc75a64262bbfd2746d51">Ms::Selection::staffEnd</a></div><div class="ttdeci">int staffEnd() const</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00228">select.h:228</a></div></div>
<div class="ttc" id="classMs_1_1MeasureBaseList_html_a2fa66e7d8dcff33129278cf64332e16b"><div class="ttname"><a href="classMs_1_1MeasureBaseList.html#a2fa66e7d8dcff33129278cf64332e16b">Ms::MeasureBaseList::insert</a></div><div class="ttdeci">void insert(MeasureBase *, MeasureBase *)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l00182">score.cpp:182</a></div></div>
<div class="ttc" id="classMs_1_1ChangeChordStaffMove_html_a22b10cfaf650442b26513652d613ce21"><div class="ttname"><a href="classMs_1_1ChangeChordStaffMove.html#a22b10cfaf650442b26513652d613ce21">Ms::ChangeChordStaffMove::staffMove</a></div><div class="ttdeci">int staffMove</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00742">undo.h:742</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_abd202529f56fe3135e6465c349b430fa"><div class="ttname"><a href="classMs_1_1Segment.html#abd202529f56fe3135e6465c349b430fa">Ms::Segment::setElement</a></div><div class="ttdeci">void setElement(int track, Element *el)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00078">segment.cpp:78</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_a59928192d10105c43042f8150f4a07cb"><div class="ttname"><a href="classMs_1_1UndoMacro.html#a59928192d10105c43042f8150f4a07cb">Ms::UndoMacro::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00548">undo.cpp:548</a></div></div>
<div class="ttc" id="libmscore_2image_8h_html"><div class="ttname"><a href="libmscore_2image_8h.html">image.h</a></div></div>
<div class="ttc" id="click_8h_html_a23377ea277c7aef62f6cf3c640f7155c"><div class="ttname"><a href="click_8h.html#a23377ea277c7aef62f6cf3c640f7155c">tick</a></div><div class="ttdeci">static const double tick[]</div><div class="ttdef"><b>Definition:</b> <a href="click_8h_source.html#l00525">click.h:525</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a05ce3788d478c430ece124313a63af1f"><div class="ttname"><a href="classMs_1_1Note.html#a05ce3788d478c430ece124313a63af1f">Ms::Note::setTieFor</a></div><div class="ttdeci">void setTieFor(Tie *t)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00420">note.h:420</a></div></div>
<div class="ttc" id="classMs_1_1ChordList_html_a694a93f0c0acba0290a1bb9a8a28d580"><div class="ttname"><a href="classMs_1_1ChordList.html#a694a93f0c0acba0290a1bb9a8a28d580">Ms::ChordList::read</a></div><div class="ttdeci">void read(XmlReader &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="chordlist_8cpp_source.html#l01663">chordlist.cpp:1663</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMMRest_html_a331f3aedc8a241e5d4c617b66b5e0194"><div class="ttname"><a href="classMs_1_1ChangeMMRest.html#a331f3aedc8a241e5d4c617b66b5e0194">Ms::ChangeMMRest::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02397">undo.cpp:2397</a></div></div>
<div class="ttc" id="classMs_1_1ExchangeVoice_html_a1923005f409e8b9f6e99324814449b00"><div class="ttname"><a href="classMs_1_1ExchangeVoice.html#a1923005f409e8b9f6e99324814449b00">Ms::ExchangeVoice::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01405">undo.cpp:1405</a></div></div>
<div class="ttc" id="namespaceMs_html_a3b085ddb3e3b890843f2e33874b9fa4b"><div class="ttname"><a href="namespaceMs.html#a3b085ddb3e3b890843f2e33874b9fa4b">Ms::ClefType</a></div><div class="ttdeci">ClefType</div><div class="ttdef"><b>Definition:</b> <a href="clef_8h_source.html#l00037">clef.h:37</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_a884ac586a99a211a55eab115a2c3d95f"><div class="ttname"><a href="classMs_1_1Selection.html#a884ac586a99a211a55eab115a2c3d95f">Ms::Selection::isRange</a></div><div class="ttdeci">bool isRange() const</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00179">select.h:179</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a52d10515b122232c1a41e9240dcc4ff7"><div class="ttname"><a href="classMs_1_1Staff.html#a52d10515b122232c1a41e9240dcc4ff7">Ms::Staff::isDrumStaff</a></div><div class="ttdeci">bool isDrumStaff(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l01525">staff.cpp:1525</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStyleVal_html_a73b5d8fab2c291a6ddc1caadd60bedac"><div class="ttname"><a href="classMs_1_1ChangeStyleVal.html#a73b5d8fab2c291a6ddc1caadd60bedac">Ms::ChangeStyleVal::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01706">undo.cpp:1706</a></div></div>
<div class="ttc" id="classMs_1_1ChangeInstrumentLong_html_a7e5c4d0412f683f5d96f55bfc9ab1d80"><div class="ttname"><a href="classMs_1_1ChangeInstrumentLong.html#a7e5c4d0412f683f5d96f55bfc9ab1d80">Ms::ChangeInstrumentLong::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01446">undo.cpp:1446</a></div></div>
<div class="ttc" id="classMs_1_1MapExcerptTracks_html_a9293c681420ab96fdd87506eb5fc28df"><div class="ttname"><a href="classMs_1_1MapExcerptTracks.html#a9293c681420ab96fdd87506eb5fc28df">Ms::MapExcerptTracks::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01115">undo.cpp:1115</a></div></div>
<div class="ttc" id="libmscore_2utils_8h_html"><div class="ttname"><a href="libmscore_2utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="classMs_1_1AddElement_html_ae1724f3eff65950dd697cb7efbf1444c"><div class="ttname"><a href="classMs_1_1AddElement.html#ae1724f3eff65950dd697cb7efbf1444c">Ms::AddElement::isFiltered</a></div><div class="ttdeci">bool isFiltered(UndoCommand::Filter f, const Element *target) const override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00788">undo.cpp:788</a></div></div>
<div class="ttc" id="classMs_1_1Tuplet_html_a335f84666bd36e2bca5963785ae9759a"><div class="ttname"><a href="classMs_1_1Tuplet.html#a335f84666bd36e2bca5963785ae9759a">Ms::Tuplet::elements</a></div><div class="ttdeci">const std::vector&lt; DurationElement * &gt; &amp; elements() const</div><div class="ttdef"><b>Definition:</b> <a href="tuplet_8h_source.html#l00097">tuplet.h:97</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_aa5e896fda797bdf0d691d5cbd40513b2"><div class="ttname"><a href="classMs_1_1UndoCommand.html#aa5e896fda797bdf0d691d5cbd40513b2">Ms::UndoCommand::childList</a></div><div class="ttdeci">QList&lt; UndoCommand * &gt; childList</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00099">undo.h:99</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStartEndSpanner_html_af21d83a57fabe8ac373c8ba01548d2a8"><div class="ttname"><a href="classMs_1_1ChangeStartEndSpanner.html#af21d83a57fabe8ac373c8ba01548d2a8">Ms::ChangeStartEndSpanner::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02529">undo.cpp:2529</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStyle_html_a05a6f0e143d04fdd57b6a5a4c9dbe8e6"><div class="ttname"><a href="classMs_1_1ChangeStyle.html#a05a6f0e143d04fdd57b6a5a4c9dbe8e6">Ms::ChangeStyle::style</a></div><div class="ttdeci">MStyle style</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00695">undo.h:695</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a800b18cf10876b1497e1bc43a2a72ac0"><div class="ttname"><a href="classMs_1_1Score.html#a800b18cf10876b1497e1bc43a2a72ac0">Ms::Score::cmdConcertPitchChanged</a></div><div class="ttdeci">void cmdConcertPitchChanged(bool, bool)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l02715">score.cpp:2715</a></div></div>
<div class="ttc" id="classMs_1_1InsertStaves_html_a0ffe96f50437928b17c6d3b2f23c933e"><div class="ttname"><a href="classMs_1_1InsertStaves.html#a0ffe96f50437928b17c6d3b2f23c933e">Ms::InsertStaves::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01266">undo.cpp:1266</a></div></div>
<div class="ttc" id="classMs_1_1MeasureBase_html_a6cab2bc583be79fa27b83390dd48bc7f"><div class="ttname"><a href="classMs_1_1MeasureBase.html#a6cab2bc583be79fa27b83390dd48bc7f">Ms::MeasureBase::ticks</a></div><div class="ttdeci">Fraction ticks() const</div><div class="ttdef"><b>Definition:</b> <a href="measurebase_8h_source.html#l00128">measurebase.h:128</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ac8ddca73e2096e2a086cb926c5004df9"><div class="ttname"><a href="classMs_1_1Score.html#ac8ddca73e2096e2a086cb926c5004df9">Ms::Score::setInstrumentsChanged</a></div><div class="ttdeci">virtual void setInstrumentsChanged(bool)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01478">score.h:1478</a></div></div>
<div class="ttc" id="classMs_1_1SortStaves_html_a5241617ea04818921fe0a512d4f5cf01"><div class="ttname"><a href="classMs_1_1SortStaves.html#a5241617ea04818921fe0a512d4f5cf01">Ms::SortStaves::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01084">undo.cpp:1084</a></div></div>
<div class="ttc" id="page_8h_html"><div class="ttname"><a href="page_8h.html">page.h</a></div></div>
<div class="ttc" id="classMs_1_1MeasureBase_html_a198572255879b31307ca02b7839c7356"><div class="ttname"><a href="classMs_1_1MeasureBase.html#a198572255879b31307ca02b7839c7356">Ms::MeasureBase::prevMeasure</a></div><div class="ttdeci">Ms::Measure * prevMeasure() const</div><div class="ttdef"><b>Definition:</b> <a href="measurebase_8cpp_source.html#l00225">measurebase.cpp:225</a></div></div>
<div class="ttc" id="clef_8h_html"><div class="ttname"><a href="clef_8h.html">clef.h</a></div><div class="ttdoc">Definition of classes Clef. </div></div>
<div class="ttc" id="classMs_1_1Score_html_a45633ada2cecf563e9c678e9f8cd10e0"><div class="ttname"><a href="classMs_1_1Score.html#a45633ada2cecf563e9c678e9f8cd10e0">Ms::Score::setStyle</a></div><div class="ttdeci">void setStyle(const MStyle &amp;s, const bool overlap=false)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l04819">score.cpp:4819</a></div></div>
<div class="ttc" id="classMs_1_1ChangeTremoloBar_html_aa936dc70b32c1d8829721f8b209f20a2"><div class="ttname"><a href="classMs_1_1ChangeTremoloBar.html#aa936dc70b32c1d8829721f8b209f20a2">Ms::ChangeTremoloBar::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02088">undo.cpp:2088</a></div></div>
<div class="ttc" id="articulation_8h_html"><div class="ttname"><a href="articulation_8h.html">articulation.h</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a365e5013395d4a660672ad8fff61a864"><div class="ttname"><a href="classMs_1_1Score.html#a365e5013395d4a660672ad8fff61a864">Ms::Score::undoRemoveElement</a></div><div class="ttdeci">void undoRemoveElement(Element *element)</div><div class="ttdef"><b>Definition:</b> <a href="edit_8cpp_source.html#l05115">edit.cpp:5115</a></div></div>
<div class="ttc" id="classMs_1_1FretMarker_html_a57fe8319ab13bafb3178c984db62c528"><div class="ttname"><a href="classMs_1_1FretMarker.html#a57fe8319ab13bafb3178c984db62c528">Ms::FretMarker::undo</a></div><div class="ttdeci">void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02592">undo.cpp:2592</a></div></div>
<div class="ttc" id="namespaceMs_html_a580f85ffcff35b12462cbfb60a8728b7"><div class="ttname"><a href="namespaceMs.html#a580f85ffcff35b12462cbfb60a8728b7">Ms::toChordRest</a></div><div class="ttdeci">static ChordRest * toChordRest(ScoreElement *e)</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00427">scoreElement.h:427</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_aa9d29bdcde59d2a8c3a002469a0fe61f"><div class="ttname"><a href="classMs_1_1Score.html#aa9d29bdcde59d2a8c3a002469a0fe61f">Ms::Score::styleChanged</a></div><div class="ttdeci">void styleChanged()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l01269">score.cpp:1269</a></div></div>
<div class="ttc" id="stafftext_8h_html"><div class="ttname"><a href="stafftext_8h.html">stafftext.h</a></div></div>
<div class="ttc" id="dynamic_8h_html"><div class="ttname"><a href="dynamic_8h.html">dynamic.h</a></div></div>
<div class="ttc" id="segment_8h_html"><div class="ttname"><a href="segment_8h.html">segment.h</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a5033ef29dffbf6e40958e4fdd2802b6d"><div class="ttname"><a href="classMs_1_1Element.html#a5033ef29dffbf6e40958e4fdd2802b6d">Ms::Element::setHeader</a></div><div class="ttdeci">void setHeader(bool v)</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00439">element.h:439</a></div></div>
<div class="ttc" id="classMs_1_1ChangeNoteEventList_html_ae0822b862f46f859cafc904b532ba073"><div class="ttname"><a href="classMs_1_1ChangeNoteEventList.html#ae0822b862f46f859cafc904b532ba073">Ms::ChangeNoteEventList::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02111">undo.cpp:2111</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ae550ee02f05637cd42d972c95bb6985d"><div class="ttname"><a href="classMs_1_1Score.html#ae550ee02f05637cd42d972c95bb6985d">Ms::Score::systems</a></div><div class="ttdeci">const QList&lt; System * &gt; &amp; systems() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01015">score.h:1015</a></div></div>
<div class="ttc" id="classMs_1_1EditText_html_a181a1cb4f01973d752e09c52b2a2ede9"><div class="ttname"><a href="classMs_1_1EditText.html#a181a1cb4f01973d752e09c52b2a2ede9">Ms::EditText::undoRedo</a></div><div class="ttdeci">void undoRedo()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01487">undo.cpp:1487</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMStaffProperties_html_aa4155c4790edfb3fb2a35b9cb8798ba4"><div class="ttname"><a href="classMs_1_1ChangeMStaffProperties.html#aa4155c4790edfb3fb2a35b9cb8798ba4">Ms::ChangeMStaffProperties::visible</a></div><div class="ttdeci">bool visible</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00772">undo.h:772</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a48317b9139affa970569ed1fcb3add46"><div class="ttname"><a href="classMs_1_1Note.html#a48317b9139affa970569ed1fcb3add46">Ms::Note::tieFor</a></div><div class="ttdeci">Ms::Tie * tieFor() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00418">note.h:418</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a60dda023bb2ac14cc6625ab7b5d711b7"><div class="ttname"><a href="classMs_1_1Chord.html#a60dda023bb2ac14cc6625ab7b5d711b7">Ms::Chord::graceNotes</a></div><div class="ttdeci">const QVector&lt; Chord * &gt; &amp; graceNotes() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00148">chord.h:148</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a3d5c97191484848b3f10e754246f8758"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a3d5c97191484848b3f10e754246f8758">Ms::ScoreElement::links</a></div><div class="ttdeci">LinkedElements * links() const</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00248">scoreElement.h:248</a></div></div>
<div class="ttc" id="classMs_1_1Part_html"><div class="ttname"><a href="classMs_1_1Part.html">Ms::Part</a></div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2part_8h_source.html#l00055">part.h:55</a></div></div>
<div class="ttc" id="classMs_1_1ChangePageNumberOffset_html_add885ff63e818f40f601359e0c3a044a"><div class="ttname"><a href="classMs_1_1ChangePageNumberOffset.html#add885ff63e818f40f601359e0c3a044a">Ms::ChangePageNumberOffset::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01747">undo.cpp:1747</a></div></div>
<div class="ttc" id="classMs_1_1DurationElement_html_abd480ba4d052d040db56e1e504cf2596"><div class="ttname"><a href="classMs_1_1DurationElement.html#abd480ba4d052d040db56e1e504cf2596">Ms::DurationElement::ticks</a></div><div class="ttdeci">virtual Fraction ticks() const</div><div class="ttdef"><b>Definition:</b> <a href="duration_8h_source.html#l00057">duration.h:57</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea3e256909ac7022b5e06e9039a0254314"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea3e256909ac7022b5e06e9039a0254314">Ms::Sid::chordExtensionMag</a></div></div>
<div class="ttc" id="classMs_1_1ChangePitch_html_a75270a105a47aa755b274801672a7ff9"><div class="ttname"><a href="classMs_1_1ChangePitch.html#a75270a105a47aa755b274801672a7ff9">Ms::ChangePitch::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01137">undo.cpp:1137</a></div></div>
<div class="ttc" id="classMs_1_1ChangePatch_html_a7821ff28bd2c594408b417597043b7c8"><div class="ttname"><a href="classMs_1_1ChangePatch.html#a7821ff28bd2c594408b417597043b7c8">Ms::ChangePatch::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01499">undo.cpp:1499</a></div></div>
<div class="ttc" id="sym_8h_html"><div class="ttname"><a href="sym_8h.html">sym.h</a></div></div>
<div class="ttc" id="classMs_1_1MStyle_html_ae992fb43a5d08975bdc1a35fab8f66e7"><div class="ttname"><a href="classMs_1_1MStyle.html#ae992fb43a5d08975bdc1a35fab8f66e7">Ms::MStyle::setDefaultStyleVersion</a></div><div class="ttdeci">void setDefaultStyleVersion(const int defaultsVersion)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2style_8cpp_source.html#l02748">style.cpp:2748</a></div></div>
<div class="ttc" id="classMs_1_1NoteEventList_html"><div class="ttname"><a href="classMs_1_1NoteEventList.html">Ms::NoteEventList</a></div><div class="ttdef"><b>Definition:</b> <a href="noteevent_8h_source.html#l00053">noteevent.h:53</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a9ef23d0042137cfc91aadab687a1c40c"><div class="ttname"><a href="classMs_1_1Measure.html#a9ef23d0042137cfc91aadab687a1c40c">Ms::Measure::setStaffVisible</a></div><div class="ttdeci">void setStaffVisible(int staffIdx, bool visible)</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l00309">measure.cpp:309</a></div></div>
<div class="ttc" id="noteevent_8h_html"><div class="ttname"><a href="noteevent_8h.html">noteevent.h</a></div></div>
<div class="ttc" id="classMs_1_1TransposeHarmony_html_a24547cd4923183444e185466c357dd0c"><div class="ttname"><a href="classMs_1_1TransposeHarmony.html#a24547cd4923183444e185466c357dd0c">Ms::TransposeHarmony::TransposeHarmony</a></div><div class="ttdeci">TransposeHarmony(Harmony *, int rootTpc, int baseTpc)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01373">undo.cpp:1373</a></div></div>
<div class="ttc" id="keysig_8h_html"><div class="ttname"><a href="keysig_8h.html">keysig.h</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ac6710dc304e8f163b23b002ea1000b00"><div class="ttname"><a href="classMs_1_1Score.html#ac6710dc304e8f163b23b002ea1000b00">Ms::Score::deselect</a></div><div class="ttdeci">void deselect(Element *obj)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l03023">score.cpp:3023</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a7c3fae86b0c593d95eb2acf44348b425a4dfba59eee0c16b80056bbc068a7d849"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425a4dfba59eee0c16b80056bbc068a7d849">Ms::UndoCommand::Filter::RemoveElementLinked</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea92f4fe2c3c172220a2992018a69246b9"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea92f4fe2c3c172220a2992018a69246b9">Ms::Sid::concertPitch</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a0d74c6da05f4744a4dcdf7b08b5eb33f"><div class="ttname"><a href="classMs_1_1Chord.html#a0d74c6da05f4744a4dcdf7b08b5eb33f">Ms::Chord::segment</a></div><div class="ttdeci">Segment * segment() const override</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l02993">chord.cpp:2993</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a8900162613fb97d2a70bdf615a93f1d3"><div class="ttname"><a href="classMs_1_1Score.html#a8900162613fb97d2a70bdf615a93f1d3">Ms::Score::sortStaves</a></div><div class="ttdeci">void sortStaves(QList&lt; int &gt; &amp;dst)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l02648">score.cpp:2648</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ac1ed7b10bdb1a93929c135025dc400ee"><div class="ttname"><a href="classMs_1_1Score.html#ac1ed7b10bdb1a93929c135025dc400ee">Ms::Score::addElement</a></div><div class="ttdeci">void addElement(Element *)</div><div class="ttdoc">Add element to its parent. </div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l01317">score.cpp:1317</a></div></div>
<div class="ttc" id="classMs_1_1ChangeProperty_html_aef0686f461266c23e7aca1d8c2e1fefe"><div class="ttname"><a href="classMs_1_1ChangeProperty.html#aef0686f461266c23e7aca1d8c2e1fefe">Ms::ChangeProperty::getId</a></div><div class="ttdeci">Pid getId() const</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l01045">undo.h:1045</a></div></div>
<div class="ttc" id="structMs_1_1UndoMacro_1_1SelectionInfo_html_a34cd5687858c31d0c64be9de28e81bf4"><div class="ttname"><a href="structMs_1_1UndoMacro_1_1SelectionInfo.html#a34cd5687858c31d0c64be9de28e81bf4">Ms::UndoMacro::SelectionInfo::tickStart</a></div><div class="ttdeci">Fraction tickStart</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00144">undo.h:144</a></div></div>
<div class="ttc" id="classMs_1_1ScoreFont_html_a3961745e9d8ad69188ec511dc7f9b21f"><div class="ttname"><a href="classMs_1_1ScoreFont.html#a3961745e9d8ad69188ec511dc7f9b21f">Ms::ScoreFont::fontFactory</a></div><div class="ttdeci">static ScoreFont * fontFactory(QString)</div><div class="ttdef"><b>Definition:</b> <a href="sym_8cpp_source.html#l06689">sym.cpp:6689</a></div></div>
<div class="ttc" id="classMs_1_1ChangeInstrumentLong_html_abeccd0ddec8b1a2ebf4d74fc22f1c731"><div class="ttname"><a href="classMs_1_1ChangeInstrumentLong.html#abeccd0ddec8b1a2ebf4d74fc22f1c731">Ms::ChangeInstrumentLong::ChangeInstrumentLong</a></div><div class="ttdeci">ChangeInstrumentLong(const Fraction &amp;, Part *, QList&lt; StaffName &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01439">undo.cpp:1439</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a47072b64ad7b9637fc59995139a372d3"><div class="ttname"><a href="classMs_1_1Score.html#a47072b64ad7b9637fc59995139a372d3">Ms::Score::styleV</a></div><div class="ttdeci">QVariant styleV(Sid idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00894">score.h:894</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a7c3fae86b0c593d95eb2acf44348b425ac4cdf151d451cf1b8ad1cc2374226720"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425ac4cdf151d451cf1b8ad1cc2374226720">Ms::UndoCommand::Filter::AddElement</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ac4cb945d379f454f76bd69fb4edee8e1"><div class="ttname"><a href="classMs_1_1Score.html#ac4cb945d379f454f76bd69fb4edee8e1">Ms::Score::setRest</a></div><div class="ttdeci">Rest * setRest(const Fraction &amp;tick, int track, const Fraction &amp;, bool useDots, Tuplet *tuplet, bool useFullMeasureRest=true)</div><div class="ttdef"><b>Definition:</b> <a href="edit_8cpp_source.html#l00278">edit.cpp:278</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a206609c06ee2dd9fd7ce8465e5963dbd"><div class="ttname"><a href="classMs_1_1Score.html#a206609c06ee2dd9fd7ce8465e5963dbd">Ms::Score::insertTime</a></div><div class="ttdeci">void insertTime(const Fraction &amp;tickPos, const Fraction &amp;tickLen)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l03875">score.cpp:3875</a></div></div>
<div class="ttc" id="classMs_1_1CloneVoice_html_a1fd9ff246f07a434f9b2f143a74d345c"><div class="ttname"><a href="classMs_1_1CloneVoice.html#a1fd9ff246f07a434f9b2f143a74d345c">Ms::CloneVoice::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00636">undo.cpp:636</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_ad645cbed278b04cea2164006b52c4d8f"><div class="ttname"><a href="classMs_1_1UndoCommand.html#ad645cbed278b04cea2164006b52c4d8f">Ms::UndoCommand::removeChild</a></div><div class="ttdeci">UndoCommand * removeChild()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00120">undo.h:120</a></div></div>
<div class="ttc" id="classMs_1_1ExchangeVoice_html_a59d468d9c16ec9d1357e41345297dc18"><div class="ttname"><a href="classMs_1_1ExchangeVoice.html#a59d468d9c16ec9d1357e41345297dc18">Ms::ExchangeVoice::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01411">undo.cpp:1411</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_ab05230fbe37b40766934e7e8a32b689c"><div class="ttname"><a href="classMs_1_1Selection.html#ab05230fbe37b40766934e7e8a32b689c">Ms::Selection::setRangeTicks</a></div><div class="ttdeci">void setRangeTicks(const Fraction &amp;tick1, const Fraction &amp;tick2, int staffStart, int staffEnd)</div><div class="ttdef"><b>Definition:</b> <a href="select_8cpp_source.html#l00655">select.cpp:655</a></div></div>
<div class="ttc" id="mscore_8h_html_a7b14c16d0b45fd100ee97e74cfd907c0"><div class="ttname"><a href="mscore_8h.html#a7b14c16d0b45fd100ee97e74cfd907c0">VOICES</a></div><div class="ttdeci">#define VOICES</div><div class="ttdef"><b>Definition:</b> <a href="mscore_8h_source.html#l00074">mscore.h:74</a></div></div>
<div class="ttc" id="classMs_1_1ChangeKeySig_html_a088664f90c8a03d395f31132e2ea83a4"><div class="ttname"><a href="classMs_1_1ChangeKeySig.html#a088664f90c8a03d395f31132e2ea83a4">Ms::ChangeKeySig::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01305">undo.cpp:1305</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMeasureLen_html_afd476784a70270b6867eee2323046b50"><div class="ttname"><a href="classMs_1_1ChangeMeasureLen.html#afd476784a70270b6867eee2323046b50">Ms::ChangeMeasureLen::ChangeMeasureLen</a></div><div class="ttdeci">ChangeMeasureLen(Measure *, Fraction)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01341">undo.cpp:1341</a></div></div>
<div class="ttc" id="hairpin_8h_html"><div class="ttname"><a href="hairpin_8h.html">hairpin.h</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a35a050f6696d45ea0139ebb782f913b9"><div class="ttname"><a href="classMs_1_1Note.html#a35a050f6696d45ea0139ebb782f913b9">Ms::Note::veloType</a></div><div class="ttdeci">ValueType veloType() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00464">note.h:464</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_aec7075050e47df3c25937101c309a58b"><div class="ttname"><a href="classMs_1_1UndoStack.html#aec7075050e47df3c25937101c309a58b">Ms::UndoStack::UndoStack</a></div><div class="ttdeci">UndoStack()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00249">undo.cpp:249</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a86bcbc446dea8eeec80bd81505fd77bd"><div class="ttname"><a href="classMs_1_1Chord.html#a86bcbc446dea8eeec80bd81505fd77bd">Ms::Chord::setTremolo</a></div><div class="ttdeci">void setTremolo(Tremolo *t)</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l00456">chord.cpp:456</a></div></div>
<div class="ttc" id="classMs_1_1Fraction_html_a1d92a73ce7f9b7f895a9a083f6fe1eb2"><div class="ttname"><a href="classMs_1_1Fraction.html#a1d92a73ce7f9b7f895a9a083f6fe1eb2">Ms::Fraction::ticks</a></div><div class="ttdeci">int ticks() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2fraction_8h_source.html#l00238">fraction.h:238</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ab75c49bf26fcb549bd1959ffe7925d8b"><div class="ttname"><a href="classMs_1_1Element.html#ab75c49bf26fcb549bd1959ffe7925d8b">Ms::Element::setEnabled</a></div><div class="ttdeci">void setEnabled(bool val)</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00456">element.h:456</a></div></div>
<div class="ttc" id="classMs_1_1ChangeTextLineProperty_html_a5d79b481c84bad9bd11adf2f67b6f15d"><div class="ttname"><a href="classMs_1_1ChangeTextLineProperty.html#a5d79b481c84bad9bd11adf2f67b6f15d">Ms::ChangeTextLineProperty::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02279">undo.cpp:2279</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_a7e98943cb86fb69bc5e59024f3d880fd"><div class="ttname"><a href="classMs_1_1Tremolo.html#a7e98943cb86fb69bc5e59024f3d880fd">Ms::Tremolo::twoNotes</a></div><div class="ttdeci">bool twoNotes() const</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00095">tremolo.h:95</a></div></div>
<div class="ttc" id="classMs_1_1MoveTremolo_html_af240604c2e3a348d7fe32c8073f64922"><div class="ttname"><a href="classMs_1_1MoveTremolo.html#af240604c2e3a348d7fe32c8073f64922">Ms::MoveTremolo::undo</a></div><div class="ttdeci">void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02693">undo.cpp:2693</a></div></div>
<div class="ttc" id="classMs_1_1MapExcerptTracks_html_a87449d1f9b23ed49bb70992e1506b7f1"><div class="ttname"><a href="classMs_1_1MapExcerptTracks.html#a87449d1f9b23ed49bb70992e1506b7f1">Ms::MapExcerptTracks::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01120">undo.cpp:1120</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_ad4aec6e8dbb0e92bd2b8be2ebd79b9df"><div class="ttname"><a href="classMs_1_1UndoCommand.html#ad4aec6e8dbb0e92bd2b8be2ebd79b9df">Ms::UndoCommand::~UndoCommand</a></div><div class="ttdeci">virtual ~UndoCommand()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00125">undo.cpp:125</a></div></div>
<div class="ttc" id="classMs_1_1ChangeScoreOrder_html_a4619bab4299138041791da128f572adc"><div class="ttname"><a href="classMs_1_1ChangeScoreOrder.html#a4619bab4299138041791da128f572adc">Ms::ChangeScoreOrder::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02708">undo.cpp:2708</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a5e7d34f4cfd7e05b6d1b61b2f44a2e42"><div class="ttname"><a href="classMs_1_1Measure.html#a5e7d34f4cfd7e05b6d1b61b2f44a2e42">Ms::Measure::stemless</a></div><div class="ttdeci">bool stemless(int staffIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l02538">measure.cpp:2538</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a693ed2bc02f09dc0fff3f6731dfa3e98"><div class="ttname"><a href="classMs_1_1Staff.html#a693ed2bc02f09dc0fff3f6731dfa3e98">Ms::Staff::HideMode</a></div><div class="ttdeci">HideMode</div><div class="ttdef"><b>Definition:</b> <a href="staff_8h_source.html#l00065">staff.h:65</a></div></div>
<div class="ttc" id="structMs_1_1UndoMacro_1_1SelectionInfo_html"><div class="ttname"><a href="structMs_1_1UndoMacro_1_1SelectionInfo.html">Ms::UndoMacro::SelectionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00142">undo.h:142</a></div></div>
<div class="ttc" id="classMs_1_1EditData_html_a07230d29679583b1e4e23a7bfa4078ec"><div class="ttname"><a href="classMs_1_1EditData.html#a07230d29679583b1e4e23a7bfa4078ec">Ms::EditData::element</a></div><div class="ttdeci">Element * element</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00142">element.h:142</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a4f69d0d7b4406aeff800488d2dd06d97"><div class="ttname"><a href="classMs_1_1Measure.html#a4f69d0d7b4406aeff800488d2dd06d97">Ms::Measure::setMMRest</a></div><div class="ttdeci">void setMMRest(Measure *m)</div><div class="ttdef"><b>Definition:</b> <a href="measure_8h_source.html#l00255">measure.h:255</a></div></div>
<div class="ttc" id="namespaceMs_html_a3ca11c21f2fe66a8c8efc1bf0d75ccf2"><div class="ttname"><a href="namespaceMs.html#a3ca11c21f2fe66a8c8efc1bf0d75ccf2">Ms::PlayEventType</a></div><div class="ttdeci">PlayEventType</div><div class="ttdoc">Determines whether oranaments are automatically generated when playing a score and whether the PlayEv...</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00600">types.h:600</a></div></div>
<div class="ttc" id="structMs_1_1TextEditData_html_a1d929340f302872440735a71abe1fe6c"><div class="ttname"><a href="structMs_1_1TextEditData.html#a1d929340f302872440735a71abe1fe6c">Ms::TextEditData::startUndoIdx</a></div><div class="ttdeci">int startUndoIdx</div><div class="ttdef"><b>Definition:</b> <a href="textedit_8h_source.html#l00028">textedit.h:28</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a073a83d271a8825353007a8b42987609"><div class="ttname"><a href="classMs_1_1Score.html#a073a83d271a8825353007a8b42987609">Ms::Score::setLayoutAll</a></div><div class="ttdeci">void setLayoutAll(int staff=-1, const Element *e=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01471">score.h:1471</a></div></div>
<div class="ttc" id="classMs_1_1AddElement_html_ac20dd8ed95599b2634a4624ffa5dd385"><div class="ttname"><a href="classMs_1_1AddElement.html#ac20dd8ed95599b2634a4624ffa5dd385">Ms::AddElement::redo</a></div><div class="ttdeci">void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00760">undo.cpp:760</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_a5c50661b1a83d1d55df64eb1e18a0f16"><div class="ttname"><a href="classMs_1_1UndoStack.html#a5c50661b1a83d1d55df64eb1e18a0f16">Ms::UndoStack::redo</a></div><div class="ttdeci">void redo(EditData *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00475">undo.cpp:475</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_abcffe190c5e3a72320316d1c8e05700a"><div class="ttname"><a href="classMs_1_1Tremolo.html#abcffe190c5e3a72320316d1c8e05700a">Ms::Tremolo::chord2</a></div><div class="ttdeci">Chord * chord2() const</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00084">tremolo.h:84</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a7131c9beb9c694ef3f0d8235f4e2892a"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a7131c9beb9c694ef3f0d8235f4e2892a">Ms::UndoCommand::hasUnfilteredChildren</a></div><div class="ttdeci">bool hasUnfilteredChildren(const std::vector&lt; Filter &gt; &amp;filters, const Element *target) const</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00199">undo.cpp:199</a></div></div>
<div class="ttc" id="box_8h_html"><div class="ttname"><a href="box_8h.html">box.h</a></div><div class="ttdoc">Definition of HBox and VBox classes. </div></div>
<div class="ttc" id="namespaceMs_html_afb3b5257b874721d31e3910806a60359a04d270fb30f1bcf518d3dc9216bcddcf"><div class="ttname"><a href="namespaceMs.html#afb3b5257b874721d31e3910806a60359a04d270fb30f1bcf518d3dc9216bcddcf">Ms::@25::ME_CONTROLLER</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a04a1b9c2e9db98787c7d81aff906b336"><div class="ttname"><a href="classMs_1_1Chord.html#a04a1b9c2e9db98787c7d81aff906b336">Ms::Chord::tremolo</a></div><div class="ttdeci">Tremolo * tremolo() const</div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00138">chord.h:138</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html"><div class="ttname"><a href="classMs_1_1ScoreElement.html">Ms::ScoreElement</a></div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00173">scoreElement.h:173</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_a87dd44253f998a87302d67ea1a9502ae"><div class="ttname"><a href="classMs_1_1UndoMacro.html#a87dd44253f998a87302d67ea1a9502ae">Ms::UndoMacro::redoSelectionInfo</a></div><div class="ttdeci">SelectionInfo redoSelectionInfo</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00155">undo.h:155</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a0bbdf4bc79885d76228b155599fb46ce"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a0bbdf4bc79885d76228b155599fb46ce">Ms::UndoCommand::cleanup</a></div><div class="ttdeci">virtual void cleanup(bool undo)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00135">undo.cpp:135</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_a9109c2c9621f0cc9ecd86afcae54afe8"><div class="ttname"><a href="classMs_1_1Measure.html#a9109c2c9621f0cc9ecd86afcae54afe8">Ms::Measure::mmRest</a></div><div class="ttdeci">Measure * mmRest() const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8h_source.html#l00253">measure.h:253</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a52b30fdd589beba5b760a561a50ac601"><div class="ttname"><a href="classMs_1_1Element.html#a52b30fdd589beba5b760a561a50ac601">Ms::Element::parent</a></div><div class="ttdeci">Element * parent() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00199">element.h:199</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_ae3a942980e5d2c7bcf1395be2d0f2cf7"><div class="ttname"><a href="classMs_1_1Staff.html#ae3a942980e5d2c7bcf1395be2d0f2cf7">Ms::Staff::currentKeyTick</a></div><div class="ttdeci">Fraction currentKeyTick(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l00616">staff.cpp:616</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMeasureLen_html_a6f3f1b5964802e7cdbd7070a83450ca7"><div class="ttname"><a href="classMs_1_1ChangeMeasureLen.html#a6f3f1b5964802e7cdbd7070a83450ca7">Ms::ChangeMeasureLen::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01347">undo.cpp:1347</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a759d15293c7797565eaee37e61fcfc93"><div class="ttname"><a href="classMs_1_1Staff.html#a759d15293c7797565eaee37e61fcfc93">Ms::Staff::setKey</a></div><div class="ttdeci">void setKey(const Fraction &amp;, KeySigEvent)</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l00572">staff.cpp:572</a></div></div>
<div class="ttc" id="classMs_1_1Fraction_html"><div class="ttname"><a href="classMs_1_1Fraction.html">Ms::Fraction</a></div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2fraction_8h_source.html#l00046">fraction.h:46</a></div></div>
<div class="ttc" id="classMs_1_1InsertMStaff_html_a1bd4d0856025c03bb68239f30cc9bf52"><div class="ttname"><a href="classMs_1_1InsertMStaff.html#a1bd4d0856025c03bb68239f30cc9bf52">Ms::InsertMStaff::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01039">undo.cpp:1039</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMStaffProperties_html_a53a6498726ae30caea20990027b69029"><div class="ttname"><a href="classMs_1_1ChangeMStaffProperties.html#a53a6498726ae30caea20990027b69029">Ms::ChangeMStaffProperties::ChangeMStaffProperties</a></div><div class="ttdeci">ChangeMStaffProperties(Measure *, int staffIdx, bool visible, bool stemless)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01800">undo.cpp:1800</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMStaffProperties_html_adbb112ce748daf6c9be0af5d4e42e72f"><div class="ttname"><a href="classMs_1_1ChangeMStaffProperties.html#adbb112ce748daf6c9be0af5d4e42e72f">Ms::ChangeMStaffProperties::measure</a></div><div class="ttdeci">Measure * measure</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00770">undo.h:770</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_ab1dbe71681084c01b1bcd68595d5ba18"><div class="ttname"><a href="classMs_1_1Measure.html#ab1dbe71681084c01b1bcd68595d5ba18">Ms::Measure::setStaffStemless</a></div><div class="ttdeci">void setStaffStemless(int staffIdx, bool stemless)</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l00310">measure.cpp:310</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a97575ef0255cb4b9cde48b6c8730a00f"><div class="ttname"><a href="classMs_1_1Note.html#a97575ef0255cb4b9cde48b6c8730a00f">Ms::Note::removeSpannerBack</a></div><div class="ttdeci">bool removeSpannerBack(Spanner *e)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00490">note.h:490</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_a5a20087b7049f4d0439deeeb2900a1b0"><div class="ttname"><a href="classMs_1_1UndoMacro.html#a5a20087b7049f4d0439deeeb2900a1b0">Ms::UndoMacro::append</a></div><div class="ttdeci">void append(UndoMacro &amp;&amp;other)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00564">undo.cpp:564</a></div></div>
<div class="ttc" id="classMs_1_1InsertStaves_html_a0f39a8bf9bd9c586aff88896b4ad6a3f"><div class="ttname"><a href="classMs_1_1InsertStaves.html#a0f39a8bf9bd9c586aff88896b4ad6a3f">Ms::InsertStaves::InsertStaves</a></div><div class="ttdeci">InsertStaves(Measure *, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01259">undo.cpp:1259</a></div></div>
<div class="ttc" id="namespaceMs_html_aee57ec45c319c2b3ca450db5b34ca01e"><div class="ttname"><a href="namespaceMs.html#aee57ec45c319c2b3ca450db5b34ca01e">Ms::tick2measure</a></div><div class="ttdeci">Measure * tick2measure(int tick)</div></div>
<div class="ttc" id="classMs_1_1LinkedElements_html"><div class="ttname"><a href="classMs_1_1LinkedElements.html">Ms::LinkedElements</a></div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00146">scoreElement.h:146</a></div></div>
<div class="ttc" id="classMs_1_1System_html_aaf529665602c113a229f81e888bdf06f"><div class="ttname"><a href="classMs_1_1System.html#aaf529665602c113a229f81e888bdf06f">Ms::System::remove</a></div><div class="ttdeci">void remove(Element *) override</div><div class="ttdef"><b>Definition:</b> <a href="system_8cpp_source.html#l01101">system.cpp:1101</a></div></div>
<div class="ttc" id="classMs_1_1AddElement_html_a3975f0ceccf211857ae63a05ed87a5ca"><div class="ttname"><a href="classMs_1_1AddElement.html#a3975f0ceccf211857ae63a05ed87a5ca">Ms::AddElement::endUndoRedo</a></div><div class="ttdeci">void endUndoRedo(bool) const</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00727">undo.cpp:727</a></div></div>
<div class="ttc" id="classMs_1_1AddExcerpt_html_a837ba02525776afd0115e58f2c84c17b"><div class="ttname"><a href="classMs_1_1AddExcerpt.html#a837ba02525776afd0115e58f2c84c17b">Ms::AddExcerpt::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02025">undo.cpp:2025</a></div></div>
<div class="ttc" id="chordline_8h_html"><div class="ttname"><a href="chordline_8h.html">chordline.h</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_ada215e95b1109676666293b2ce2ded59"><div class="ttname"><a href="classMs_1_1Selection.html#ada215e95b1109676666293b2ce2ded59">Ms::Selection::tickStart</a></div><div class="ttdeci">Fraction tickStart() const</div><div class="ttdef"><b>Definition:</b> <a href="select_8cpp_source.html#l00086">select.cpp:86</a></div></div>
<div class="ttc" id="classMs_1_1NoteEvent_html"><div class="ttname"><a href="classMs_1_1NoteEvent.html">Ms::NoteEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="noteevent_8h_source.html#l00025">noteevent.h:25</a></div></div>
<div class="ttc" id="classMs_1_1TempoText_html_a5eca771202524e6e04ae32e8a4ecb890"><div class="ttname"><a href="classMs_1_1TempoText.html#a5eca771202524e6e04ae32e8a4ecb890">Ms::TempoText::segment</a></div><div class="ttdeci">Segment * segment() const</div><div class="ttdef"><b>Definition:</b> <a href="tempotext_8h_source.html#l00049">tempotext.h:49</a></div></div>
<div class="ttc" id="classMs_1_1RemoveMStaff_html_a21a4df819d58ead4a41f0222811116a4"><div class="ttname"><a href="classMs_1_1RemoveMStaff.html#a21a4df819d58ead4a41f0222811116a4">Ms::RemoveMStaff::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01065">undo.cpp:1065</a></div></div>
<div class="ttc" id="select_8h_html"><div class="ttname"><a href="select_8h.html">select.h</a></div></div>
<div class="ttc" id="stafflines_8h_html"><div class="ttname"><a href="stafflines_8h.html">stafflines.h</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_aa7757f6d62dc28447706ee8eb12da5ec"><div class="ttname"><a href="classMs_1_1Element.html#aa7757f6d62dc28447706ee8eb12da5ec">Ms::Element::setParent</a></div><div class="ttdeci">void setParent(Element *e)</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00200">element.h:200</a></div></div>
<div class="ttc" id="measure_8h_html"><div class="ttname"><a href="measure_8h.html">measure.h</a></div><div class="ttdoc">Definition of class Measure. </div></div>
<div class="ttc" id="classMs_1_1LinkUnlink_html_ac7dbd960882e02623a9217a6c82597e7"><div class="ttname"><a href="classMs_1_1LinkUnlink.html#ac7dbd960882e02623a9217a6c82597e7">Ms::LinkUnlink::link</a></div><div class="ttdeci">void link()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02462">undo.cpp:2462</a></div></div>
<div class="ttc" id="classMs_1_1RemoveStaves_html_a3375086725bd316d7200c563fcc87387"><div class="ttname"><a href="classMs_1_1RemoveStaves.html#a3375086725bd316d7200c563fcc87387">Ms::RemoveStaves::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01287">undo.cpp:1287</a></div></div>
<div class="ttc" id="classMs_1_1InsertMStaff_html_ac4717535584d521881ae99b9e241234f"><div class="ttname"><a href="classMs_1_1InsertMStaff.html#ac4717535584d521881ae99b9e241234f">Ms::InsertMStaff::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01044">undo.cpp:1044</a></div></div>
<div class="ttc" id="classMs_1_1ChangeVelocity_html_aae06b595011ea91cf27a6207f889f010"><div class="ttname"><a href="classMs_1_1ChangeVelocity.html#aae06b595011ea91cf27a6207f889f010">Ms::ChangeVelocity::ChangeVelocity</a></div><div class="ttdeci">ChangeVelocity(Note *, Note::ValueType, int)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01781">undo.cpp:1781</a></div></div>
<div class="ttc" id="classMs_1_1EditData_html_a0a20233f6c029d8adb7d1e948b9bbaf4"><div class="ttname"><a href="classMs_1_1EditData.html#a0a20233f6c029d8adb7d1e948b9bbaf4">Ms::EditData::getData</a></div><div class="ttdeci">ElementEditData * getData(const Element *) const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l01950">element.cpp:1950</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a9bdc2e024e29b58a2a25678a957782d5"><div class="ttname"><a href="classMs_1_1Note.html#a9bdc2e024e29b58a2a25678a957782d5">Ms::Note::setTieBack</a></div><div class="ttdeci">void setTieBack(Tie *t)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00421">note.h:421</a></div></div>
<div class="ttc" id="harmony_8h_html"><div class="ttname"><a href="harmony_8h.html">harmony.h</a></div></div>
<div class="ttc" id="classMs_1_1ChangeClefType_html_ae82c2751dabf0c1305a31b8a4d4cef70"><div class="ttname"><a href="classMs_1_1ChangeClefType.html#ae82c2751dabf0c1305a31b8a4d4cef70">Ms::ChangeClefType::ChangeClefType</a></div><div class="ttdeci">ChangeClefType(Clef *, ClefType cl, ClefType tc)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02201">undo.cpp:2201</a></div></div>
<div class="ttc" id="bend_8h_html"><div class="ttname"><a href="bend_8h.html">bend.h</a></div></div>
<div class="ttc" id="fret_8h_html"><div class="ttname"><a href="fret_8h.html">fret.h</a></div></div>
<div class="ttc" id="namespaceMs_html_a9b94748a1c466ed6e89f2c80e57b644b"><div class="ttname"><a href="namespaceMs.html#a9b94748a1c466ed6e89f2c80e57b644b">Ms::staff2track</a></div><div class="ttdeci">int staff2track(int staffIdx)</div><div class="ttdef"><b>Definition:</b> <a href="mscore_8h_source.html#l00077">mscore.h:77</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_aec3ae8afe6d74337ccdaf50a735f4c92"><div class="ttname"><a href="classMs_1_1Score.html#aec3ae8afe6d74337ccdaf50a735f4c92">Ms::Score::spannerMap</a></div><div class="ttdeci">SpannerMap &amp; spannerMap()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01142">score.h:1142</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a8cce5e6de5f0a4b9a16aa1b3e6aef7b6"><div class="ttname"><a href="classMs_1_1Score.html#a8cce5e6de5f0a4b9a16aa1b3e6aef7b6">Ms::Score::setScoreFont</a></div><div class="ttdeci">void setScoreFont(ScoreFont *f)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01161">score.h:1161</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html"><div class="ttname"><a href="classMs_1_1Chord.html">Ms::Chord</a></div><div class="ttdoc">Graphic representation of a chord. </div><div class="ttdef"><b>Definition:</b> <a href="chord_8h_source.html#l00055">chord.h:55</a></div></div>
<div class="ttc" id="classMs_1_1RemoveBracket_html_a8ab1c56902e2023762431ab9aae454f2"><div class="ttname"><a href="classMs_1_1RemoveBracket.html#a8ab1c56902e2023762431ab9aae454f2">Ms::RemoveBracket::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02325">undo.cpp:2325</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a638691b3520258aed47a5f3d2b67ad24"><div class="ttname"><a href="classMs_1_1Score.html#a638691b3520258aed47a5f3d2b67ad24">Ms::Score::undo</a></div><div class="ttdeci">void undo(UndoCommand *, EditData *=0) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l03746">score.cpp:3746</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a7c3fae86b0c593d95eb2acf44348b425"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425">Ms::UndoCommand::Filter</a></div><div class="ttdeci">Filter</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00106">undo.h:106</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a70883d048b0884821ac779d9ab168151"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a70883d048b0884821ac779d9ab168151">Ms::ScoreElement::score</a></div><div class="ttdeci">Score * score() const</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00189">scoreElement.h:189</a></div></div>
<div class="ttc" id="classMs_1_1KeySig_html_a167094029a75cd2df41ebd1b2abee522"><div class="ttname"><a href="classMs_1_1KeySig.html#a167094029a75cd2df41ebd1b2abee522">Ms::KeySig::keySigEvent</a></div><div class="ttdeci">KeySigEvent keySigEvent() const</div><div class="ttdef"><b>Definition:</b> <a href="keysig_8h_source.html#l00062">keysig.h:62</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a4e9ad4c47081dec0aebcd2aea96b309f"><div class="ttname"><a href="classMs_1_1Segment.html#a4e9ad4c47081dec0aebcd2aea96b309f">Ms::Segment::element</a></div><div class="ttdeci">Element * element(int track) const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00424">segment.cpp:424</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eaee2c0fecc8dfd328970d96e17def5d9a"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eaee2c0fecc8dfd328970d96e17def5d9a">Ms::Sid::chordsXmlFile</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_ad380e22ca3b3db66151d94acb1fd2bcb"><div class="ttname"><a href="classMs_1_1UndoMacro.html#ad380e22ca3b3db66151d94acb1fd2bcb">Ms::UndoMacro::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00532">undo.cpp:532</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ad1de1c246a7f35e5b63781630e3c7d58"><div class="ttname"><a href="classMs_1_1Score.html#ad1de1c246a7f35e5b63781630e3c7d58">Ms::Score::staff</a></div><div class="ttdeci">Staff * staff(int n) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00657">score.h:657</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_acca1fd58c4df74da5cefc31787a2c715"><div class="ttname"><a href="classMs_1_1Element.html#acca1fd58c4df74da5cefc31787a2c715">Ms::Element::remove</a></div><div class="ttdeci">virtual void remove(Element *)</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l01046">element.cpp:1046</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_abc893037b5a33408c25552b8579debe4"><div class="ttname"><a href="classMs_1_1UndoCommand.html#abc893037b5a33408c25552b8579debe4">Ms::UndoCommand::unwind</a></div><div class="ttdeci">void unwind()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00235">undo.cpp:235</a></div></div>
<div class="ttc" id="namespaceMs_html_a0ae7680d3dcd8f5ece7e7c9985988c06"><div class="ttname"><a href="namespaceMs.html#a0ae7680d3dcd8f5ece7e7c9985988c06">Ms::toTextBase</a></div><div class="ttdeci">static TextBase * toTextBase(ScoreElement *e)</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00491">scoreElement.h:491</a></div></div>
<div class="ttc" id="classMs_1_1Sequencer_html_a71b73a5f71693e7265c469e9090dcdce"><div class="ttname"><a href="classMs_1_1Sequencer.html#a71b73a5f71693e7265c469e9090dcdce">Ms::Sequencer::sendEvent</a></div><div class="ttdeci">virtual void sendEvent(const NPlayEvent &amp;)=0</div></div>
<div class="ttc" id="classMs_1_1Measure_html_ae951dd61fdd2d1210b615e75c8d8c0fd"><div class="ttname"><a href="classMs_1_1Measure.html#ae951dd61fdd2d1210b615e75c8d8c0fd">Ms::Measure::visible</a></div><div class="ttdeci">bool visible(int staffIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l02521">measure.cpp:2521</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a8c27ddfb0004417dd89b655e3480a6a0"><div class="ttname"><a href="classMs_1_1Segment.html#a8c27ddfb0004417dd89b655e3480a6a0">Ms::Segment::next1</a></div><div class="ttdeci">Segment * next1() const</div><div class="ttdoc">return next Segment, don’t stop searching at end of Measure </div><div class="ttdef"><b>Definition:</b> <a href="segment_8cpp_source.html#l00223">segment.cpp:223</a></div></div>
<div class="ttc" id="classMs_1_1ChangeKeySig_html_a54de37b66f9a49d6d21d8bd6bf53f457"><div class="ttname"><a href="classMs_1_1ChangeKeySig.html#a54de37b66f9a49d6d21d8bd6bf53f457">Ms::ChangeKeySig::keysig</a></div><div class="ttdeci">KeySig * keysig</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00412">undo.h:412</a></div></div>
<div class="ttc" id="classMs_1_1RemoveElement_html_abfe7fe22251abe009d6cb9f9b9f38cf3"><div class="ttname"><a href="classMs_1_1RemoveElement.html#abfe7fe22251abe009d6cb9f9b9f38cf3">Ms::RemoveElement::isFiltered</a></div><div class="ttdeci">bool isFiltered(UndoCommand::Filter f, const Element *target) const override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00934">undo.cpp:934</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMStaffProperties_html_a72321f3c905c0ff0fdfa1603e33b42ef"><div class="ttname"><a href="classMs_1_1ChangeMStaffProperties.html#a72321f3c905c0ff0fdfa1603e33b42ef">Ms::ChangeMStaffProperties::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01809">undo.cpp:1809</a></div></div>
<div class="ttc" id="classMs_1_1ChangeNoteEvent_html_aa8fa16b30b363424facd036a6ef40b4c"><div class="ttname"><a href="classMs_1_1ChangeNoteEvent.html#aa8fa16b30b363424facd036a6ef40b4c">Ms::ChangeNoteEvent::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02436">undo.cpp:2436</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a23bd44a49d6ec5ef2f7be99a9dfa8bcb"><div class="ttname"><a href="classMs_1_1Note.html#a23bd44a49d6ec5ef2f7be99a9dfa8bcb">Ms::Note::setVeloOffset</a></div><div class="ttdeci">void setVeloOffset(int v)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00467">note.h:467</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a8226b0d61543b1fca19861ca748900ba"><div class="ttname"><a href="classMs_1_1Score.html#a8226b0d61543b1fca19861ca748900ba">Ms::Score::pageNumberOffset</a></div><div class="ttdeci">int pageNumberOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01091">score.h:1091</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ab28ffe83fb1064fb3c2a6fa648bca688"><div class="ttname"><a href="classMs_1_1Element.html#ab28ffe83fb1064fb3c2a6fa648bca688">Ms::Element::triggerLayout</a></div><div class="ttdeci">virtual void triggerLayout() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l01908">element.cpp:1908</a></div></div>
<div class="ttc" id="classMs_1_1Tuplet_html_a9716464134a3d201dbbe52930d14d6fa"><div class="ttname"><a href="classMs_1_1Tuplet.html#a9716464134a3d201dbbe52930d14d6fa">Ms::Tuplet::add</a></div><div class="ttdeci">void add(Element *) override</div><div class="ttdef"><b>Definition:</b> <a href="tuplet_8cpp_source.html#l00873">tuplet.cpp:873</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html_a11c815063edf5abc1bff515e11b03a2b"><div class="ttname"><a href="classMs_1_1ChordRest.html#a11c815063edf5abc1bff515e11b03a2b">Ms::ChordRest::staffMove</a></div><div class="ttdeci">int staffMove() const</div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00116">chordrest.h:116</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a7c3fae86b0c593d95eb2acf44348b425adbebebb26c2ba1eba3b58180175bd3e8"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425adbebebb26c2ba1eba3b58180175bd3e8">Ms::UndoCommand::Filter::AddElementLinked</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_afdd8a358b8e40b9e02bca11e9fbb8829"><div class="ttname"><a href="classMs_1_1Staff.html#afdd8a358b8e40b9e02bca11e9fbb8829">Ms::Staff::isTabStaff</a></div><div class="ttdeci">bool isTabStaff(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l01516">staff.cpp:1516</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ab35c14f602fd1936a0f223df94639f37"><div class="ttname"><a href="classMs_1_1Score.html#ab35c14f602fd1936a0f223df94639f37">Ms::Score::setPlaylistDirty</a></div><div class="ttdeci">virtual void setPlaylistDirty()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l00735">score.cpp:735</a></div></div>
<div class="ttc" id="classMs_1_1RemoveExcerpt_html_ae2cebaf542796930849e880bf7457f18"><div class="ttname"><a href="classMs_1_1RemoveExcerpt.html#ae2cebaf542796930849e880bf7457f18">Ms::RemoveExcerpt::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02043">undo.cpp:2043</a></div></div>
<div class="ttc" id="rehearsalmark_8h_html"><div class="ttname"><a href="rehearsalmark_8h.html">rehearsalmark.h</a></div></div>
<div class="ttc" id="classMs_1_1KeySig_html"><div class="ttname"><a href="classMs_1_1KeySig.html">Ms::KeySig</a></div><div class="ttdoc">The KeySig class represents a Key Signature on a staff. </div><div class="ttdef"><b>Definition:</b> <a href="keysig_8h_source.html#l00031">keysig.h:31</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_adcee742b469628e08ce8bb978dea8253"><div class="ttname"><a href="classMs_1_1UndoMacro.html#adcee742b469628e08ce8bb978dea8253">Ms::UndoMacro::undoSelectionInfo</a></div><div class="ttdeci">SelectionInfo undoSelectionInfo</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00154">undo.h:154</a></div></div>
<div class="ttc" id="classMs_1_1SwapCR_html_a6623c55c1f9977d2a81f6e3f5f047605"><div class="ttname"><a href="classMs_1_1SwapCR.html#a6623c55c1f9977d2a81f6e3f5f047605">Ms::SwapCR::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02175">undo.cpp:2175</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a369f7689a1a21e8b0aa07e5bbacb3d76"><div class="ttname"><a href="classMs_1_1Score.html#a369f7689a1a21e8b0aa07e5bbacb3d76">Ms::Score::styleB</a></div><div class="ttdeci">bool styleB(Sid idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00898">score.h:898</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2eae3c647ad6cb1602e679b6f4e3d5e8e32"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2eae3c647ad6cb1602e679b6f4e3d5e8e32">Ms::Sid::spatium</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ad85cf645f375f12d682c28243dedf029"><div class="ttname"><a href="classMs_1_1Note.html#ad85cf645f375f12d682c28243dedf029">Ms::Note::spannerFor</a></div><div class="ttdeci">const QVector&lt; Spanner * &gt; &amp; spannerFor() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00486">note.h:486</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_aa7ea8f4f050ba44ed0cf95ad4f5d3c06"><div class="ttname"><a href="classMs_1_1Score.html#aa7ea8f4f050ba44ed0cf95ad4f5d3c06">Ms::Score::ntracks</a></div><div class="ttdeci">int ntracks() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00654">score.h:654</a></div></div>
<div class="ttc" id="structMs_1_1TextEditData_html"><div class="ttname"><a href="structMs_1_1TextEditData.html">Ms::TextEditData</a></div><div class="ttdef"><b>Definition:</b> <a href="textedit_8h_source.html#l00026">textedit.h:26</a></div></div>
<div class="ttc" id="sequencer_8h_html"><div class="ttname"><a href="sequencer_8h.html">sequencer.h</a></div></div>
<div class="ttc" id="classMs_1_1Part_html_a3416c1062c8d4edc6247c8bdd11e00d8"><div class="ttname"><a href="classMs_1_1Part.html#a3416c1062c8d4edc6247c8bdd11e00d8">Ms::Part::staff</a></div><div class="ttdeci">Staff * staff(int idx) const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2part_8cpp_source.html#l00059">part.cpp:59</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a0d1ae9f37319e1313653c2ece25f094a"><div class="ttname"><a href="classMs_1_1Staff.html#a0d1ae9f37319e1313653c2ece25f094a">Ms::Staff::nextKeyTick</a></div><div class="ttdeci">Fraction nextKeyTick(const Fraction &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l00602">staff.cpp:602</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a14581354d9bfc2c39c7dafbed79403da"><div class="ttname"><a href="classMs_1_1Element.html#a14581354d9bfc2c39c7dafbed79403da">Ms::Element::staff</a></div><div class="ttdeci">Staff * staff() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00276">element.cpp:276</a></div></div>
<div class="ttc" id="classMs_1_1AddElement_html_a1e2c10c5bef9616b96d7b1090f727600"><div class="ttname"><a href="classMs_1_1AddElement.html#a1e2c10c5bef9616b96d7b1090f727600">Ms::AddElement::cleanup</a></div><div class="ttdeci">virtual void cleanup(bool)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00689">undo.cpp:689</a></div></div>
<div class="ttc" id="classMs_1_1RemoveElement_html"><div class="ttname"><a href="classMs_1_1RemoveElement.html">Ms::RemoveElement</a></div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00571">undo.h:571</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a8485856ee1248554f7223cbac4397048"><div class="ttname"><a href="classMs_1_1Note.html#a8485856ee1248554f7223cbac4397048">Ms::Note::ValueType</a></div><div class="ttdeci">ValueType</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00238">note.h:238</a></div></div>
<div class="ttc" id="classMs_1_1RemoveStaves_html_a4e2ad5343eb18425065e5edeb6750290"><div class="ttname"><a href="classMs_1_1RemoveStaves.html#a4e2ad5343eb18425065e5edeb6750290">Ms::RemoveStaves::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01292">undo.cpp:1292</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a19693586b624485ae120b2d644ddbf22"><div class="ttname"><a href="classMs_1_1Staff.html#a19693586b624485ae120b2d644ddbf22">Ms::Staff::rstaff</a></div><div class="ttdeci">int rstaff() const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l01314">staff.cpp:1314</a></div></div>
<div class="ttc" id="classMs_1_1System_html_a49acc01f1c60e0562ee64bed9a3cb93d"><div class="ttname"><a href="classMs_1_1System.html#a49acc01f1c60e0562ee64bed9a3cb93d">Ms::System::removeMeasure</a></div><div class="ttdeci">void removeMeasure(MeasureBase *)</div><div class="ttdef"><b>Definition:</b> <a href="system_8cpp_source.html#l00144">system.cpp:144</a></div></div>
<div class="ttc" id="classMs_1_1ChangeInstrumentShort_html_a2a2bec90767aeeb96bdbc466139bfb50"><div class="ttname"><a href="classMs_1_1ChangeInstrumentShort.html#a2a2bec90767aeeb96bdbc466139bfb50">Ms::ChangeInstrumentShort::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01427">undo.cpp:1427</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_afe3fa6e1b09168647dc041eba019443c"><div class="ttname"><a href="classMs_1_1Score.html#afe3fa6e1b09168647dc041eba019443c">Ms::Score::deleteLater</a></div><div class="ttdeci">void deleteLater(ScoreElement *e)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00781">score.h:781</a></div></div>
<div class="ttc" id="rest_8h_html"><div class="ttname"><a href="rest_8h.html">rest.h</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_aabf6157f4dbda5a9b86a9c4cae8c167f"><div class="ttname"><a href="classMs_1_1Selection.html#aabf6157f4dbda5a9b86a9c4cae8c167f">Ms::Selection::elements</a></div><div class="ttdeci">const QList&lt; Element * &gt; &amp; elements() const</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00189">select.h:189</a></div></div>
<div class="ttc" id="classMs_1_1MStyle_html"><div class="ttname"><a href="classMs_1_1MStyle.html">Ms::MStyle</a></div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2style_8h_source.html#l01448">style.h:1448</a></div></div>
<div class="ttc" id="namespaceMs_html_a5388667586001e845380d0f937ec3a09aa530a822f39f1a90ef065653ada89f8d"><div class="ttname"><a href="namespaceMs.html#a5388667586001e845380d0f937ec3a09aa530a822f39f1a90ef065653ada89f8d">Ms::CTRL_LBANK</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00097">event.h:97</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a69bb5a25e3e1c714788540ce57f92a71"><div class="ttname"><a href="classMs_1_1Score.html#a69bb5a25e3e1c714788540ce57f92a71">Ms::Score::style</a></div><div class="ttdeci">virtual MStyle &amp; style()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00887">score.h:887</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_a6d06fa10ad7b12d5ebf2aa3f04a257a0"><div class="ttname"><a href="classMs_1_1UndoStack.html#a6d06fa10ad7b12d5ebf2aa3f04a257a0">Ms::UndoStack::setClean</a></div><div class="ttdeci">void setClean()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00445">undo.cpp:445</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a3888570668d289ec09dd850d4c169e1c"><div class="ttname"><a href="classMs_1_1Score.html#a3888570668d289ec09dd850d4c169e1c">Ms::Score::firstMeasure</a></div><div class="ttdeci">Ms::Measure * firstMeasure() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l01609">score.cpp:1609</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a7c3fae86b0c593d95eb2acf44348b425a88bc403c4844cd9977762fcbb42fbd81"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425a88bc403c4844cd9977762fcbb42fbd81">Ms::UndoCommand::Filter::RemoveElement</a></div></div>
<div class="ttc" id="textline_8h_html"><div class="ttname"><a href="textline_8h.html">textline.h</a></div></div>
<div class="ttc" id="classMs_1_1KeySigEvent_html"><div class="ttname"><a href="classMs_1_1KeySigEvent.html">Ms::KeySigEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="key_8h_source.html#l00095">key.h:95</a></div></div>
<div class="ttc" id="spanner_8h_html"><div class="ttname"><a href="spanner_8h.html">spanner.h</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a50e66c130bd475554fef1131c68ee4bb"><div class="ttname"><a href="classMs_1_1Element.html#a50e66c130bd475554fef1131c68ee4bb">Ms::Element::contains</a></div><div class="ttdeci">bool contains(const QPointF &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="element_8cpp_source.html#l00556">element.cpp:556</a></div></div>
<div class="ttc" id="classMs_1_1MScore_html_a9f928e6b1fb12e31476d3803c3266f50"><div class="ttname"><a href="classMs_1_1MScore.html#a9f928e6b1fb12e31476d3803c3266f50">Ms::MScore::seq</a></div><div class="ttdeci">static Sequencer * seq</div><div class="ttdef"><b>Definition:</b> <a href="mscore_8h_source.html#l00372">mscore.h:372</a></div></div>
<div class="ttc" id="classMs_1_1FretClear_html_ab6c18163ea80d6904dc2b3e163e4b97d"><div class="ttname"><a href="classMs_1_1FretClear.html#ab6c18163ea80d6904dc2b3e163e4b97d">Ms::FretClear::undo</a></div><div class="ttdeci">void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02628">undo.cpp:2628</a></div></div>
<div class="ttc" id="classMs_1_1ChangeVelocity_html_a9d2d560043ac3b23f95f0c010c83f0a4"><div class="ttname"><a href="classMs_1_1ChangeVelocity.html#a9d2d560043ac3b23f95f0c010c83f0a4">Ms::ChangeVelocity::veloOffset</a></div><div class="ttdeci">int veloOffset</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00757">undo.h:757</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html"><div class="ttname"><a href="classMs_1_1UndoMacro.html">Ms::UndoMacro</a></div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00141">undo.h:141</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ab2347f55630666c0a3e699b6c91bbf80"><div class="ttname"><a href="classMs_1_1Score.html#ab2347f55630666c0a3e699b6c91bbf80">Ms::Score::measures</a></div><div class="ttdeci">MeasureBaseList * measures()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01018">score.h:1018</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_acea099f7ef736bea0b2f70cc6b12e341"><div class="ttname"><a href="classMs_1_1UndoStack.html#acea099f7ef736bea0b2f70cc6b12e341">Ms::UndoStack::push1</a></div><div class="ttdeci">void push1(UndoCommand *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00315">undo.cpp:315</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a861162fe6c105a00dfec5a5b70a690a5"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a861162fe6c105a00dfec5a5b70a690a5">Ms::UndoCommand::flip</a></div><div class="ttdeci">virtual void flip(EditData *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00102">undo.h:102</a></div></div>
<div class="ttc" id="namespaceMs_html_a7efd77a58797a375f3d6d631e51b204e"><div class="ttname"><a href="namespaceMs.html#a7efd77a58797a375f3d6d631e51b204e">Ms::searchTieNote</a></div><div class="ttdeci">Note * searchTieNote(Note *note)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2utils_8cpp_source.html#l00772">utils.cpp:772</a></div></div>
<div class="ttc" id="classMs_1_1ExchangeVoice_html_aaf821864989c7b5b5e903778f779e8a2"><div class="ttname"><a href="classMs_1_1ExchangeVoice.html#aaf821864989c7b5b5e903778f779e8a2">Ms::ExchangeVoice::ExchangeVoice</a></div><div class="ttdeci">ExchangeVoice(Measure *, int val1, int val2, int staff)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01397">undo.cpp:1397</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a7e2a07630dad78f0911a16be88e16729"><div class="ttname"><a href="classMs_1_1Note.html#a7e2a07630dad78f0911a16be88e16729">Ms::Note::spannerBack</a></div><div class="ttdeci">const QVector&lt; Spanner * &gt; &amp; spannerBack() const</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00487">note.h:487</a></div></div>
<div class="ttc" id="classMs_1_1DurationElement_html"><div class="ttname"><a href="classMs_1_1DurationElement.html">Ms::DurationElement</a></div><div class="ttdoc">Virtual base class for Chord, Rest and Tuplet. </div><div class="ttdef"><b>Definition:</b> <a href="duration_8h_source.html#l00034">duration.h:34</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_ab4986d1b4f0d45b8e84cf52c46885c36"><div class="ttname"><a href="classMs_1_1Element.html#ab4986d1b4f0d45b8e84cf52c46885c36">Ms::Element::track</a></div><div class="ttdeci">int track() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00351">element.h:351</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStaff_html_a4a16df51049161c63528ef1525c513a4"><div class="ttname"><a href="classMs_1_1ChangeStaff.html#a4a16df51049161c63528ef1525c513a4">Ms::ChangeStaff::ChangeStaff</a></div><div class="ttdeci">ChangeStaff(Staff *, bool invisible, ClefTypeList _clefType, qreal userDist, Staff::HideMode _hideMode, bool _showIfEmpty, bool _cutaway, bool hide, bool mergeRests)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01555">undo.cpp:1555</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStyle_html_ac38cf592c248eccccd0177ae63e40911"><div class="ttname"><a href="classMs_1_1ChangeStyle.html#ac38cf592c248eccccd0177ae63e40911">Ms::ChangeStyle::overlap</a></div><div class="ttdeci">bool overlap</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00696">undo.h:696</a></div></div>
<div class="ttc" id="classMs_1_1Tie_html"><div class="ttname"><a href="classMs_1_1Tie.html">Ms::Tie</a></div><div class="ttdoc">a Tie has a Note as startElement/endElement </div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2tie_8h_source.html#l00060">tie.h:60</a></div></div>
<div class="ttc" id="classMs_1_1AddElement_html_a590df0e3c8282928f7bacc902b90aeff"><div class="ttname"><a href="classMs_1_1AddElement.html#a590df0e3c8282928f7bacc902b90aeff">Ms::AddElement::AddElement</a></div><div class="ttdeci">AddElement(Element *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00680">undo.cpp:680</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a8079a2be644aa231ba874647bbd871fd"><div class="ttname"><a href="classMs_1_1Note.html#a8079a2be644aa231ba874647bbd871fd">Ms::Note::removeSpannerFor</a></div><div class="ttdeci">bool removeSpannerFor(Spanner *e)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00492">note.h:492</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ab28ccdab6936e04e389008607ad70a52"><div class="ttname"><a href="classMs_1_1Score.html#ab28ccdab6936e04e389008607ad70a52">Ms::Score::fixTicks</a></div><div class="ttdeci">void fixTicks()</div><div class="ttdoc">This is needed after. </div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l00420">score.cpp:420</a></div></div>
<div class="ttc" id="namespaceMs_html_a24593d5bc01ac95fdbec3d354d258894a4fb26ab17477cfbc62b748034c0de041"><div class="ttname"><a href="namespaceMs.html#a24593d5bc01ac95fdbec3d354d258894a4fb26ab17477cfbc62b748034c0de041">Ms::SegmentType::Clef</a></div></div>
<div class="ttc" id="classMs_1_1EditText_html_a5fcaa446957ff3282e992ba6048afd5c"><div class="ttname"><a href="classMs_1_1EditText.html#a5fcaa446957ff3282e992ba6048afd5c">Ms::EditText::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01458">undo.cpp:1458</a></div></div>
<div class="ttc" id="classMs_1_1Page_html_a4406043135c1ea0028f010710ebe9774"><div class="ttname"><a href="classMs_1_1Page.html#a4406043135c1ea0028f010710ebe9774">Ms::Page::systems</a></div><div class="ttdeci">const QList&lt; System * &gt; &amp; systems() const</div><div class="ttdef"><b>Definition:</b> <a href="page_8h_source.html#l00052">page.h:52</a></div></div>
<div class="ttc" id="classMs_1_1Spanner_html"><div class="ttname"><a href="classMs_1_1Spanner.html">Ms::Spanner</a></div><div class="ttdoc">Virtual base class for slurs, ties, lines etc. </div><div class="ttdef"><b>Definition:</b> <a href="spanner_8h_source.html#l00123">spanner.h:123</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_af3fbc117c926f4bc9bd5f0ee3e8ad478"><div class="ttname"><a href="classMs_1_1Tremolo.html#af3fbc117c926f4bc9bd5f0ee3e8ad478">Ms::Tremolo::chord1</a></div><div class="ttdeci">Chord * chord1() const</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00083">tremolo.h:83</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_af07644da1c840c9edf403312f8da17d4"><div class="ttname"><a href="classMs_1_1UndoStack.html#af07644da1c840c9edf403312f8da17d4">Ms::UndoStack::mergeCommands</a></div><div class="ttdeci">void mergeCommands(int startIdx)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00354">undo.cpp:354</a></div></div>
<div class="ttc" id="namespaceMs_html_a643c984a4eff129e0e5b57bbf7337c90"><div class="ttname"><a href="namespaceMs.html#a643c984a4eff129e0e5b57bbf7337c90">Ms::undoAddTuplet</a></div><div class="ttdeci">static void undoAddTuplet(DurationElement *cr)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00714">undo.cpp:714</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea94b41214aece08c118a19d94f0b7f42f"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea94b41214aece08c118a19d94f0b7f42f">Ms::Sid::chordStyle</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ab39888225a9fe0533558a379b1545cb1"><div class="ttname"><a href="classMs_1_1Score.html#ab39888225a9fe0533558a379b1545cb1">Ms::Score::nstaves</a></div><div class="ttdeci">int nstaves() const</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00653">score.h:653</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a3679cdb6351e67e9f482fa9a7fb3d466"><div class="ttname"><a href="classMs_1_1Element.html#a3679cdb6351e67e9f482fa9a7fb3d466">Ms::Element::generated</a></div><div class="ttdeci">bool generated() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00234">element.h:234</a></div></div>
<div class="ttc" id="classMs_1_1InsertTimeUnmanagedSpanner_html_a11901891c00226c8bc3cf34287e3cade"><div class="ttname"><a href="classMs_1_1InsertTimeUnmanagedSpanner.html#a11901891c00226c8bc3cf34287e3cade">Ms::InsertTimeUnmanagedSpanner::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02422">undo.cpp:2422</a></div></div>
<div class="ttc" id="classMs_1_1ChangePart_html_a1a11a2af9f94354047bf4f3a92aa155a"><div class="ttname"><a href="classMs_1_1ChangePart.html#a1a11a2af9f94354047bf4f3a92aa155a">Ms::ChangePart::ChangePart</a></div><div class="ttdeci">ChangePart(Part *, Instrument *, const QString &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01634">undo.cpp:1634</a></div></div>
<div class="ttc" id="classMs_1_1Part_html_a0c9bf8a8dafbf8abba9b39e45aba003e"><div class="ttname"><a href="classMs_1_1Part.html#a0c9bf8a8dafbf8abba9b39e45aba003e">Ms::Part::removeStaff</a></div><div class="ttdeci">void removeStaff(Staff *)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2part_8cpp_source.html#l00230">part.cpp:230</a></div></div>
<div class="ttc" id="classMs_1_1EditText_html_ae995c1d9f1136c2ea6a44c8033be6e23"><div class="ttname"><a href="classMs_1_1EditText.html#ae995c1d9f1136c2ea6a44c8033be6e23">Ms::EditText::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01472">undo.cpp:1472</a></div></div>
<div class="ttc" id="classMs_1_1RemovePart_html_ab523c10e85981d9e2a3d0dd71a29d956"><div class="ttname"><a href="classMs_1_1RemovePart.html#ab523c10e85981d9e2a3d0dd71a29d956">Ms::RemovePart::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00978">undo.cpp:978</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_a23039eb8444ab68336b894baac9c2968"><div class="ttname"><a href="classMs_1_1UndoStack.html#a23039eb8444ab68336b894baac9c2968">Ms::UndoStack::~UndoStack</a></div><div class="ttdeci">~UndoStack()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00262">undo.cpp:262</a></div></div>
<div class="ttc" id="classMs_1_1InsertStaff_html_a20468d34c1e856ebc71e9d2554deca8d"><div class="ttname"><a href="classMs_1_1InsertStaff.html#a20468d34c1e856ebc71e9d2554deca8d">Ms::InsertStaff::InsertStaff</a></div><div class="ttdeci">InsertStaff(Staff *, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00992">undo.cpp:992</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a7e84d54e5b22eeeb9646c8a86fc2a0cb"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a7e84d54e5b22eeeb9646c8a86fc2a0cb">Ms::UndoCommand::isFiltered</a></div><div class="ttdeci">virtual bool isFiltered(Filter, const Element *) const</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00129">undo.h:129</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_a742639165e73cdfbe0a41343bc5910c2"><div class="ttname"><a href="classMs_1_1UndoStack.html#a742639165e73cdfbe0a41343bc5910c2">Ms::UndoStack::remove</a></div><div class="ttdeci">void remove(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00329">undo.cpp:329</a></div></div>
<div class="ttc" id="classMs_1_1RemoveBracket_html_a3cdd3dce0665b06a64864d45c55fa908"><div class="ttname"><a href="classMs_1_1RemoveBracket.html#a3cdd3dce0665b06a64864d45c55fa908">Ms::RemoveBracket::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02319">undo.cpp:2319</a></div></div>
<div class="ttc" id="note_8h_html"><div class="ttname"><a href="note_8h.html">note.h</a></div><div class="ttdoc">Definition of classes Note and NoteHead. </div></div>
<div class="ttc" id="chord_8h_html"><div class="ttname"><a href="chord_8h.html">chord.h</a></div><div class="ttdoc">Definition of classes Chord, HelpLine and NoteList. </div></div>
<div class="ttc" id="classMs_1_1Segment_html_a8a396189ef9375898066fb2d30952d79"><div class="ttname"><a href="classMs_1_1Segment.html#a8a396189ef9375898066fb2d30952d79">Ms::Segment::rtick</a></div><div class="ttdeci">Fraction rtick() const override</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00160">segment.h:160</a></div></div>
<div class="ttc" id="namespaceMs_html_a8886182157e4e29202c1b22bbdc76ecb"><div class="ttname"><a href="namespaceMs.html#a8886182157e4e29202c1b22bbdc76ecb">Ms::toSpannerSegment</a></div><div class="ttdeci">static SpannerSegment * toSpannerSegment(ScoreElement *e)</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8h_source.html#l00475">scoreElement.h:475</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStyle_html_a6702966efdb89e61641d2cc82fd13e44"><div class="ttname"><a href="classMs_1_1ChangeStyle.html#a6702966efdb89e61641d2cc82fd13e44">Ms::ChangeStyle::ChangeStyle</a></div><div class="ttdeci">ChangeStyle(Score *, const MStyle &amp;, const bool overlapOnly=false)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01672">undo.cpp:1672</a></div></div>
<div class="ttc" id="classMs_1_1ChangeChordStaffMove_html_a7e76174aa22efdafa651f95b92bd2b65"><div class="ttname"><a href="classMs_1_1ChangeChordStaffMove.html#a7e76174aa22efdafa651f95b92bd2b65">Ms::ChangeChordStaffMove::chordRest</a></div><div class="ttdeci">ChordRest * chordRest</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00741">undo.h:741</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMetaTags_html_ad994e04341f1b8bf5ec66e56e5417f5e"><div class="ttname"><a href="classMs_1_1ChangeMetaTags.html#ad994e04341f1b8bf5ec66e56e5417f5e">Ms::ChangeMetaTags::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02543">undo.cpp:2543</a></div></div>
<div class="ttc" id="classMs_1_1FretClear_html_a84846d3797adc369b26e56cf61105f25"><div class="ttname"><a href="classMs_1_1FretClear.html#a84846d3797adc369b26e56cf61105f25">Ms::FretClear::redo</a></div><div class="ttdeci">void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02620">undo.cpp:2620</a></div></div>
<div class="ttc" id="classMs_1_1InsertMStaff_html_a41fb1849ff2059fd3b9775fa710a2a03"><div class="ttname"><a href="classMs_1_1InsertMStaff.html#a41fb1849ff2059fd3b9775fa710a2a03">Ms::InsertMStaff::InsertMStaff</a></div><div class="ttdeci">InsertMStaff(Measure *, MStaff *, int)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01032">undo.cpp:1032</a></div></div>
<div class="ttc" id="structMs_1_1MidiPatch_html_a344b15c8a58e629c6240c7a484953531"><div class="ttname"><a href="structMs_1_1MidiPatch.html#a344b15c8a58e629c6240c7a484953531">Ms::MidiPatch::synti</a></div><div class="ttdeci">QString synti</div><div class="ttdef"><b>Definition:</b> <a href="midipatch_8h_source.html#l00031">midipatch.h:31</a></div></div>
<div class="ttc" id="namespaceMs_html_a462d3365be5b78dc721f068ff5d97ecf"><div class="ttname"><a href="namespaceMs.html#a462d3365be5b78dc721f068ff5d97ecf">Ms::undoRemoveTuplet</a></div><div class="ttdeci">static void undoRemoveTuplet(DurationElement *cr)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00701">undo.cpp:701</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStyle_html_a1594c81b142e0ea96247dac287e4c2b1"><div class="ttname"><a href="classMs_1_1ChangeStyle.html#a1594c81b142e0ea96247dac287e4c2b1">Ms::ChangeStyle::undo</a></div><div class="ttdeci">void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01696">undo.cpp:1696</a></div></div>
<div class="ttc" id="classMs_1_1Chord_html_a20163c8fc284ff06c00570f4fd26fb7a"><div class="ttname"><a href="classMs_1_1Chord.html#a20163c8fc284ff06c00570f4fd26fb7a">Ms::Chord::sortNotes</a></div><div class="ttdeci">void sortNotes()</div><div class="ttdef"><b>Definition:</b> <a href="chord_8cpp_source.html#l03081">chord.cpp:3081</a></div></div>
<div class="ttc" id="classMs_1_1Spanner_html_a523e1a2fb656322a4dba0440271bbd12"><div class="ttname"><a href="classMs_1_1Spanner.html#a523e1a2fb656322a4dba0440271bbd12">Ms::Spanner::track2</a></div><div class="ttdeci">int track2() const</div><div class="ttdef"><b>Definition:</b> <a href="spanner_8h_source.html#l00183">spanner.h:183</a></div></div>
<div class="ttc" id="classMs_1_1RemovePart_html_aaedb202ee748c018516cbbea41246396"><div class="ttname"><a href="classMs_1_1RemovePart.html#aaedb202ee748c018516cbbea41246396">Ms::RemovePart::RemovePart</a></div><div class="ttdeci">RemovePart(Part *, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00972">undo.cpp:972</a></div></div>
<div class="ttc" id="classMs_1_1InsertStaff_html_a8277b8b44de2d04c6c23676b8e4bc601"><div class="ttname"><a href="classMs_1_1InsertStaff.html#a8277b8b44de2d04c6c23676b8e4bc601">Ms::InsertStaff::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00998">undo.cpp:998</a></div></div>
<div class="ttc" id="classMs_1_1StaffType_html"><div class="ttname"><a href="classMs_1_1StaffType.html">Ms::StaffType</a></div><div class="ttdef"><b>Definition:</b> <a href="stafftype_8h_source.html#l00177">stafftype.h:177</a></div></div>
<div class="ttc" id="classMs_1_1ChangeBracketProperty_html_abab3363a242552c1072f1e16f135d747"><div class="ttname"><a href="classMs_1_1ChangeBracketProperty.html#abab3363a242552c1072f1e16f135d747">Ms::ChangeBracketProperty::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02268">undo.cpp:2268</a></div></div>
<div class="ttc" id="system_8h_html"><div class="ttname"><a href="system_8h.html">system.h</a></div><div class="ttdoc">Definition of classes SysStaff and System. </div></div>
<div class="ttc" id="volta_8h_html"><div class="ttname"><a href="volta_8h.html">volta.h</a></div></div>
<div class="ttc" id="classMs_1_1KeySig_html_aaaf4f96a1788a5bdb3689dc2df8fb60d"><div class="ttname"><a href="classMs_1_1KeySig.html#aaaf4f96a1788a5bdb3689dc2df8fb60d">Ms::KeySig::setKeySigEvent</a></div><div class="ttdeci">void setKeySigEvent(const KeySigEvent &amp;e)</div><div class="ttdef"><b>Definition:</b> <a href="keysig_8h_source.html#l00065">keysig.h:65</a></div></div>
<div class="ttc" id="classMs_1_1RemoveStaff_html_a289a8e8724d3abc2fd61716c8cc9a8a5"><div class="ttname"><a href="classMs_1_1RemoveStaff.html#a289a8e8724d3abc2fd61716c8cc9a8a5">Ms::RemoveStaff::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01018">undo.cpp:1018</a></div></div>
<div class="ttc" id="classMs_1_1ChangeFretting_html_a415dde15ba200f0007d2829d042836fa"><div class="ttname"><a href="classMs_1_1ChangeFretting.html#a415dde15ba200f0007d2829d042836fa">Ms::ChangeFretting::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01173">undo.cpp:1173</a></div></div>
<div class="ttc" id="instrchange_8h_html"><div class="ttname"><a href="instrchange_8h.html">instrchange.h</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStyle_html_a1f96feded5642b1b076b4dd48bd93f24"><div class="ttname"><a href="classMs_1_1ChangeStyle.html#a1f96feded5642b1b076b4dd48bd93f24">Ms::ChangeStyle::score</a></div><div class="ttdeci">Score * score</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00694">undo.h:694</a></div></div>
<div class="ttc" id="bracket_8h_html"><div class="ttname"><a href="bracket_8h.html">bracket.h</a></div></div>
<div class="ttc" id="classMs_1_1ChordList_html_ad564d20f0749fd88446f9c1c8174be26"><div class="ttname"><a href="classMs_1_1ChordList.html#ad564d20f0749fd88446f9c1c8174be26">Ms::ChordList::unload</a></div><div class="ttdeci">void unload()</div><div class="ttdef"><b>Definition:</b> <a href="chordlist_8cpp_source.html#l01908">chordlist.cpp:1908</a></div></div>
<div class="ttc" id="classMs_1_1MeasureBase_html_a362a1699d39b7f1684c13a1a8c75c376"><div class="ttname"><a href="classMs_1_1MeasureBase.html#a362a1699d39b7f1684c13a1a8c75c376">Ms::MeasureBase::prev</a></div><div class="ttdeci">MeasureBase * prev() const</div><div class="ttdef"><b>Definition:</b> <a href="measurebase_8h_source.html#l00088">measurebase.h:88</a></div></div>
<div class="ttc" id="classMs_1_1Page_html"><div class="ttname"><a href="classMs_1_1Page.html">Ms::Page</a></div><div class="ttdef"><b>Definition:</b> <a href="page_8h_source.html#l00034">page.h:34</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea7552da4bbebe435dd607326f2d11281e"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea7552da4bbebe435dd607326f2d11281e">Ms::Sid::chordDescriptionFile</a></div></div>
<div class="ttc" id="classMs_1_1ChangeBend_html_ac0d5c034686ce8465fd2c318d1e880aa"><div class="ttname"><a href="classMs_1_1ChangeBend.html#ac0d5c034686ce8465fd2c318d1e880aa">Ms::ChangeBend::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02074">undo.cpp:2074</a></div></div>
<div class="ttc" id="structMs_1_1MidiPatch_html_a27952fb45360b530f1408c23d3a1f16d"><div class="ttname"><a href="structMs_1_1MidiPatch.html#a27952fb45360b530f1408c23d3a1f16d">Ms::MidiPatch::prog</a></div><div class="ttdeci">int prog</div><div class="ttdef"><b>Definition:</b> <a href="midipatch_8h_source.html#l00032">midipatch.h:32</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a867b372fb90830b22bfe0d26d0675138"><div class="ttname"><a href="classMs_1_1Note.html#a867b372fb90830b22bfe0d26d0675138">Ms::Note::addSpannerBack</a></div><div class="ttdeci">void addSpannerBack(Spanner *e)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00489">note.h:489</a></div></div>
<div class="ttc" id="classMs_1_1DurationElement_html_a5eae2d4a8a4a01245e2a18d97ee7988a"><div class="ttname"><a href="classMs_1_1DurationElement.html#a5eae2d4a8a4a01245e2a18d97ee7988a">Ms::DurationElement::tuplet</a></div><div class="ttdeci">Tuplet * tuplet() const</div><div class="ttdef"><b>Definition:</b> <a href="duration_8h_source.html#l00050">duration.h:50</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html"><div class="ttname"><a href="classMs_1_1Staff.html">Ms::Staff</a></div><div class="ttdoc">Global staff data not directly related to drawing. </div><div class="ttdef"><b>Definition:</b> <a href="staff_8h_source.html#l00063">staff.h:63</a></div></div>
<div class="ttc" id="classMs_1_1ChangeDrumset_html_afc248f4c9d91b36503d8129188b03e48"><div class="ttname"><a href="classMs_1_1ChangeDrumset.html#afc248f4c9d91b36503d8129188b03e48">Ms::ChangeDrumset::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02554">undo.cpp:2554</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a1c4c00c6b1052c6c122f5fc665ec8a20"><div class="ttname"><a href="classMs_1_1Segment.html#a1c4c00c6b1052c6c122f5fc665ec8a20">Ms::Segment::next</a></div><div class="ttdeci">Segment * next() const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00085">segment.h:85</a></div></div>
<div class="ttc" id="slur_8h_html"><div class="ttname"><a href="slur_8h.html">slur.h</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a850e4c72c907bce1aed4b7d318ddf626"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a850e4c72c907bce1aed4b7d318ddf626">Ms::UndoCommand::filterChildren</a></div><div class="ttdeci">void filterChildren(UndoCommand::Filter f, Element *target)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00219">undo.cpp:219</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_a49c46acba01879286e5d86a682653803"><div class="ttname"><a href="classMs_1_1UndoMacro.html#a49c46acba01879286e5d86a682653803">Ms::UndoMacro::applySelectionInfo</a></div><div class="ttdeci">static void applySelectionInfo(const SelectionInfo &amp;, Selection &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00515">undo.cpp:515</a></div></div>
<div class="ttc" id="classMs_1_1ScoreLoad_html_a54ee450c96889165b1dc63e4dc1ea84b"><div class="ttname"><a href="classMs_1_1ScoreLoad.html#a54ee450c96889165b1dc63e4dc1ea84b">Ms::ScoreLoad::loading</a></div><div class="ttdeci">static bool loading()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01456">score.h:1456</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_aa7194b0d69b582e8964eefdfa6db9e2c"><div class="ttname"><a href="classMs_1_1UndoStack.html#aa7194b0d69b582e8964eefdfa6db9e2c">Ms::UndoStack::push</a></div><div class="ttdeci">void push(UndoCommand *, EditData *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00287">undo.cpp:287</a></div></div>
<div class="ttc" id="classMs_1_1CloneVoice_html_a0281a632827e7dc05db33fddde01c02e"><div class="ttname"><a href="classMs_1_1CloneVoice.html#a0281a632827e7dc05db33fddde01c02e">Ms::CloneVoice::CloneVoice</a></div><div class="ttdeci">CloneVoice(Segment *sf, const Fraction &amp;lTick, Segment *d, int strack, int dtrack, int otrack, bool linked=true)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00577">undo.cpp:577</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ad66b0f2da90900f71d32d390cb1286cd"><div class="ttname"><a href="classMs_1_1Score.html#ad66b0f2da90900f71d32d390cb1286cd">Ms::Score::spatiumChanged</a></div><div class="ttdeci">void spatiumChanged(qreal oldValue, qreal newValue)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l01242">score.cpp:1242</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a979b6e1bc10cf790e755aa8641feb4cf"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a979b6e1bc10cf790e755aa8641feb4cf">Ms::ScoreElement::isTextBase</a></div><div class="ttdeci">bool isTextBase() const</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8cpp_source.html#l00844">scoreElement.cpp:844</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_ac07831538c8525825635e07bd69bfe28"><div class="ttname"><a href="classMs_1_1Note.html#ac07831538c8525825635e07bd69bfe28">Ms::Note::setVeloType</a></div><div class="ttdeci">void setVeloType(ValueType v)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00465">note.h:465</a></div></div>
<div class="ttc" id="classMs_1_1MidiCoreEvent_html_a6134f996846a04ff74e444652b7bcaf0"><div class="ttname"><a href="classMs_1_1MidiCoreEvent.html#a6134f996846a04ff74e444652b7bcaf0">Ms::MidiCoreEvent::setType</a></div><div class="ttdeci">void setType(uchar t)</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00168">event.h:168</a></div></div>
<div class="ttc" id="namespaceMs_html_a5388667586001e845380d0f937ec3a09a60457d33ab43ffc75ae2882afd53eb4f"><div class="ttname"><a href="namespaceMs.html#a5388667586001e845380d0f937ec3a09a60457d33ab43ffc75ae2882afd53eb4f">Ms::CTRL_PROGRAM</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00138">event.h:138</a></div></div>
<div class="ttc" id="classMs_1_1InsertStaff_html_a43c7d604cfba1aefd9a1b02bf0eca847"><div class="ttname"><a href="classMs_1_1InsertStaff.html#a43c7d604cfba1aefd9a1b02bf0eca847">Ms::InsertStaff::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01003">undo.cpp:1003</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea61396a06ef6f86a7b7cfa631fc2b60f1"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea61396a06ef6f86a7b7cfa631fc2b60f1">Ms::Sid::chordModifierAdjust</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_ad758bc5c1eadc3b1d99b4a79f07f60cb"><div class="ttname"><a href="classMs_1_1Selection.html#ad758bc5c1eadc3b1d99b4a79f07f60cb">Ms::Selection::isList</a></div><div class="ttdeci">bool isList() const</div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00180">select.h:180</a></div></div>
<div class="ttc" id="namespaceMs_html_aa17fec62ae82f5ceafe5b2f86656724b"><div class="ttname"><a href="namespaceMs.html#aa17fec62ae82f5ceafe5b2f86656724b">Ms::updateNoteLines</a></div><div class="ttdeci">void updateNoteLines(Segment *, int track)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00094">undo.cpp:94</a></div></div>
<div class="ttc" id="classMs_1_1ChangeNoteEvents_html_a1fbb656352ab45b34ad2f3210728abab"><div class="ttname"><a href="classMs_1_1ChangeNoteEvents.html#a1fbb656352ab45b34ad2f3210728abab">Ms::ChangeNoteEvents::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02099">undo.cpp:2099</a></div></div>
<div class="ttc" id="classMs_1_1AddElement_html_a2179741699322a5dec8cc748f8132359"><div class="ttname"><a href="classMs_1_1AddElement.html#a2179741699322a5dec8cc748f8132359">Ms::AddElement::name</a></div><div class="ttdeci">virtual const char * name() const override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00771">undo.cpp:771</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ae50d0b620dca99b269dea62ddcf71f5a"><div class="ttname"><a href="classMs_1_1Score.html#ae50d0b620dca99b269dea62ddcf71f5a">Ms::Score::connectTies</a></div><div class="ttdeci">void connectTies(bool silent=false)</div><div class="ttdoc">Rebuild tie connections. </div><div class="ttdef"><b>Definition:</b> <a href="layout_8cpp_source.html#l01427">layout.cpp:1427</a></div></div>
<div class="ttc" id="classMs_1_1InsertPart_html_ad7ed6170c9aacab26ac01f612f80dd32"><div class="ttname"><a href="classMs_1_1InsertPart.html#ad7ed6170c9aacab26ac01f612f80dd32">Ms::InsertPart::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00958">undo.cpp:958</a></div></div>
<div class="ttc" id="classMs_1_1Element_html_a3c37abb86b5dfb5b16fe74155154bab8"><div class="ttname"><a href="classMs_1_1Element.html#a3c37abb86b5dfb5b16fe74155154bab8">Ms::Element::staffIdx</a></div><div class="ttdeci">int staffIdx() const</div><div class="ttdef"><b>Definition:</b> <a href="element_8h_source.html#l00357">element.h:357</a></div></div>
<div class="ttc" id="classMs_1_1RemovePart_html_a8f374515015f35f4da89d91ab7b5297a"><div class="ttname"><a href="classMs_1_1RemovePart.html#a8f374515015f35f4da89d91ab7b5297a">Ms::RemovePart::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00983">undo.cpp:983</a></div></div>
<div class="ttc" id="classMs_1_1ChangeSynthesizerState_html_aaad4a1cd37667b444ea5023693ec81c2"><div class="ttname"><a href="classMs_1_1ChangeSynthesizerState.html#aaad4a1cd37667b444ea5023693ec81c2">Ms::ChangeSynthesizerState::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02301">undo.cpp:2301</a></div></div>
<div class="ttc" id="classMs_1_1Drumset_html"><div class="ttname"><a href="classMs_1_1Drumset.html">Ms::Drumset</a></div><div class="ttdef"><b>Definition:</b> <a href="drumset_8h_source.html#l00068">drumset.h:68</a></div></div>
<div class="ttc" id="classMs_1_1FretDot_html_a5e6edb0f8a023d32fbe21d82c8381961"><div class="ttname"><a href="classMs_1_1FretDot.html#a5e6edb0f8a023d32fbe21d82c8381961">Ms::FretDot::undo</a></div><div class="ttdeci">void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02574">undo.cpp:2574</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a7c3fae86b0c593d95eb2acf44348b425a97e7c9a7d06eac006a28bf05467fcc8b"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a7c3fae86b0c593d95eb2acf44348b425a97e7c9a7d06eac006a28bf05467fcc8b">Ms::UndoCommand::Filter::Link</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_ae31dc0de799c1e206af979e65bf837ab"><div class="ttname"><a href="classMs_1_1Staff.html#ae31dc0de799c1e206af979e65bf837ab">Ms::Staff::part</a></div><div class="ttdeci">Part * part() const</div><div class="ttdef"><b>Definition:</b> <a href="staff_8h_source.html#l00122">staff.h:122</a></div></div>
<div class="ttc" id="classMs_1_1RemoveMStaff_html_a03a40c8b3e37b843290825e1ade5068c"><div class="ttname"><a href="classMs_1_1RemoveMStaff.html#a03a40c8b3e37b843290825e1ade5068c">Ms::RemoveMStaff::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01060">undo.cpp:1060</a></div></div>
<div class="ttc" id="tempotext_8h_html"><div class="ttname"><a href="tempotext_8h.html">tempotext.h</a></div></div>
<div class="ttc" id="classMs_1_1AddExcerpt_html_a7c7d3a057f5542d33872d9c54a9350b5"><div class="ttname"><a href="classMs_1_1AddExcerpt.html#a7c7d3a057f5542d33872d9c54a9350b5">Ms::AddExcerpt::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02016">undo.cpp:2016</a></div></div>
<div class="ttc" id="classMs_1_1ChangeMStaffProperties_html_a852484834c04f91e5e09003cc2ab9726"><div class="ttname"><a href="classMs_1_1ChangeMStaffProperties.html#a852484834c04f91e5e09003cc2ab9726">Ms::ChangeMStaffProperties::stemless</a></div><div class="ttdeci">bool stemless</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00773">undo.h:773</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a7a9fdb8bf36af6e7d9b8468cedd3d079"><div class="ttname"><a href="classMs_1_1Score.html#a7a9fdb8bf36af6e7d9b8468cedd3d079">Ms::Score::setTempo</a></div><div class="ttdeci">void setTempo(Segment *, qreal)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l03605">score.cpp:3605</a></div></div>
<div class="ttc" id="classMs_1_1Segment_html_a37a7c2088621a49ebefcd6f0e1e65da7"><div class="ttname"><a href="classMs_1_1Segment.html#a37a7c2088621a49ebefcd6f0e1e65da7">Ms::Segment::elist</a></div><div class="ttdeci">const std::vector&lt; Element * &gt; &amp; elist() const</div><div class="ttdef"><b>Definition:</b> <a href="segment_8h_source.html#l00123">segment.h:123</a></div></div>
<div class="ttc" id="classMs_1_1Measure_html_aefcfedff89ec29c05617bab601d99e4d"><div class="ttname"><a href="classMs_1_1Measure.html#aefcfedff89ec29c05617bab601d99e4d">Ms::Measure::findChord</a></div><div class="ttdeci">Chord * findChord(Fraction tick, int track)</div><div class="ttdoc">Search for chord at position tick in track. </div><div class="ttdef"><b>Definition:</b> <a href="measure_8cpp_source.html#l00711">measure.cpp:711</a></div></div>
<div class="ttc" id="classMs_1_1TransposeHarmony_html_a07e2b32abc7299308a454d10ffd882a3"><div class="ttname"><a href="classMs_1_1TransposeHarmony.html#a07e2b32abc7299308a454d10ffd882a3">Ms::TransposeHarmony::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01380">undo.cpp:1380</a></div></div>
<div class="ttc" id="namespaceMs_html_ab95780981906efe08587137e6c091e05"><div class="ttname"><a href="namespaceMs.html#ab95780981906efe08587137e6c091e05">Ms::bend</a></div><div class="ttdeci">static const QList&lt; PitchValue &gt; bend</div><div class="ttdef"><b>Definition:</b> <a href="inspectorBend_8cpp_source.html#l00030">inspectorBend.cpp:30</a></div></div>
<div class="ttc" id="classMs_1_1ChangeProperty_html"><div class="ttname"><a href="classMs_1_1ChangeProperty.html">Ms::ChangeProperty</a></div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l01033">undo.h:1033</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a3582dc9e196e1e25bd9ed582fd818fa0"><div class="ttname"><a href="classMs_1_1Score.html#a3582dc9e196e1e25bd9ed582fd818fa0">Ms::Score::removeElement</a></div><div class="ttdeci">void removeElement(Element *)</div><div class="ttdoc">Remove element from its parent. </div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l01449">score.cpp:1449</a></div></div>
<div class="ttc" id="classMs_1_1InsertRemoveMeasures_html_ac882ccd967ebe0c6753db734ca5e416d"><div class="ttname"><a href="classMs_1_1InsertRemoveMeasures.html#ac882ccd967ebe0c6753db734ca5e416d">Ms::InsertRemoveMeasures::getCourtesyClefs</a></div><div class="ttdeci">static std::vector&lt; Clef * &gt; getCourtesyClefs(Measure *m)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01824">undo.cpp:1824</a></div></div>
<div class="ttc" id="key_8h_html"><div class="ttname"><a href="key_8h.html">key.h</a></div></div>
<div class="ttc" id="classMs_1_1UndoMacro_html_a4e544882dded47ad9419efc7e0b334bd"><div class="ttname"><a href="classMs_1_1UndoMacro.html#a4e544882dded47ad9419efc7e0b334bd">Ms::UndoMacro::fillSelectionInfo</a></div><div class="ttdeci">static void fillSelectionInfo(SelectionInfo &amp;, const Selection &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00491">undo.cpp:491</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea88e2a676fbe7a0e18f9c7de14d37ad35"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea88e2a676fbe7a0e18f9c7de14d37ad35">Ms::Sid::MusicalSymbolFont</a></div></div>
<div class="ttc" id="structMs_1_1UndoMacro_1_1SelectionInfo_html_add39161aa4b6773b5955d0107af8dfed"><div class="ttname"><a href="structMs_1_1UndoMacro_1_1SelectionInfo.html#add39161aa4b6773b5955d0107af8dfed">Ms::UndoMacro::SelectionInfo::staffStart</a></div><div class="ttdeci">int staffStart</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00146">undo.h:146</a></div></div>
<div class="ttc" id="classMs_1_1FretBarre_html_ae51fc945b48a570cf2d3198932b1adff"><div class="ttname"><a href="classMs_1_1FretBarre.html#ae51fc945b48a570cf2d3198932b1adff">Ms::FretBarre::undo</a></div><div class="ttdeci">void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02610">undo.cpp:2610</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a3861e93f660f6647290c56dc195f2caf"><div class="ttname"><a href="classMs_1_1Score.html#a3861e93f660f6647290c56dc195f2caf">Ms::Score::deselectAll</a></div><div class="ttdeci">void deselectAll()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00827">score.h:827</a></div></div>
<div class="ttc" id="classMs_1_1MapExcerptTracks_html_ad3a5fcad4aa8a4deedc5c45190d733a9"><div class="ttname"><a href="classMs_1_1MapExcerptTracks.html#ad3a5fcad4aa8a4deedc5c45190d733a9">Ms::MapExcerptTracks::MapExcerptTracks</a></div><div class="ttdeci">MapExcerptTracks(Score *, QList&lt; int &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01098">undo.cpp:1098</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_ab1cc5664f333c87c1ad6d216f612701a"><div class="ttname"><a href="classMs_1_1Score.html#ab1cc5664f333c87c1ad6d216f612701a">Ms::Score::scoreList</a></div><div class="ttdeci">QList&lt; Score * &gt; scoreList()</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8cpp_source.html#l03774">score.cpp:3774</a></div></div>
<div class="ttc" id="classMs_1_1Instrument_html"><div class="ttname"><a href="classMs_1_1Instrument.html">Ms::Instrument</a></div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2instrument_8h_source.html#l00257">instrument.h:257</a></div></div>
<div class="ttc" id="classMs_1_1RemoveElement_html_a1b8619e851d6d59e94d967a8bdc0df23"><div class="ttname"><a href="classMs_1_1RemoveElement.html#a1b8619e851d6d59e94d967a8bdc0df23">Ms::RemoveElement::cleanup</a></div><div class="ttdeci">virtual void cleanup(bool)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00859">undo.cpp:859</a></div></div>
<div class="ttc" id="beam_8h_html"><div class="ttname"><a href="beam_8h.html">beam.h</a></div></div>
<div class="ttc" id="classMs_1_1InsertPart_html_adcbf7e3aa8d3da3c7207bfbfa4bcb2a5"><div class="ttname"><a href="classMs_1_1InsertPart.html#adcbf7e3aa8d3da3c7207bfbfa4bcb2a5">Ms::InsertPart::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00963">undo.cpp:963</a></div></div>
<div class="ttc" id="structMs_1_1UndoMacro_1_1SelectionInfo_html_aaef0e85e3ea853a131c089f70a00a62b"><div class="ttname"><a href="structMs_1_1UndoMacro_1_1SelectionInfo.html#aaef0e85e3ea853a131c089f70a00a62b">Ms::UndoMacro::SelectionInfo::staffEnd</a></div><div class="ttdeci">int staffEnd</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00147">undo.h:147</a></div></div>
<div class="ttc" id="classMs_1_1RemoveStaff_html_af86711c1b1cc42d49966e30507ac924d"><div class="ttname"><a href="classMs_1_1RemoveStaff.html#af86711c1b1cc42d49966e30507ac924d">Ms::RemoveStaff::RemoveStaff</a></div><div class="ttdeci">RemoveStaff(Staff *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01012">undo.cpp:1012</a></div></div>
<div class="ttc" id="classMs_1_1FretBarre_html_a12beec896b642679665137c4f2b03aee"><div class="ttname"><a href="classMs_1_1FretBarre.html#a12beec896b642679665137c4f2b03aee">Ms::FretBarre::redo</a></div><div class="ttdeci">void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02602">undo.cpp:2602</a></div></div>
<div class="ttc" id="classMs_1_1ChangeVelocity_html_a1802930f33645c26c96f1ba0234fa637"><div class="ttname"><a href="classMs_1_1ChangeVelocity.html#a1802930f33645c26c96f1ba0234fa637">Ms::ChangeVelocity::veloType</a></div><div class="ttdeci">Note::ValueType veloType</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00756">undo.h:756</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html_a753b2a15f85c00694be997289b1b9c63"><div class="ttname"><a href="classMs_1_1Selection.html#a753b2a15f85c00694be997289b1b9c63">Ms::Selection::add</a></div><div class="ttdeci">void add(Element *)</div><div class="ttdef"><b>Definition:</b> <a href="select_8cpp_source.html#l00371">select.cpp:371</a></div></div>
<div class="ttc" id="classMs_1_1ScoreElement_html_a2f0ed55c566c19cb483d77250cb52450"><div class="ttname"><a href="classMs_1_1ScoreElement.html#a2f0ed55c566c19cb483d77250cb52450">Ms::ScoreElement::linkList</a></div><div class="ttdeci">QList&lt; ScoreElement * &gt; linkList() const</div><div class="ttdef"><b>Definition:</b> <a href="scoreElement_8cpp_source.html#l00603">scoreElement.cpp:603</a></div></div>
<div class="ttc" id="classMs_1_1System_html_a38215a755206cfd574aab3986d59a11c"><div class="ttname"><a href="classMs_1_1System.html#a38215a755206cfd574aab3986d59a11c">Ms::System::add</a></div><div class="ttdeci">void add(Element *) override</div><div class="ttdef"><b>Definition:</b> <a href="system_8cpp_source.html#l01012">system.cpp:1012</a></div></div>
<div class="ttc" id="classMs_1_1System_html"><div class="ttname"><a href="classMs_1_1System.html">Ms::System</a></div><div class="ttdoc">One row of measures for all instruments; a complete piece of the timeline. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00089">system.h:89</a></div></div>
<div class="ttc" id="classMs_1_1RemoveElement_html_ac4afb55f915155b04047e85d00726fa7"><div class="ttname"><a href="classMs_1_1RemoveElement.html#ac4afb55f915155b04047e85d00726fa7">Ms::RemoveElement::RemoveElement</a></div><div class="ttdeci">RemoveElement(Element *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00826">undo.cpp:826</a></div></div>
<div class="ttc" id="classMs_1_1Score_html"><div class="ttname"><a href="classMs_1_1Score.html">Ms::Score</a></div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l00396">score.h:396</a></div></div>
<div class="ttc" id="classMs_1_1Tuplet_html_a499ca6d7a1cc0da91acd3d7385856172"><div class="ttname"><a href="classMs_1_1Tuplet.html#a499ca6d7a1cc0da91acd3d7385856172">Ms::Tuplet::remove</a></div><div class="ttdeci">void remove(Element *) override</div><div class="ttdef"><b>Definition:</b> <a href="tuplet_8cpp_source.html#l00916">tuplet.cpp:916</a></div></div>
<div class="ttc" id="classMs_1_1RemoveElement_html_a424f53c4df0ac7a004863a7c2947c6f4"><div class="ttname"><a href="classMs_1_1RemoveElement.html#a424f53c4df0ac7a004863a7c2947c6f4">Ms::RemoveElement::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00871">undo.cpp:871</a></div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_ae14cb889d0fda8e14d5e7922e786c38e"><div class="ttname"><a href="classMs_1_1UndoStack.html#ae14cb889d0fda8e14d5e7922e786c38e">Ms::UndoStack::rollback</a></div><div class="ttdeci">void rollback()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00387">undo.cpp:387</a></div></div>
<div class="ttc" id="classMs_1_1ChangeStaffType_html_ae18bdc4f5e79230b9c960e3d028f047e"><div class="ttname"><a href="classMs_1_1ChangeStaffType.html#ae18bdc4f5e79230b9c960e3d028f047e">Ms::ChangeStaffType::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01619">undo.cpp:1619</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_adbc9ce586560a1ca06f83bb38d04c4f0"><div class="ttname"><a href="classMs_1_1UndoCommand.html#adbc9ce586560a1ca06f83bb38d04c4f0">Ms::UndoCommand::appendChildren</a></div><div class="ttdeci">void appendChildren(UndoCommand *)</div><div class="ttdoc">Append children of other into this UndoCommand. </div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00176">undo.cpp:176</a></div></div>
<div class="ttc" id="classMs_1_1ChangeElement_html_a118149ec5b126f31ca1ddc506ea8d239"><div class="ttname"><a href="classMs_1_1ChangeElement.html#a118149ec5b126f31ca1ddc506ea8d239">Ms::ChangeElement::ChangeElement</a></div><div class="ttdeci">ChangeElement(Element *oldElement, Element *newElement)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01200">undo.cpp:1200</a></div></div>
<div class="ttc" id="classMs_1_1RemoveExcerpt_html_ae8a4dee431cd3a55f10b850b36b90333"><div class="ttname"><a href="classMs_1_1RemoveExcerpt.html#ae8a4dee431cd3a55f10b850b36b90333">Ms::RemoveExcerpt::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02034">undo.cpp:2034</a></div></div>
<div class="ttc" id="barline_8h_html"><div class="ttname"><a href="barline_8h.html">barline.h</a></div></div>
<div class="ttc" id="namespaceMs_html_a4c0a2128d0477020d4faf110cc01e3abadce8b0195579ed95a4d3a11e68d89fde"><div class="ttname"><a href="namespaceMs.html#a4c0a2128d0477020d4faf110cc01e3abadce8b0195579ed95a4d3a11e68d89fde">Ms::BracketType::NO_BRACKET</a></div></div>
<div class="ttc" id="classMs_1_1RemoveStaff_html_a5ad5b5e6d89c9a533719bdf02b43a2a2"><div class="ttname"><a href="classMs_1_1RemoveStaff.html#a5ad5b5e6d89c9a533719bdf02b43a2a2">Ms::RemoveStaff::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01023">undo.cpp:1023</a></div></div>
<div class="ttc" id="namespaceMs_html_a648f4838572625fde50cc6fcaf8cac05"><div class="ttname"><a href="namespaceMs.html#a648f4838572625fde50cc6fcaf8cac05">Ms::propertyName</a></div><div class="ttdeci">const char * propertyName(Pid id)</div><div class="ttdef"><b>Definition:</b> <a href="property_8cpp_source.html#l00408">property.cpp:408</a></div></div>
<div class="ttc" id="namespaceMs_html_a30f39f7eefef5cf5e7f7e97fec483254"><div class="ttname"><a href="namespaceMs.html#a30f39f7eefef5cf5e7f7e97fec483254">Ms::removeNote</a></div><div class="ttdeci">static void removeNote(const Note *note)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00807">undo.cpp:807</a></div></div>
<div class="ttc" id="libmscore_2excerpt_8h_html"><div class="ttname"><a href="libmscore_2excerpt_8h.html">excerpt.h</a></div></div>
<div class="ttc" id="classMs_1_1Unlink_html_a0cba652de95cad57b7b2a5cdc66882e5"><div class="ttname"><a href="classMs_1_1Unlink.html#a0cba652de95cad57b7b2a5cdc66882e5">Ms::Unlink::Unlink</a></div><div class="ttdeci">Unlink(ScoreElement *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02518">undo.cpp:2518</a></div></div>
<div class="ttc" id="namespaceMs_html_ae95dea350de4a3014dbcbcfe9a6a75dcafe617927f45d26bbaf17fc0e288066f8"><div class="ttname"><a href="namespaceMs.html#ae95dea350de4a3014dbcbcfe9a6a75dcafe617927f45d26bbaf17fc0e288066f8">Ms::LayoutFlag::FIX_PITCH_VELO</a></div></div>
<div class="ttc" id="classMs_1_1Score_html_a0932d7d5757a579bcf9cfc2f8892fcd8"><div class="ttname"><a href="classMs_1_1Score.html#a0932d7d5757a579bcf9cfc2f8892fcd8">Ms::Score::setPageNumberOffset</a></div><div class="ttdeci">void setPageNumberOffset(int v)</div><div class="ttdef"><b>Definition:</b> <a href="libmscore_2score_8h_source.html#l01092">score.h:1092</a></div></div>
<div class="ttc" id="classMs_1_1CloneVoice_html_a1f987d0f303c266b5f1fcebde0d21af3"><div class="ttname"><a href="classMs_1_1CloneVoice.html#a1f987d0f303c266b5f1fcebde0d21af3">Ms::CloneVoice::undo</a></div><div class="ttdeci">virtual void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00589">undo.cpp:589</a></div></div>
<div class="ttc" id="classMs_1_1Selection_html"><div class="ttname"><a href="classMs_1_1Selection.html">Ms::Selection</a></div><div class="ttdef"><b>Definition:</b> <a href="select_8h_source.html#l00142">select.h:142</a></div></div>
<div class="ttc" id="classMs_1_1RemoveStaves_html_a889cd3c14239eb001427fa4879b9a169"><div class="ttname"><a href="classMs_1_1RemoveStaves.html#a889cd3c14239eb001427fa4879b9a169">Ms::RemoveStaves::RemoveStaves</a></div><div class="ttdeci">RemoveStaves(Measure *, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01280">undo.cpp:1280</a></div></div>
<div class="ttc" id="classMs_1_1Note_html_a8aabb10d91e08035ebe0f9cbc6d55729"><div class="ttname"><a href="classMs_1_1Note.html#a8aabb10d91e08035ebe0f9cbc6d55729">Ms::Note::addSpannerFor</a></div><div class="ttdeci">void addSpannerFor(Spanner *e)</div><div class="ttdef"><b>Definition:</b> <a href="note_8h_source.html#l00491">note.h:491</a></div></div>
<div class="ttc" id="tuplet_8h_html"><div class="ttname"><a href="tuplet_8h.html">tuplet.h</a></div></div>
<div class="ttc" id="classMs_1_1MeasureBase_html_ada587f42a4bbfc3e8321e4ce22c9febc"><div class="ttname"><a href="classMs_1_1MeasureBase.html#ada587f42a4bbfc3e8321e4ce22c9febc">Ms::MeasureBase::nextMeasure</a></div><div class="ttdeci">Ms::Measure * nextMeasure() const</div><div class="ttdef"><b>Definition:</b> <a href="measurebase_8cpp_source.html#l00198">measurebase.cpp:198</a></div></div>
<div class="ttc" id="classMs_1_1UndoCommand_html_a42a2038f903e77e6bb5881209b764186"><div class="ttname"><a href="classMs_1_1UndoCommand.html#a42a2038f903e77e6bb5881209b764186">Ms::UndoCommand::undo</a></div><div class="ttdeci">virtual void undo(EditData *)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00145">undo.cpp:145</a></div></div>
<div class="ttc" id="classMs_1_1Staff_html_a53f34460b77bf35d48ef85a7bc99295e"><div class="ttname"><a href="classMs_1_1Staff.html#a53f34460b77bf35d48ef85a7bc99295e">Ms::Staff::removeKey</a></div><div class="ttdeci">void removeKey(const Fraction &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="staff_8cpp_source.html#l00581">staff.cpp:581</a></div></div>
<div class="ttc" id="classMs_1_1SpannerSegment_html"><div class="ttname"><a href="classMs_1_1SpannerSegment.html">Ms::SpannerSegment</a></div><div class="ttdoc">parent: System </div><div class="ttdef"><b>Definition:</b> <a href="spanner_8h_source.html#l00035">spanner.h:35</a></div></div>
<div class="ttc" id="namespaceMs_html_a2bac757437d1a9e364db27de8f9c9e2ea13cb8b0551e95d5ebbe61654963ddd9a"><div class="ttname"><a href="namespaceMs.html#a2bac757437d1a9e364db27de8f9c9e2ea13cb8b0551e95d5ebbe61654963ddd9a">Ms::Sid::defaultsVersion</a></div></div>
<div class="ttc" id="classMs_1_1FretMarker_html_a3915e8bf1aa6df779c60ae21c668f927"><div class="ttname"><a href="classMs_1_1FretMarker.html#a3915e8bf1aa6df779c60ae21c668f927">Ms::FretMarker::redo</a></div><div class="ttdeci">void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02584">undo.cpp:2584</a></div></div>
<div class="ttc" id="classMs_1_1RemoveMStaff_html_af3c8efc87a6541457092da7c5046c848"><div class="ttname"><a href="classMs_1_1RemoveMStaff.html#af3c8efc87a6541457092da7c5046c848">Ms::RemoveMStaff::RemoveMStaff</a></div><div class="ttdeci">RemoveMStaff(Measure *, MStaff *, int)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01053">undo.cpp:1053</a></div></div>
<div class="ttc" id="staff_8h_html"><div class="ttname"><a href="staff_8h.html">staff.h</a></div><div class="ttdoc">Definition of class Staff. </div></div>
<div class="ttc" id="classMs_1_1UndoStack_html_a733105ff8d0961eaa78678373596e963"><div class="ttname"><a href="classMs_1_1UndoStack.html#a733105ff8d0961eaa78678373596e963">Ms::UndoStack::reopen</a></div><div class="ttdeci">void reopen()</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00428">undo.cpp:428</a></div></div>
<div class="ttc" id="classMs_1_1AddElement_html_ab566b98941c1a39f956b6eecc51f5bf8"><div class="ttname"><a href="classMs_1_1AddElement.html#ab566b98941c1a39f956b6eecc51f5bf8">Ms::AddElement::undo</a></div><div class="ttdeci">void undo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l00749">undo.cpp:749</a></div></div>
<div class="ttc" id="classMs_1_1ChordRest_html"><div class="ttname"><a href="classMs_1_1ChordRest.html">Ms::ChordRest</a></div><div class="ttdef"><b>Definition:</b> <a href="chordrest_8h_source.html#l00049">chordrest.h:49</a></div></div>
<div class="ttc" id="structMs_1_1UndoMacro_1_1SelectionInfo_html_ae4c2cd7e94b48ba8f4354e252a8618ac"><div class="ttname"><a href="structMs_1_1UndoMacro_1_1SelectionInfo.html#ae4c2cd7e94b48ba8f4354e252a8618ac">Ms::UndoMacro::SelectionInfo::elements</a></div><div class="ttdeci">std::vector&lt; Element * &gt; elements</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00143">undo.h:143</a></div></div>
<div class="ttc" id="classMs_1_1Tremolo_html_ae23f822657ab2477a8ad0d203e44569f"><div class="ttname"><a href="classMs_1_1Tremolo.html#ae23f822657ab2477a8ad0d203e44569f">Ms::Tremolo::setChords</a></div><div class="ttdeci">void setChords(Chord *c1, Chord *c2)</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8h_source.html#l00089">tremolo.h:89</a></div></div>
<div class="ttc" id="classMs_1_1SwapExcerpt_html_a27633ab5f058aa66a3a9ee58f44305d3"><div class="ttname"><a href="classMs_1_1SwapExcerpt.html#a27633ab5f058aa66a3a9ee58f44305d3">Ms::SwapExcerpt::flip</a></div><div class="ttdeci">void flip(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02052">undo.cpp:2052</a></div></div>
<div class="ttc" id="classMs_1_1ChangePitch_html_ac3d9031c142edba1a0714ebeecaf5b58"><div class="ttname"><a href="classMs_1_1ChangePitch.html#ac3d9031c142edba1a0714ebeecaf5b58">Ms::ChangePitch::ChangePitch</a></div><div class="ttdeci">ChangePitch(Note *note, int pitch, int tpc1, int tpc2)</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l01129">undo.cpp:1129</a></div></div>
<div class="ttc" id="classMs_1_1AddBracket_html_a3c1ca15daf7eed34bd902a36e6466f6b"><div class="ttname"><a href="classMs_1_1AddBracket.html#a3c1ca15daf7eed34bd902a36e6466f6b">Ms::AddBracket::redo</a></div><div class="ttdeci">virtual void redo(EditData *) override</div><div class="ttdef"><b>Definition:</b> <a href="undo_8cpp_source.html#l02306">undo.cpp:2306</a></div></div>
<div class="ttc" id="classMs_1_1ChangeKeySig_html_a82f9f0df1aad187b109de765ac2efb0d"><div class="ttname"><a href="classMs_1_1ChangeKeySig.html#a82f9f0df1aad187b109de765ac2efb0d">Ms::ChangeKeySig::showCourtesy</a></div><div class="ttdeci">bool showCourtesy</div><div class="ttdef"><b>Definition:</b> <a href="undo_8h_source.html#l00414">undo.h:414</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
